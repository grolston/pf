(()=>{"use strict";const n=require("@aws-sdk/client-sts"),e=require("@aws-sdk/client-organizations"),a=require("@aws-sdk/client-iam"),o=require("@aws-sdk/client-cloudformation"),i=require("@aws-sdk/client-sso-admin"),c=require("@aws-sdk/client-ec2"),t=require("@aws-sdk/client-cloudtrail"),s=require("@aws-sdk/client-config-service"),r=require("@aws-sdk/client-controltower"),l=require("@aws-sdk/client-cost-and-usage-report-service");var d,p;async function u(n,e,a){return`${e} - Task ${n} - Deploy top-level OU ${a}.`}async function S(n,e,a){return`${e} - Task ${n} - Remove IAM user ${a}`}async function y(n,e,a,o){return`${e} - Task ${n} - Remove IAM user ${a} API key: ${o}`}async function f(n,e,a){return`${e} - Task ${n} - Delete VPC in the ${a} region.`}async function g(n,e,a){return`${e} - Task ${n} - Delete VPC in the ${a} region.`}async function A(n,e,a){return`${e} - Task ${n} - Enable the AWS service ${a} within your AWS Organization`}async function F(n,e,a){return`${e} - Task ${n} - Delegate the AWS service ${a} within your AWS Organization to a member account`}!function(n){n[n["Management Account"]=0]="Management Account",n[n.Governance=1]="Governance",n[n["Financial Management"]=2]="Financial Management",n[n["Multi-Account Strategy"]=3]="Multi-Account Strategy",n[n["Landing Zone"]=4]="Landing Zone",n[n.Identity=5]="Identity",n[n.Security=6]="Security",n[n.Network=7]="Network",n[n.Observability=8]="Observability",n[n["Backup and Recovery"]=9]="Backup and Recovery"}(d||(d={})),function(n){n[n.Workloads=0]="Workloads",n[n.Security=1]="Security",n[n.Transitional=2]="Transitional",n[n.Suspended=3]="Suspended",n[n.Exceptions=4]="Exceptions"}(p||(p={}));const w=require("fs");(async()=>{const d="./Pathfinder.txt";let p=new Date;const m=process.env.AWS_REGION||"us-east-1",C=await async function(){const n=new c.EC2Client({region:"us-east-1"});try{const e=new c.DescribeRegionsCommand({}),a=await n.send(e),o=[];for(const n of a.Regions||[])o.push(n.RegionName||"");return o}catch(n){return console.error("Error retrieving regions:",n),[]}finally{n.destroy()}}();console.log("Discovering your AWS environment....");const E=await(async a=>{const o=new e.OrganizationsClient({region:a});let i=!1,c=!1;try{const t=await async function(e){const a=new n.STSClient({region:e});try{const e=new n.GetCallerIdentityCommand({});return(await a.send(e)).Account}catch(n){throw console.error("Error getting account ID:",n),n}}(a);if(t){const n=new e.DescribeOrganizationCommand({}),a=await o.send(n);if(a.Organization?.MasterAccountId){const n=a.Organization?.MasterAccountId;n==t?(c=!0,i=!0):i=!0}else i=!1}}catch(n){console.error("Error:",n)}finally{o.destroy()}return{isInOrganization:i,isManagementAccount:c}})(m);w.writeFileSync(d,"Cloud Foundations - Pathfinder"),w.appendFileSync(d,`\nGenerated on: ${p.toUTCString()} \n\n`),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n                   MANAGEMENT ACCOUNT"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS ACCOUNT TYPE\n"),E&&(console.dir(E,{depth:null,colors:!0}),w.appendFileSync(d,`\n  Is in AWS Organization: ${E.isInOrganization}`),w.appendFileSync(d,`\n  Assessing AWS Management Account: ${E.isManagementAccount}`)),console.log("Discovering IAM Users....");const I=await(async()=>{const n=new a.IAMClient({region:"us-east-1"}),e=[];try{const o=new a.ListUsersCommand({}),i=await n.send(o);for(const o of i.Users||[]){const i=o.UserName||"",c=new a.ListAccessKeysCommand({UserName:i}),t=(await n.send(c)).AccessKeyMetadata||[];if(t.length>0)for(const o of t){const c=o.AccessKeyId||"",t=new a.GetAccessKeyLastUsedCommand({AccessKeyId:c}),s=await n.send(t),r={userName:i,accessKeyId:c,lastUsed:s&&s.AccessKeyLastUsed&&`${s.AccessKeyLastUsed.LastUsedDate}`||"Not available"};e.push(r)}else{const n={userName:i};e.push(n)}}}catch(n){console.error("Error:",n)}finally{n.destroy()}return e})();if(w.appendFileSync(d,"\n\nIAM USERS CHECK\n"),I&&I.length>0){console.dir(I,{depth:null,colors:!0});for(const n of I)w.appendFileSync(d,`\n  IAM User: ${n.userName}`),n.accessKeyId&&w.appendFileSync(d,`\n    User API Key ID: ${n.accessKeyId}`),w.appendFileSync(d,"\n")}else w.appendFileSync(d,"\n  No IAM Users found.");console.log("Discovering EC2 instances across all AWS Regions....");const N=await async function(n){let e=[];for(const a of n){const n=new c.EC2Client({region:a}),o=new c.DescribeInstancesCommand({});try{const i=await n.send(o);if(i.Reservations)if(i.Reservations.length>0){const n={region:a,ec2Found:!0};e.push(n)}else{const n={region:a,ec2Found:!1};e.push(n)}else{const n={region:a,ec2Found:!1};e.push(n)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(C);if(w.appendFileSync(d,"\n\nEC2 INSTANCE CHECK\n"),N&&N.find((n=>!0===n.ec2Found))){console.dir(N,{depth:null,colors:!0});for(const n of N)n.ec2Found&&w.appendFileSync(d,`\n  ${n.region} - found EC2 Instance(s).`)}else w.appendFileSync(d,"\n  No EC2 instances found.");console.log("Discovering VPCs across all AWS Regions....");const O=await async function(n){let e=[];for(const a of n){const n=new c.EC2Client({region:a}),o=new c.DescribeVpcsCommand({});try{const i=await n.send(o);if(i.Vpcs)if(i.Vpcs.length>0){const n={region:a,vpcFound:!0};e.push(n)}else{const n={region:a,vpcFound:!1};e.push(n)}else{const n={region:a,vpcFound:!1};e.push(n)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(C);if(w.appendFileSync(d,"\n\nVPC CHECK\n"),O&&O.length>0){console.dir(O,{depth:null,colors:!0});for(const n of O)n.vpcFound&&w.appendFileSync(d,`\n  ${n.region} - found VPC(s).`)}else w.appendFileSync(d,"\n  No VPCs found.");console.log("Discovering AWS Config configurations across all AWS Regions....");const T=await async function(n){let e=[];for(const a of n){const n=new t.CloudTrailClient({region:a}),o=new t.DescribeTrailsCommand({});try{const i=await n.send(o);if(i.trailList)for(const n of i.trailList){let o={};o=n.HomeRegion==a?{region:a,trailFound:!0,isOrgTrail:n.IsMultiRegionTrail,isMultiRegion:n.IsMultiRegionTrail}:{region:a,trailFound:!1},e.push(o)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(C),$=await async function(n){let e=[];for(const a of n){const n=new s.ConfigServiceClient({region:a});let o={region:a,configRecorderFound:!1,configDeliveryChannelFound:!1};try{const a=await n.send(new s.DescribeConfigurationRecorderStatusCommand({}));0!==a.ConfigurationRecordersStatus?.length&&(o.configRecorderFound=!0);const i=await n.send(new s.DescribeDeliveryChannelsCommand({}));0!==i.DeliveryChannels?.length&&(o.configDeliveryChannelFound=!0),e.push(o)}catch(n){console.error(`Error checking AWS Config in ${a}:`,n)}finally{n.destroy()}}return e}(C);if(w.appendFileSync(d,"\n\nAWS CONFIG CHECK\n"),$&&$.find((n=>!0===n.configRecorderFound))){console.dir($,{depth:null,colors:!0});for(const n of $)n.configRecorderFound&&w.appendFileSync(d,`\n  ${n.region} - Config Recorder found`),n.configDeliveryChannelFound&&w.appendFileSync(d,`\n  ${n.region} - Config Delivery Channel found`)}else w.appendFileSync(d,"\n  No AWS Config resource discovered");if(E.isInOrganization&&E.isManagementAccount){const n=await async function(n){const a=new e.OrganizationsClient({region:n});let o={};try{const n=new e.DescribeOrganizationCommand({}),i=await a.send(n);i.Organization&&(o.id=i.Organization.Id??"",o.arn=i.Organization.Arn??"");const c=new e.ListRootsCommand({}),t=await a.send(c);t.Roots?o.rootOuId=t.Roots[0].Id:console.log("No info found for your AWS Organization.")}catch(n){console.error(`An error occurred: ${n}`)}finally{return a.destroy(),o}}("us-east-1");console.dir(n,{depth:null,colors:!0});const a=await(async n=>{const e=new l.CostAndUsageReportServiceClient({region:n});let a=!1;try{const n={},o=new l.DescribeReportDefinitionsCommand(n),i=await e.send(o);return i.ReportDefinitions&&i.ReportDefinitions.length>0&&(a=!0),{isLegacyCurSetup:a}}catch(n){return console.error(`Error: ${n}`),a=!1,{isLegacyCurSetup:a}}finally{e.destroy()}})("us-east-1"),c=await async function(n){const a=new e.OrganizationsClient({region:n});let o={scpEnabled:!1,tagPolicyEnabled:!1,backupPolicyEnabled:!1};try{const n={},i=new e.ListRootsCommand(n),c=await a.send(i);if(c.Roots&&c.Roots[0].PolicyTypes)for(const n of c.Roots[0].PolicyTypes)"SERVICE_CONTROL_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.scpEnabled=!0),"TAG_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.tagPolicyEnabled=!0),"BACKUP_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.backupPolicyEnabled=!0)}catch(n){console.error(`An error occurred: ${n}`)}finally{return a.destroy(),o}}("us-east-1");console.dir(c,{depth:null,colors:!0});const t=await async function(n){const a=[],o=new e.OrganizationsClient({region:n});try{const n=new e.ListAWSServiceAccessForOrganizationCommand({}),i=await o.send(n);if(i.EnabledServicePrincipals&&i.EnabledServicePrincipals.length>0){i.EnabledServicePrincipals;for(const n of i.EnabledServicePrincipals){const e={service:n.ServicePrincipal??""};a.push(e)}}}catch(n){console.error("Error checking service access:",n)}finally{return o.destroy(),a}}("us-east-1");console.dir(t,{depth:null,colors:!0});const s=await async function(n){let e={status:"disabled"};const a=new o.CloudFormationClient({region:n});try{const n={},i=new o.DescribeOrganizationsAccessCommand(n),c=await a.send(i);e.status=c.Status??"disabled"}catch(n){console.log(`Error: ${n}`)}finally{return a.destroy(),e}}(m);console.dir(s,{depth:null,colors:!0});const p=await async function(n){let e={};const a=new r.ControlTowerClient({region:n});try{const n=new r.ListLandingZonesCommand({}),o=await a.send(n);if(console.log(JSON.stringify(o.landingZones,null,2)),o.landingZones&&o.landingZones.length>0){const n={landingZoneIdentifier:o.landingZones[0].arn},a=o.landingZones[0].arn?.toString().split(":")[3]??"";if(a){e.controlTowerRegion=a;const o=new r.ControlTowerClient({region:a}),i=new r.GetLandingZoneCommand(n),c=await o.send(i);c.landingZone&&(console.log(JSON.stringify(c.landingZone,null,2)),e.status=c.landingZone.status,e.latestAvailableVersion=c.landingZone.latestAvailableVersion,e.deployedVersion=c.landingZone.version,e.driftStatus=c.landingZone.driftStatus?.status)}}}catch(e){console.error(`Error checking Control Tower in ${n}:`,e)}finally{a.destroy()}return e}(m),E=await async function(n){let e={found:!1};for(const a of n){const n=new i.SSOAdminClient({region:a});try{const o={MaxResults:Number("100")},c=new i.ListInstancesCommand(o),t=await n.send(c);if(t.Instances&&t.Instances.length>0){const n=t.Instances[0];e.found=!0,e.region=a,e.arn=n.InstanceArn,e.id=n.IdentityStoreId;break}}catch(n){console.log(`Error looking for AWS Identity Center details in region ${a}`)}finally{n.destroy()}}return e}(C);console.dir(E,{depth:null,colors:!0});const $=await async function(){let n=[];const a=new e.OrganizationsClient({region:"us-east-1"});let o={};try{const i=new e.ListDelegatedAdministratorsCommand({}),c=await a.send(i);if(c.DelegatedAdministrators)for(const i of c.DelegatedAdministrators){const c={AccountId:i.Id},t=new e.ListDelegatedServicesForAccountCommand(c),s=await a.send(t);s.DelegatedServices&&(o={services:s.DelegatedServices,accountName:i.Name},n.push(o))}}catch(n){console.log("Error looking for delegated services.")}finally{a.destroy()}return n}();console.dir($,{depth:null,colors:!0});const R=await async function(){let n=[];const a=new e.OrganizationsClient({region:"us-east-1"});try{const o=await a.send(new e.ListAccountsCommand({}));if(o.Accounts&&o.Accounts.length>0)for(const e of o.Accounts){let a={accountName:e.Name,accountEmail:e.Email};n.push(a)}}catch(n){console.error("Error listing AWS accounts:",n)}finally{a.destroy()}return n}();console.dir(R,{depth:null,colors:!0}),w.appendFileSync(d,"\n\nMANAGEMENT ACCOUNT RECOMMENDED TASKS:");let h=1;const v="Management Account";if(I&&I.length>0)for(const n of I){const e=await S(h,v,n.userName);if(w.appendFileSync(d,`\n  ${e}`),h++,n.accessKeyId){const e=await y(h,v,n.userName,n.accessKeyId);w.appendFileSync(d,`\n  ${e}`),h++}}if(N&&N.find((n=>!0===n.ec2Found)))for(const n of N)if(n.ec2Found&&n.region){const e=await g(h,v,n.region);w.appendFileSync(d,`\n  ${e}`),h++}if(O&&O.length>0)for(const n of O)if(n.vpcFound&&n.region){const e=await f(h,v,n.region);w.appendFileSync(d,`\n  ${e}`),h++}if(w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    GOVERNANCE"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS ORGANIZATION POLICY TYPES\n"),w.appendFileSync(d,`\n  Service Control Policies (SCP) enabled: ${c.scpEnabled}`),w.appendFileSync(d,`\n  Tag Policies enabled: ${c.tagPolicyEnabled}`),w.appendFileSync(d,`\n  Backup Policies enabled: ${c.backupPolicyEnabled}`),w.appendFileSync(d,"\n\nAWS ORGANIZATION CLOUDFORMATION\n"),w.appendFileSync(d,`\n  AWS CloudFormation Organization stack sets status : ${s.status}`),w.appendFileSync(d,"\n\nCLOUDTRAIL CHECK\n"),T&&T.length>0){console.dir(T,{depth:null,colors:!0});for(const n of T)n.trailFound&&(w.appendFileSync(d,`\n  CloudTrail found in ${n.region}`),w.appendFileSync(d,`\n    Is Organization Trail: ${n.isOrgTrail}`),w.appendFileSync(d,`\n    Is MultiRegion: ${n.isMultiRegion}`),w.appendFileSync(d,"\n"))}else w.appendFileSync(d,"\n  No AWS CloudTrail resource discovered");w.appendFileSync(d,"\n\nGOVERNANCE SERVICES ENABLED IN AWS ORGANIZATION:\n"),t.find((n=>"cloudtrail.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS CloudTrail"),t.find((n=>"config.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS Config"),w.appendFileSync(d,"\n\nGOVERNANCE RECOMMENDED TASKS:");const D="Governance";let z=1;if(!t.find((n=>"cloudtrail.amazonaws.com"===n.service))){const n=await A(z,D,"AWS CloudTrail");w.appendFileSync(d,`\n  ${n}`),z++}if(!t.find((n=>"config.amazonaws.com"===n.service))){const n=await A(z,D,"AWS Config");w.appendFileSync(d,`\n  ${n}`),z++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                FINANCIAL MANAGEMENT"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nLegacy CUR"),w.appendFileSync(d,`\n  Is legacy CUR setup: ${a.isLegacyCurSetup}`),w.appendFileSync(d,"\n\nCLOUD FINANCIAL MANAGEMENT RECOMMENDED TASKS:");let W=1;const M="Cloud Financial Management";if(!a.isLegacyCurSetup){const n=await async function(n,e){return`${e} - Task ${n} - Enable and create a Cost and Utilization Report (CUR) in the billing console.`}(W,M);w.appendFileSync(d,`\n  ${n}`)}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                MULTI-ACCOUNT STRATEGY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS ORGANIZATION DETAILS\n"),w.appendFileSync(d,`\n  AWS Organization Id: ${n.id}`),w.appendFileSync(d,`\n  AWS Organization ARN: ${n.arn}`),w.appendFileSync(d,`\n  AWS Organization Root OU Id: ${n.rootOuId}`),w.appendFileSync(d,"\n\nAWS ORGANIZATION CLOUDFORMATION\n"),w.appendFileSync(d,`\n  AWS CloudFormation Organization stack sets status : ${s.status}`);let L,b,P,k=!1;if(n.rootOuId){const a=await async function(n,a){const o=new e.OrganizationsClient({region:n});let i=[];try{const n=new e.ListOrganizationalUnitsForParentCommand({ParentId:a}),c=await o.send(n);if(c.OrganizationalUnits)for(const n of c.OrganizationalUnits){let a={id:n.Id,name:n.Name};const c=await o.send(new e.ListAccountsForParentCommand({ParentId:n.Id}));c.Accounts&&c.Accounts.length>0&&(a.accounts=c.Accounts),i.push(a)}}catch(n){return console.error("Error checking service access:",n),[]}finally{o.destroy()}return i}("us-east-1",n.rootOuId);if(console.dir(a,{depth:null,colors:!0}),w.appendFileSync(d,"\n\nAWS ORGANIZATION TOP-LEVEL ORGANIZATION UNITS\n"),w.appendFileSync(d,"\n  List of Organization's top-level OUs and AWS accounts:"),a&&a.length>0)for(const n of a)if("suspended"===n.name?.toLowerCase()&&(b=!0),"transitional"===n.name?.toLowerCase()&&(L=!0),"workloads"===n.name?.toLowerCase()&&(P=!0),"security"===n.name?.toLowerCase()&&(k=!0),w.appendFileSync(d,`\n    Organizational Unit: ${n.name}`),w.appendFileSync(d,`\n      Organizational Unit Id: ${n.id}`),n.accounts&&n.accounts.length>0){w.appendFileSync(d,"\n      AWS Accounts:");for(const e of n.accounts)w.appendFileSync(d,`\n        ${e.Name}`);w.appendFileSync(d,"\n")}else w.appendFileSync(d,"\n      AWS Accounts: None"),w.appendFileSync(d,"\n");else w.appendFileSync(d,"\n  No top level OUs found.")}if(w.appendFileSync(d,"\n\nAWS ORGANIZATION MEMBER ACCOUNTS\n"),R&&R.length>0)for(const n of R)w.appendFileSync(d,`\n  Account: ${n.accountName}`),w.appendFileSync(d,`\n  Account Email: ${n.accountEmail}\n`);else w.appendFileSync(d,"No member accounts found which is amazing as this is running from one.");w.appendFileSync(d,"\n\nAWS ORGANIZATION ENABLED SERVICES\n"),w.appendFileSync(d,"\n  The following AWS Services are enabled within your AWS Organization:");for(const n of t)w.appendFileSync(d,`\n    ${n.service}`);let U=!1,G=!1,K=!1,V=!1,Z=!1,B=!1,Y=!1,q=!1,H=!1;if(w.appendFileSync(d,"\n\nAWS ORGANIZATION INTEGRATED SERVICE REGISTERED DELEGATED ADMINS\n"),$&&$.length>0)for(const n of $){if(w.appendFileSync(d,`\n  Account: ${n.accountName}`),n.services&&n.services.length>0){w.appendFileSync(d,"\n  Delegated Services:");for(const e of n.services)w.appendFileSync(d,`\n    ${e.ServicePrincipal}`),"securityhub.amazonaws.com"===e.ServicePrincipal&&(G=!0),"guardduty.amazonaws.com"===e.ServicePrincipal&&(K=!0),"sso.amazonaws.com"===e.ServicePrincipal&&(U=!0),"config.amazonaws.com"===e.ServicePrincipal&&(V=!0),"access-analyzer.amazonaws.com"===e.ServicePrincipal&&(Z=!0),"storage-lens.s3.amazonaws.com"===e.ServicePrincipal&&(B=!0),"ipam.amazonaws.com"===e.ServicePrincipal&&(Y=!0),"account.amazonaws.com"===e.ServicePrincipal&&(q=!0),"backup.amazonaws.com"===e.ServicePrincipal&&(H=!0)}w.appendFileSync(d,"\n ")}else w.appendFileSync(d,"\n  No delegated admin accounts in AWS Organization");w.appendFileSync(d,"\n\nMULTI-ACCOUNT STRATEGY RECOMMENDED TASKS:");let x=1,_="Multi-Account Strategy";const J=await async function(n,e){return`${e} - Task ${n} - Review and validate your email addresses and email domains for the root user administrator for the account is up to date.`}(x,_);if(w.appendFileSync(d,`\n  ${J}`),x++,!L){const n=await u(x,_,"Transitional");w.appendFileSync(d,`\n  ${n}`),x++}if(!b){const n=await u(x,_,"Suspended");w.appendFileSync(d,`\n  ${n}`),x++}if(!P){const n=await u(x,_,"Workloads");w.appendFileSync(d,`\n  ${n}`),x++}if(!k){const n=await u(x,_,"Security");w.appendFileSync(d,`\n  ${n}`),x++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                  LANDING ZONE"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS CONTROL TOWER\n"),p.controlTowerRegion?(console.dir(p,{depth:null,colors:!0}),w.appendFileSync(d,`\n  Control Tower home region: ${p.controlTowerRegion}`),w.appendFileSync(d,`\n  Control Tower status: ${p.status}`),w.appendFileSync(d,`\n  Control Tower Landing Zone version: ${p.deployedVersion}`),w.appendFileSync(d,`\n  Latest available version: ${p.latestAvailableVersion}`),w.appendFileSync(d,`\n  Drift Status: ${p.driftStatus}`)):w.appendFileSync(d,"\n  AWS Control Tower is not deployed in the AWS Organization"),w.appendFileSync(d,"\n\nLANDING ZONE RECOMMENDED TASKS:");let j=1;const Q="Landing Zone";if(void 0===p.controlTowerRegion){const n=await async function(n,e){return`${e} - Task ${n} - Deploy AWS Control Tower in your home AWS Region.`}(j,Q);w.appendFileSync(d,`\n  ${n}`),j++}if("DRIFTED"===p.driftStatus){const n=await async function(n,e){return`${e} - Task ${n} - Fix drift in deployed landing zone.`}(j,Q);w.appendFileSync(d,`\n  ${n}`),j++}if(p.deployedVersion!==p.latestAvailableVersion){const n=p.deployedVersion??"",e=p.latestAvailableVersion??"",a=await async function(n,e,a,o){return`${e} - Task ${n} - Update your AWS Control Tower Landing Zone from ${a} to ${o}.`}(j,Q,n,e);w.appendFileSync(d,`\n  ${a}`),j++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    IDENTITY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS IAM IDENTITY CENTER\n"),w.appendFileSync(d,`\n  IdC Region: ${E.region}`),w.appendFileSync(d,`\n  IdC ARN: ${E.arn}`),w.appendFileSync(d,`\n  IdC Instance Id: ${E.id}`),w.appendFileSync(d,"\n\nIDENTITY RECOMMENDED TASKS:");let X=1;const nn="Identity";if(!t.find((n=>"sso.amazonaws.com"===n.service))){const n=await A(X,nn,"AWS IAM Identity Center");w.appendFileSync(d,`\n  ${n}`),X++}if(!U){const n=await F(X,nn,"AWS IAM Identity Center");w.appendFileSync(d,`\n  ${n}`),X++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    SECURITY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS SECURITY SERVICES ENABLED IN AWS ORGANIZATION:\n"),t.find((n=>"guardduty.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS GuardDuty"),t.find((n=>"securityhub.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS Security Hub"),t.find((n=>"access-analyzer.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  IAM Access Analyzer"),t.find((n=>"macie.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  Macie"),t.find((n=>"storage-lens.s3.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  Amazon S3 Storage Lens"),t.find((n=>"inspector2.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  Amazon Inspector"),t.find((n=>"cloudtrail.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS CloudTrail"),t.find((n=>"config.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS Config"),w.appendFileSync(d,"\n\nSECURITY RECOMMENDED TASKS:");let en=1;const an="Security";if(!t.find((n=>"guardduty.amazonaws.com"===n.service))){const n=await A(en,an,"AWS GuardDuty");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"securityhub.amazonaws.com"===n.service))){const n=await A(en,an,"AWS SecurityHub");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"access-analyzer.amazonaws.com"===n.service))){const n=await A(en,an,"AWS IAM Access Analyzer");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"cloudtrail.amazonaws.com"===n.service))){const n=await A(en,an,"AWS CloudTrail");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"config.amazonaws.com"===n.service))){const n=await A(en,an,"AWS Config");w.appendFileSync(d,`\n  ${n}`),en++}if(!G){const n=await F(en,an,"Security Hub");w.appendFileSync(d,`\n  ${n}`),en++}if(!K){const n=await F(en,an,"GuardDuty");w.appendFileSync(d,`\n  ${n}`),en++}if(!V){const n=await F(en,an,"AWS Config");w.appendFileSync(d,`\n  ${n}`),en++}if(!Z){const n=await F(en,an,"AWS IAM Access Analyzer");w.appendFileSync(d,`\n  ${n}`),en++}if(!B){const n=await F(en,an,"S3 Storage Lens");w.appendFileSync(d,`\n  ${n}`),en++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    NETWORK"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nNETWORK RECOMMENDED TASKS:");let on=1;const cn="Network";if(!t.find((n=>"guardduty.amazonaws.com"===n.service))){const n=await A(on,cn,"AWS GuardDuty");w.appendFileSync(d,`\n  ${n}`),on++}if(!t.find((n=>"ipam.amazonaws.com"===n.service))){const n=await A(on,cn,"AWS IPAM");w.appendFileSync(d,`\n  ${n}`),on++}if(!t.find((n=>"ram.amazonaws.com"===n.service))){const n=await A(on,cn,"AWS Resource Access Manager");w.appendFileSync(d,`\n  ${n}`),on++}if(!Y){const n=await F(on,cn,"AWS IPAM");w.appendFileSync(d,`\n  ${n}`),on++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                  OBSERVABILITY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nOBSERVABILITY RECOMMENDED TASKS:");let tn=1;const sn="Observability";if(!t.find((n=>"account.amazonaws.com"===n.service))){const n=await A(tn,sn,"Account Manager");w.appendFileSync(d,`\n  ${n}`),tn++}if(!q){const n=await F(tn,sn,"Account Manager");w.appendFileSync(d,`\n  ${n}`),tn++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n               BACKUP AND RECOVERY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nBACKUP AND RECOVERY RECOMMENDED TASKS:");let rn=1;const ln="Backup and Recovery";if(!t.find((n=>"backup.amazonaws.com"===n.service))){const n=await A(rn,ln,"AWS Backup");w.appendFileSync(d,`\n  ${n}`),rn++}if(!H){const n=await F(rn,ln,"AWS Backup");w.appendFileSync(d,`\n  ${n}`),rn++}}else if(E.isInOrganization&&!E.isManagementAccount){const n="\nWARNING: You are running Pathfinder from an account that is a member of your AWS Organization. Please run the solution from your AWS Management account.";console.warn(n),w.appendFileSync(d,n)}else{const n="\nWARNING: You are running Pathfinder from an account that not part of an AWS Organization. This account will be treated as a standalone account.";console.warn(n),w.appendFileSync(d,n)}w.appendFileSync(d,"\n\n\n  END REVIEW")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQW1DZ0QsR0FBY0MsR0FBWSxtQkFDbkYsaUJBQWtCOVEsRUFBWSxPQUFPNk4sS0FDckNnRCxJQUNKLENBQ0EsSUFBS2pCLEVBQWtCLENBQ25CLE1BQU0vQixRQUFnQixFQUF1Q2dELEdBQWNDLEdBQVksbUJBQ3ZGLGlCQUFrQjlRLEVBQVksT0FBTzZOLEtBQ3JDZ0QsSUFDSixDQUNBLGlCQUFrQjdRLEVBQVksaUVBQzlCLGlCQUFrQkEsRUFBWSx3Q0FDOUIsaUJBQWtCQSxFQUFZLCtEQUU5QixpQkFBa0JBLEVBQVksOENBQzlCLElBQUkrUSxHQUFpQixFQUNyQixNQUFNQyxHQUFpQixzQkFFdkIsSUFBS2pJLEVBQW1CbEUsTUFBS0MsR0FBMkIseUJBQWxCQSxFQUFNeUUsVUFBcUMsQ0FDN0UsTUFBTXNFLFFBQWdCLEVBQW1Da0QsR0FBZ0JDLEdBQWdCLGNBQ3pGLGlCQUFrQmhSLEVBQVksT0FBTzZOLEtBQ3JDa0QsSUFDSixDQUNBLElBQUtsQixFQUFpQixDQUNsQixNQUFNaEMsUUFBZ0IsRUFBdUNrRCxHQUFnQkMsR0FBZ0IsY0FDN0YsaUJBQWtCaFIsRUFBWSxPQUFPNk4sS0FDckNrRCxJQUNKLENBQ0osTUFDSyxHQUFJMVAsRUFBWUcsbUJBQXFCSCxFQUFZSSxvQkFBcUIsQ0FDdkUsTUFBTW9NLEVBQVUsNkpBQ2hCM00sUUFBUStQLEtBQUtwRCxHQUNiLGlCQUFrQjdOLEVBQVk2TixFQUNsQyxLQUNLLENBQ0QsTUFBTUEsRUFBVSxvSkFDaEIzTSxRQUFRK1AsS0FBS3BELEdBQ2IsaUJBQWtCN04sRUFBWTZOLEVBQ2xDLENBQ0EsaUJBQWtCN04sRUFBWSxxQkFBcUIsRUFFdkRrUixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWlhbVwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZGZvcm1hdGlvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1zc28tYWRtaW5cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtZWMyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWxcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY29uZmlnLXNlcnZpY2VcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY29udHJvbHRvd2VyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNvc3QtYW5kLXVzYWdlLXJlcG9ydC1zZXJ2aWNlXCIiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvdGFza3MuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJmc1wiIiwid2VicGFjazovLy8uL2J1aWxkL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtcmVnaW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9kZWZpbmUtYWNjb3VudC10eXBlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWlhbS11c2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1lYzItZXhpc3RlbmNlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLXZwYy1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY2xvdWR0cmFpbC1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY29uZmlnLWV4aXN0ZW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stbGVnYWN5LWN1ci5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctcG9saWN5LXR5cGVzLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2dldC1lbmFibGVkLW9yZy1zZXJ2aWNlcy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1vcmctY2xvdWRmb3JtYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY29udHJvbC10b3dlci5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtaWRjLWluZm8uanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1kYS1hY2NvdW50cy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLW1lbWJlci1hY2NvdW50cy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLW91cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1zdHNcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1pYW1cIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb25cIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtc3NvLWFkbWluXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWVjMlwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNvbmZpZy1zZXJ2aWNlXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNvbnRyb2x0b3dlclwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jb3N0LWFuZC11c2FnZS1yZXBvcnQtc2VydmljZVwiKTsiLCJleHBvcnQgdmFyIFdheXBvaW50O1xuKGZ1bmN0aW9uIChXYXlwb2ludCkge1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiTWFuYWdlbWVudCBBY2NvdW50XCJdID0gMF0gPSBcIk1hbmFnZW1lbnQgQWNjb3VudFwiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiR292ZXJuYW5jZVwiXSA9IDFdID0gXCJHb3Zlcm5hbmNlXCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJGaW5hbmNpYWwgTWFuYWdlbWVudFwiXSA9IDJdID0gXCJGaW5hbmNpYWwgTWFuYWdlbWVudFwiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiTXVsdGktQWNjb3VudCBTdHJhdGVneVwiXSA9IDNdID0gXCJNdWx0aS1BY2NvdW50IFN0cmF0ZWd5XCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJMYW5kaW5nIFpvbmVcIl0gPSA0XSA9IFwiTGFuZGluZyBab25lXCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJJZGVudGl0eVwiXSA9IDVdID0gXCJJZGVudGl0eVwiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiU2VjdXJpdHlcIl0gPSA2XSA9IFwiU2VjdXJpdHlcIjtcbiAgICBXYXlwb2ludFtXYXlwb2ludFtcIk5ldHdvcmtcIl0gPSA3XSA9IFwiTmV0d29ya1wiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiT2JzZXJ2YWJpbGl0eVwiXSA9IDhdID0gXCJPYnNlcnZhYmlsaXR5XCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJCYWNrdXAgYW5kIFJlY292ZXJ5XCJdID0gOV0gPSBcIkJhY2t1cCBhbmQgUmVjb3ZlcnlcIjtcbn0pKFdheXBvaW50IHx8IChXYXlwb2ludCA9IHt9KSk7XG5leHBvcnQgdmFyIFRvcExldmVsT3VzO1xuKGZ1bmN0aW9uIChUb3BMZXZlbE91cykge1xuICAgIFRvcExldmVsT3VzW1RvcExldmVsT3VzW1wiV29ya2xvYWRzXCJdID0gMF0gPSBcIldvcmtsb2Fkc1wiO1xuICAgIFRvcExldmVsT3VzW1RvcExldmVsT3VzW1wiU2VjdXJpdHlcIl0gPSAxXSA9IFwiU2VjdXJpdHlcIjtcbiAgICBUb3BMZXZlbE91c1tUb3BMZXZlbE91c1tcIlRyYW5zaXRpb25hbFwiXSA9IDJdID0gXCJUcmFuc2l0aW9uYWxcIjtcbiAgICBUb3BMZXZlbE91c1tUb3BMZXZlbE91c1tcIlN1c3BlbmRlZFwiXSA9IDNdID0gXCJTdXNwZW5kZWRcIjtcbiAgICBUb3BMZXZlbE91c1tUb3BMZXZlbE91c1tcIkV4Y2VwdGlvbnNcIl0gPSA0XSA9IFwiRXhjZXB0aW9uc1wiO1xufSkoVG9wTGV2ZWxPdXMgfHwgKFRvcExldmVsT3VzID0ge30pKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBsb3lDb25maWdSZWNvcmRlclRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIHJlZ2lvbikge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBEZXBsb3kgQVdTIENvbmZpZyBSZWNvcmRlciB0byB0aGUgJHtyZWdpb259IHJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcGxveUNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbFRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIHJlZ2lvbikge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBBZGQgQVdTIENvbmZpZyBEZWxpdmVyeSBDaGFubmVsIHRvIHRoZSAke3JlZ2lvbn0gcmVnaW9uLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVwbG95Q2xvdWRUcmFpbE9yZ1RyYWlsVGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBDcmVhdGUgYSBtdWx0aS1yZWdpb24gQ2xvdWRUcmFpbCBPcmdhbml6YXRpb24gVHJhaWwgaW4geW91ciBob21lIEFXUyBSZWdpb24uYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBsb3lDb250cm9sVG93ZXJUYXNrKHRhc2tOdW1iZXIsIHdheXBvaW50KSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlcGxveSBBV1MgQ29udHJvbCBUb3dlciBpbiB5b3VyIGhvbWUgQVdTIFJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUx6Q29udHJvbFRvd2VyVGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgY3VycmVudFZlcnNpb24sIGxhdGVzdFZlcnNpb24pIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gVXBkYXRlIHlvdXIgQVdTIENvbnRyb2wgVG93ZXIgTGFuZGluZyBab25lIGZyb20gJHtjdXJyZW50VmVyc2lvbn0gdG8gJHtsYXRlc3RWZXJzaW9ufS5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpeEx6RHJpZnQodGFza051bWJlciwgd2F5cG9pbnQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRml4IGRyaWZ0IGluIGRlcGxveWVkIGxhbmRpbmcgem9uZS5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcGxveU91VGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgT3VOYW1lKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlcGxveSB0b3AtbGV2ZWwgT1UgJHtPdU5hbWV9LmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlSWFtVXNlclRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIElhbVVzZXJOYW1lKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIFJlbW92ZSBJQU0gdXNlciAke0lhbVVzZXJOYW1lfWA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlSWFtVXNlckFwaUtleVRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIElhbVVzZXJOYW1lLCBJYW1Vc2VyQXBpS2V5SWQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gUmVtb3ZlIElBTSB1c2VyICR7SWFtVXNlck5hbWV9IEFQSSBrZXk6ICR7SWFtVXNlckFwaUtleUlkfWA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVnBjKHRhc2tOdW1iZXIsIHdheXBvaW50LCByZWdpb24pIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRGVsZXRlIFZQQyBpbiB0aGUgJHtyZWdpb259IHJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUVjMih0YXNrTnVtYmVyLCB3YXlwb2ludCwgcmVnaW9uKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlbGV0ZSBWUEMgaW4gdGhlICR7cmVnaW9ufSByZWdpb24uYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKHRhc2tOdW1iZXIsIHdheXBvaW50LCBzZXJ2aWNlTmFtZSkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBFbmFibGUgdGhlIEFXUyBzZXJ2aWNlICR7c2VydmljZU5hbWV9IHdpdGhpbiB5b3VyIEFXUyBPcmdhbml6YXRpb25gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlKHRhc2tOdW1iZXIsIHdheXBvaW50LCBzZXJ2aWNlTmFtZSkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBEZWxlZ2F0ZSB0aGUgQVdTIHNlcnZpY2UgJHtzZXJ2aWNlTmFtZX0gd2l0aGluIHlvdXIgQVdTIE9yZ2FuaXphdGlvbiB0byBhIG1lbWJlciBhY2NvdW50YDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmFibGVBd3NDdXIodGFza051bWJlciwgd2F5cG9pbnQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRW5hYmxlIGFuZCBjcmVhdGUgYSBDb3N0IGFuZCBVdGlsaXphdGlvbiBSZXBvcnQgKENVUikgaW4gdGhlIGJpbGxpbmcgY29uc29sZS5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldmlld0FjY291bnRFbWFpbEFkZHJlc3Nlcyh0YXNrTnVtYmVyLCB3YXlwb2ludCkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBSZXZpZXcgYW5kIHZhbGlkYXRlIHlvdXIgZW1haWwgYWRkcmVzc2VzIGFuZCBlbWFpbCBkb21haW5zIGZvciB0aGUgcm9vdCB1c2VyIGFkbWluaXN0cmF0b3IgZm9yIHRoZSBhY2NvdW50IGlzIHVwIHRvIGRhdGUuYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiZnNcIik7IiwiaW1wb3J0IHsgZGVmaW5lQWNjb3VudFR5cGUgfSBmcm9tICcuL3NyYy9hY3Rpb25zL2RlZmluZS1hY2NvdW50LXR5cGUuanMnO1xuaW1wb3J0IGNoZWNrSWFtVXNlcnMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1pYW0tdXNlcnMuanMnO1xuaW1wb3J0IGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1lbmFibGVkLW9yZy1wb2xpY3ktdHlwZXMuanMnO1xuaW1wb3J0IGdldEVuYWJsZWRPcmdTZXJ2aWNlcyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1lbmFibGVkLW9yZy1zZXJ2aWNlcy5qcyc7XG5pbXBvcnQgZ2V0T3JnQ2xvdWRGb3JtYXRpb24gZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1vcmctY2xvdWRmb3JtYXRpb24uanMnO1xuaW1wb3J0IGdldElkY0luZm8gZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtaWRjLWluZm8uanMnO1xuaW1wb3J0IGdldE9yZ0RldGFpbHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtb3JnLWRldGFpbHMuanMnO1xuaW1wb3J0IGdldE9yZ1RvcExldmVsT3VzIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LW9yZy1vdXMuanMnO1xuaW1wb3J0IGdldEFsbFJlZ2lvbnMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtcmVnaW9ucy5qcyc7XG5pbXBvcnQgY2hlY2tFYzJFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1lYzItZXhpc3RlbmNlLmpzJztcbmltcG9ydCBjaGVja1ZwY0V4aXN0cyBmcm9tICcuL3NyYy9hY3Rpb25zL2NoZWNrLXZwYy1leGlzdGVuY2UuanMnO1xuaW1wb3J0IGNoZWNrQ2xvdWRUcmFpbEV4aXN0cyBmcm9tICcuL3NyYy9hY3Rpb25zL2NoZWNrLWNsb3VkdHJhaWwtZXhpc3RlbmNlLmpzJztcbmltcG9ydCBnZXRPcmdEYUFjY291bnRzIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LW9yZy1kYS1hY2NvdW50cy5qcyc7XG5pbXBvcnQgY2hlY2tDb25maWdFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1jb25maWctZXhpc3RlbmNlLmpzJztcbmltcG9ydCBnZXRPcmdNZW1iZXJBY2NvdW50cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctbWVtYmVyLWFjY291bnRzLmpzJztcbmltcG9ydCBnZXRDb250cm9sVG93ZXIgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1jb250cm9sLXRvd2VyLmpzJztcbmltcG9ydCBjaGVja0xlZ2FjeUN1ciBmcm9tICcuL3NyYy9hY3Rpb25zL2NoZWNrLWxlZ2FjeS1jdXIuanMnO1xuaW1wb3J0ICogYXMgdGFza3MgZnJvbSAnLi9zcmMvYWN0aW9ucy90YXNrcy5qcyc7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5jb25zdCBtYWluID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcG9ydEZpbGUgPSBcIi4vUGF0aGZpbmRlci50eHRcIjtcbiAgICBsZXQgZGF0ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHByb2Nlc3MuZW52LkFXU19SRUdJT04gfHwgJ3VzLWVhc3QtMSc7XG4gICAgY29uc3QgYWxsUmVnaW9ucyA9IGF3YWl0IGdldEFsbFJlZ2lvbnMoKTtcbiAgICBjb25zb2xlLmxvZyhcIkRpc2NvdmVyaW5nIHlvdXIgQVdTIGVudmlyb25tZW50Li4uLlwiKTtcbiAgICBjb25zdCBhY2NvdW50VHlwZSA9IGF3YWl0IGRlZmluZUFjY291bnRUeXBlKHJlZ2lvbik7XG4gICAgZnMud3JpdGVGaWxlU3luYyhyZXBvcnRGaWxlLCBcIkNsb3VkIEZvdW5kYXRpb25zIC0gUGF0aGZpbmRlclwiKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuR2VuZXJhdGVkIG9uOiAke2RhdGVUaW1lLnRvVVRDU3RyaW5nKCl9IFxcblxcbmApO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgICAgIE1BTkFHRU1FTlQgQUNDT1VOVGApO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIEFDQ09VTlQgVFlQRVxcbmApO1xuICAgIGlmIChhY2NvdW50VHlwZSkge1xuICAgICAgICBjb25zb2xlLmRpcihhY2NvdW50VHlwZSwgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBJcyBpbiBBV1MgT3JnYW5pemF0aW9uOiAke2FjY291bnRUeXBlLmlzSW5Pcmdhbml6YXRpb259YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFzc2Vzc2luZyBBV1MgTWFuYWdlbWVudCBBY2NvdW50OiAke2FjY291bnRUeXBlLmlzTWFuYWdlbWVudEFjY291bnR9YCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRGlzY292ZXJpbmcgSUFNIFVzZXJzLi4uLlwiKTtcbiAgICBjb25zdCBpYW1Vc2VyUmVzdWx0ID0gYXdhaXQgY2hlY2tJYW1Vc2VycygpO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5JQU0gVVNFUlMgQ0hFQ0tcXG5gKTtcbiAgICBpZiAoaWFtVXNlclJlc3VsdCAmJiBpYW1Vc2VyUmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5kaXIoaWFtVXNlclJlc3VsdCwgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGlhbVVzZXIgb2YgaWFtVXNlclJlc3VsdCkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgSUFNIFVzZXI6ICR7aWFtVXNlci51c2VyTmFtZX1gKTtcbiAgICAgICAgICAgIGlmIChpYW1Vc2VyLmFjY2Vzc0tleUlkKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICBVc2VyIEFQSSBLZXkgSUQ6ICR7aWFtVXNlci5hY2Nlc3NLZXlJZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gSUFNIFVzZXJzIGZvdW5kLmApO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkRpc2NvdmVyaW5nIEVDMiBpbnN0YW5jZXMgYWNyb3NzIGFsbCBBV1MgUmVnaW9ucy4uLi5cIik7XG4gICAgY29uc3QgZWMyQ2hlY2sgPSBhd2FpdCBjaGVja0VjMkV4aXN0cyhhbGxSZWdpb25zKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuRUMyIElOU1RBTkNFIENIRUNLXFxuYCk7XG4gICAgaWYgKGVjMkNoZWNrICYmIGVjMkNoZWNrLmZpbmQocGFyYW0gPT4gcGFyYW0uZWMyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZGlyKGVjMkNoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGZvciAoY29uc3QgZWMyIG9mIGVjMkNoZWNrKSB7XG4gICAgICAgICAgICBpZiAoZWMyLmVjMkZvdW5kKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHtlYzIucmVnaW9ufSAtIGZvdW5kIEVDMiBJbnN0YW5jZShzKS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gRUMyIGluc3RhbmNlcyBmb3VuZC5gKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJEaXNjb3ZlcmluZyBWUENzIGFjcm9zcyBhbGwgQVdTIFJlZ2lvbnMuLi4uXCIpO1xuICAgIGNvbnN0IHZwY0NoZWNrID0gYXdhaXQgY2hlY2tWcGNFeGlzdHMoYWxsUmVnaW9ucyk7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcblZQQyBDSEVDS1xcbmApO1xuICAgIGlmICh2cGNDaGVjayAmJiB2cGNDaGVjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUuZGlyKHZwY0NoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGZvciAoY29uc3QgdnBjRmluZCBvZiB2cGNDaGVjaykge1xuICAgICAgICAgICAgaWYgKHZwY0ZpbmQudnBjRm91bmQpIHtcbiAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke3ZwY0ZpbmQucmVnaW9ufSAtIGZvdW5kIFZQQyhzKS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gVlBDcyBmb3VuZC5gKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJEaXNjb3ZlcmluZyBBV1MgQ29uZmlnIGNvbmZpZ3VyYXRpb25zIGFjcm9zcyBhbGwgQVdTIFJlZ2lvbnMuLi4uXCIpO1xuICAgIGNvbnN0IGNsb3VkVHJhaWxDaGVjayA9IGF3YWl0IGNoZWNrQ2xvdWRUcmFpbEV4aXN0cyhhbGxSZWdpb25zKTtcbiAgICBjb25zdCBjb25maWdDaGVjayA9IGF3YWl0IGNoZWNrQ29uZmlnRXhpc3RzKGFsbFJlZ2lvbnMpO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgQ09ORklHIENIRUNLXFxuYCk7XG4gICAgaWYgKGNvbmZpZ0NoZWNrICYmIGNvbmZpZ0NoZWNrLmZpbmQocGFyYW0gPT4gcGFyYW0uY29uZmlnUmVjb3JkZXJGb3VuZCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgY29uc29sZS5kaXIoY29uZmlnQ2hlY2ssIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgZm9yIChjb25zdCBjb25maWdGaW5kIG9mIGNvbmZpZ0NoZWNrKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnRmluZC5jb25maWdSZWNvcmRlckZvdW5kKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHtjb25maWdGaW5kLnJlZ2lvbn0gLSBDb25maWcgUmVjb3JkZXIgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWdGaW5kLmNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHtjb25maWdGaW5kLnJlZ2lvbn0gLSBDb25maWcgRGVsaXZlcnkgQ2hhbm5lbCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBObyBBV1MgQ29uZmlnIHJlc291cmNlIGRpc2NvdmVyZWRgKTtcbiAgICB9XG4gICAgLy8gYWxsIGNhbGxzIHJlcXVpcmUgYW4gQVdTIE9yZ2FuaXphdGlvbiBleGlzdCBhbmQgdGhlIGFjY291bnQgYmUgYSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICBpZiAoYWNjb3VudFR5cGUuaXNJbk9yZ2FuaXphdGlvbiAmJiBhY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50KSB7XG4gICAgICAgIGNvbnN0IG9yZ0RldGFpbHMgPSBhd2FpdCBnZXRPcmdEZXRhaWxzKCd1cy1lYXN0LTEnKTtcbiAgICAgICAgY29uc29sZS5kaXIob3JnRGV0YWlscywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBsZWdhY3lDdXJDaGVjayA9IGF3YWl0IGNoZWNrTGVnYWN5Q3VyKCd1cy1lYXN0LTEnKTtcbiAgICAgICAgY29uc3QgZW5hYmxlT3JnUG9saWNpZXNDaGVjayA9IGF3YWl0IGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcygndXMtZWFzdC0xJyk7XG4gICAgICAgIGNvbnNvbGUuZGlyKGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2ssIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3Qgb3JnRW5hYmxlZFNlcnZpY2VzID0gYXdhaXQgZ2V0RW5hYmxlZE9yZ1NlcnZpY2VzKCd1cy1lYXN0LTEnKTtcbiAgICAgICAgY29uc29sZS5kaXIob3JnRW5hYmxlZFNlcnZpY2VzLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGNmbk9yZ1N0YXR1cyA9IGF3YWl0IGdldE9yZ0Nsb3VkRm9ybWF0aW9uKHJlZ2lvbik7XG4gICAgICAgIGNvbnNvbGUuZGlyKGNmbk9yZ1N0YXR1cywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBjb250cm9sVG93ZXJEZXRhaWxzID0gYXdhaXQgZ2V0Q29udHJvbFRvd2VyKHJlZ2lvbik7XG4gICAgICAgIGNvbnN0IGlkY0luZm9ybWF0aW9uID0gYXdhaXQgZ2V0SWRjSW5mbyhhbGxSZWdpb25zKTtcbiAgICAgICAgY29uc29sZS5kaXIoaWRjSW5mb3JtYXRpb24sIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3Qgb3JnRGVsQWRtaW5EZXRhaWxzID0gYXdhaXQgZ2V0T3JnRGFBY2NvdW50cygpO1xuICAgICAgICBjb25zb2xlLmRpcihvcmdEZWxBZG1pbkRldGFpbHMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3Qgb3JnTWVtYmVyQWNjb3VudERldGFpbHMgPSBhd2FpdCBnZXRPcmdNZW1iZXJBY2NvdW50cygpO1xuICAgICAgICBjb25zb2xlLmRpcihvcmdNZW1iZXJBY2NvdW50RGV0YWlscywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgTUFOQUdFTUVOVCBBQ0NPVU5UIC8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbk1BTkFHRU1FTlQgQUNDT1VOVCBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IG1ndFRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBtYW5hZ2VtZW50QWNjb3VudFdheXBvaW50ID0gXCJNYW5hZ2VtZW50IEFjY291bnRcIjtcbiAgICAgICAgaWYgKGlhbVVzZXJSZXN1bHQgJiYgaWFtVXNlclJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlhbVVzZXIgb2YgaWFtVXNlclJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5yZW1vdmVJYW1Vc2VyVGFzayhtZ3RUYXNrTnVtYmVyLCBtYW5hZ2VtZW50QWNjb3VudFdheXBvaW50LCBpYW1Vc2VyLnVzZXJOYW1lKTtcbiAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgbWd0VGFza051bWJlcisrO1xuICAgICAgICAgICAgICAgIGlmIChpYW1Vc2VyLmFjY2Vzc0tleUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5yZW1vdmVJYW1Vc2VyQXBpS2V5VGFzayhtZ3RUYXNrTnVtYmVyLCBtYW5hZ2VtZW50QWNjb3VudFdheXBvaW50LCBpYW1Vc2VyLnVzZXJOYW1lLCBpYW1Vc2VyLmFjY2Vzc0tleUlkKTtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICBtZ3RUYXNrTnVtYmVyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlYzJDaGVjayAmJiBlYzJDaGVjay5maW5kKHBhcmFtID0+IHBhcmFtLmVjMkZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlYzIgb2YgZWMyQ2hlY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZWMyLmVjMkZvdW5kICYmIGVjMi5yZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlbGV0ZUVjMihtZ3RUYXNrTnVtYmVyLCBtYW5hZ2VtZW50QWNjb3VudFdheXBvaW50LCBlYzIucmVnaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICBtZ3RUYXNrTnVtYmVyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2cGNDaGVjayAmJiB2cGNDaGVjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZwY0ZpbmQgb2YgdnBjQ2hlY2spIHtcbiAgICAgICAgICAgICAgICBpZiAodnBjRmluZC52cGNGb3VuZCAmJiB2cGNGaW5kLnJlZ2lvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZXRlVnBjKG1ndFRhc2tOdW1iZXIsIG1hbmFnZW1lbnRBY2NvdW50V2F5cG9pbnQsIHZwY0ZpbmQucmVnaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICBtZ3RUYXNrTnVtYmVyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICAgICAgR09WRVJOQU5DRWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIFBPTElDWSBUWVBFU1xcbmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBTZXJ2aWNlIENvbnRyb2wgUG9saWNpZXMgKFNDUCkgZW5hYmxlZDogJHtlbmFibGVPcmdQb2xpY2llc0NoZWNrLnNjcEVuYWJsZWR9YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIFRhZyBQb2xpY2llcyBlbmFibGVkOiAke2VuYWJsZU9yZ1BvbGljaWVzQ2hlY2sudGFnUG9saWN5RW5hYmxlZH1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQmFja3VwIFBvbGljaWVzIGVuYWJsZWQ6ICR7ZW5hYmxlT3JnUG9saWNpZXNDaGVjay5iYWNrdXBQb2xpY3lFbmFibGVkfWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBDTE9VREZPUk1BVElPTlxcbmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgQ2xvdWRGb3JtYXRpb24gT3JnYW5pemF0aW9uIHN0YWNrIHNldHMgc3RhdHVzIDogJHtjZm5PcmdTdGF0dXMuc3RhdHVzfWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQ0xPVURUUkFJTCBDSEVDS1xcbmApO1xuICAgICAgICBpZiAoY2xvdWRUcmFpbENoZWNrICYmIGNsb3VkVHJhaWxDaGVjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRpcihjbG91ZFRyYWlsQ2hlY2ssIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3RGaW5kIG9mIGNsb3VkVHJhaWxDaGVjaykge1xuICAgICAgICAgICAgICAgIGlmIChjdEZpbmQudHJhaWxGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBDbG91ZFRyYWlsIGZvdW5kIGluICR7Y3RGaW5kLnJlZ2lvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICBJcyBPcmdhbml6YXRpb24gVHJhaWw6ICR7Y3RGaW5kLmlzT3JnVHJhaWx9YCk7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgSXMgTXVsdGlSZWdpb246ICR7Y3RGaW5kLmlzTXVsdGlSZWdpb259YCk7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBObyBBV1MgQ2xvdWRUcmFpbCByZXNvdXJjZSBkaXNjb3ZlcmVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkdPVkVSTkFOQ0UgU0VSVklDRVMgRU5BQkxFRCBJTiBBV1MgT1JHQU5JWkFUSU9OOlxcbmApO1xuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgQ2xvdWRUcmFpbGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIENvbmZpZ2ApO1xuICAgICAgICB9XG4gICAgICAgIC8vLy8vIFNFVCBUSEUgQkFDS0xPRyBUQVNLIEZPUiBHT1ZFUk5BTkNFIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5HT1ZFUk5BTkNFIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBjb25zdCBnb3ZXYXlwb2ludCA9IFwiR292ZXJuYW5jZVwiO1xuICAgICAgICBsZXQgZ292VGFza051bWJlciA9IDE7XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShnb3ZUYXNrTnVtYmVyLCBnb3ZXYXlwb2ludCwgXCJBV1MgQ2xvdWRUcmFpbFwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGdvdlRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShnb3ZUYXNrTnVtYmVyLCBnb3ZXYXlwb2ludCwgXCJBV1MgQ29uZmlnXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgZ292VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICBGSU5BTkNJQUwgTUFOQUdFTUVOVGApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5MZWdhY3kgQ1VSYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIElzIGxlZ2FjeSBDVVIgc2V0dXA6ICR7bGVnYWN5Q3VyQ2hlY2suaXNMZWdhY3lDdXJTZXR1cH1gKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIEZJTkFOQ0lBTCBNQU5BR0VNRU5UIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5DTE9VRCBGSU5BTkNJQUwgTUFOQUdFTUVOVCBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IGZpblRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBmaW5XYXlwb2ludCA9IFwiQ2xvdWQgRmluYW5jaWFsIE1hbmFnZW1lbnRcIjtcbiAgICAgICAgaWYgKCFsZWdhY3lDdXJDaGVjay5pc0xlZ2FjeUN1clNldHVwKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzQ3VyKGZpblRhc2tOdW1iZXIsIGZpbldheXBvaW50KTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgTVVMVEktQUNDT1VOVCBTVFJBVEVHWWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIERFVEFJTFNcXG5gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBJZDogJHtvcmdEZXRhaWxzLmlkfWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgT3JnYW5pemF0aW9uIEFSTjogJHtvcmdEZXRhaWxzLmFybn1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBSb290IE9VIElkOiAke29yZ0RldGFpbHMucm9vdE91SWR9YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIENMT1VERk9STUFUSU9OXFxuYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBDbG91ZEZvcm1hdGlvbiBPcmdhbml6YXRpb24gc3RhY2sgc2V0cyBzdGF0dXMgOiAke2Nmbk9yZ1N0YXR1cy5zdGF0dXN9YCk7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uYWxGb3VuZCwgc3VzcGVuZGVkRm91bmQsIHdvcmtsb2Fkc0ZvdW5kLCBzZWN1cml0eUZvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmIChvcmdEZXRhaWxzLnJvb3RPdUlkKSB7XG4gICAgICAgICAgICBjb25zdCBvcmdPdXMgPSBhd2FpdCBnZXRPcmdUb3BMZXZlbE91cygndXMtZWFzdC0xJywgb3JnRGV0YWlscy5yb290T3VJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmRpcihvcmdPdXMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIFRPUC1MRVZFTCBPUkdBTklaQVRJT04gVU5JVFNcXG5gKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIExpc3Qgb2YgT3JnYW5pemF0aW9uJ3MgdG9wLWxldmVsIE9VcyBhbmQgQVdTIGFjY291bnRzOmApO1xuICAgICAgICAgICAgaWYgKG9yZ091cyAmJiBvcmdPdXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3Ugb2Ygb3JnT3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuZGVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAndHJhbnNpdGlvbmFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbmFsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnd29ya2xvYWRzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xvYWRzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSAnc2VjdXJpdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgIE9yZ2FuaXphdGlvbmFsIFVuaXQ6ICR7b3UubmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgIE9yZ2FuaXphdGlvbmFsIFVuaXQgSWQ6ICR7b3UuaWR9YCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdS5hY2NvdW50cyAmJiBvdS5hY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgQVdTIEFjY291bnRzOmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhY2NvdW50IG9mIG91LmFjY291bnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgJHthY2NvdW50Lk5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgQVdTIEFjY291bnRzOiBOb25lYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBObyB0b3AgbGV2ZWwgT1VzIGZvdW5kLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIE1FTUJFUiBBQ0NPVU5UU1xcbmApO1xuICAgICAgICBpZiAob3JnTWVtYmVyQWNjb3VudERldGFpbHMgJiYgb3JnTWVtYmVyQWNjb3VudERldGFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtZW1iZXJBY2NvdW50IG9mIG9yZ01lbWJlckFjY291bnREZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQWNjb3VudDogJHttZW1iZXJBY2NvdW50LmFjY291bnROYW1lfWApO1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFjY291bnQgRW1haWw6ICR7bWVtYmVyQWNjb3VudC5hY2NvdW50RW1haWx9XFxuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgTm8gbWVtYmVyIGFjY291bnRzIGZvdW5kIHdoaWNoIGlzIGFtYXppbmcgYXMgdGhpcyBpcyBydW5uaW5nIGZyb20gb25lLmApO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgT1JHQU5JWkFUSU9OIEVOQUJMRUQgU0VSVklDRVNcXG5gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgVGhlIGZvbGxvd2luZyBBV1MgU2VydmljZXMgYXJlIGVuYWJsZWQgd2l0aGluIHlvdXIgQVdTIE9yZ2FuaXphdGlvbjpgKTtcbiAgICAgICAgZm9yIChjb25zdCBvcmdTZXJ2aWNlIG9mIG9yZ0VuYWJsZWRTZXJ2aWNlcykge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAke29yZ1NlcnZpY2Uuc2VydmljZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaWRlbnRpdHlEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNlY3VyaXR5SHViRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBndWFyZER1dHlEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNvbmZpZ0RlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlwYW1EZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGFjY291bnREZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGJhY2t1cERlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBJTlRFR1JBVEVEIFNFUlZJQ0UgUkVHSVNURVJFRCBERUxFR0FURUQgQURNSU5TXFxuYCk7XG4gICAgICAgIGlmIChvcmdEZWxBZG1pbkRldGFpbHMgJiYgb3JnRGVsQWRtaW5EZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBvcmdEZWxBZG1pbkRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBY2NvdW50OiAke2FjY291bnQuYWNjb3VudE5hbWV9YCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnQuc2VydmljZXMgJiYgYWNjb3VudC5zZXJ2aWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIERlbGVnYXRlZCBTZXJ2aWNlczpgKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzcnYgb2YgYWNjb3VudC5zZXJ2aWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAke3Nydi5TZXJ2aWNlUHJpbmNpcGFsfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc2VjdXJpdHlodWIuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eUh1YkRlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZER1dHlEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnc3NvLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3N0b3JhZ2UtbGVucy5zMy5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwYW1EZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYWNjb3VudC5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnREZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja3VwRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuIGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gZGVsZWdhdGVkIGFkbWluIGFjY291bnRzIGluIEFXUyBPcmdhbml6YXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgTVVMVEktQUNDT1VOVCBTVFJBVEVHWSAvLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuTVVMVEktQUNDT1VOVCBTVFJBVEVHWSBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IG1hc1Rhc2tOdW1iZXIgPSAxO1xuICAgICAgICBsZXQgbWFzV2F5cG9pbnQgPSAnTXVsdGktQWNjb3VudCBTdHJhdGVneSc7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5yZXZpZXdBY2NvdW50RW1haWxBZGRyZXNzZXMobWFzVGFza051bWJlciwgbWFzV2F5cG9pbnQpO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgIG1hc1Rhc2tOdW1iZXIrKztcbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uYWxGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJUcmFuc2l0aW9uYWxcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdXNwZW5kZWRGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJTdXNwZW5kZWRcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3b3JrbG9hZHNGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJXb3JrbG9hZHNcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWN1cml0eUZvdW5kKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVwbG95T3VUYXNrKG1hc1Rhc2tOdW1iZXIsIG1hc1dheXBvaW50LCBcIlNlY3VyaXR5XCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbWFzVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICAgIExBTkRJTkcgWk9ORWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgQ09OVFJPTCBUT1dFUlxcbmApO1xuICAgICAgICBpZiAoY29udHJvbFRvd2VyRGV0YWlscy5jb250cm9sVG93ZXJSZWdpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKGNvbnRyb2xUb3dlckRldGFpbHMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIENvbnRyb2wgVG93ZXIgaG9tZSByZWdpb246ICR7Y29udHJvbFRvd2VyRGV0YWlscy5jb250cm9sVG93ZXJSZWdpb259YCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBDb250cm9sIFRvd2VyIHN0YXR1czogJHtjb250cm9sVG93ZXJEZXRhaWxzLnN0YXR1c31gKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIENvbnRyb2wgVG93ZXIgTGFuZGluZyBab25lIHZlcnNpb246ICR7Y29udHJvbFRvd2VyRGV0YWlscy5kZXBsb3llZFZlcnNpb259YCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBMYXRlc3QgYXZhaWxhYmxlIHZlcnNpb246ICR7Y29udHJvbFRvd2VyRGV0YWlscy5sYXRlc3RBdmFpbGFibGVWZXJzaW9ufWApO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgRHJpZnQgU3RhdHVzOiAke2NvbnRyb2xUb3dlckRldGFpbHMuZHJpZnRTdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgQ29udHJvbCBUb3dlciBpcyBub3QgZGVwbG95ZWQgaW4gdGhlIEFXUyBPcmdhbml6YXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgTEFORElORyBaT05FIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5MQU5ESU5HIFpPTkUgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBselRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBseldheXBvaW50ID0gXCJMYW5kaW5nIFpvbmVcIjtcbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuY29udHJvbFRvd2VyUmVnaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZXBsb3lDb250cm9sVG93ZXJUYXNrKGx6VGFza051bWJlciwgbHpXYXlwb2ludCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBselRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udHJvbFRvd2VyRGV0YWlscy5kcmlmdFN0YXR1cyA9PT0gJ0RSSUZURUQnKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZml4THpEcmlmdChselRhc2tOdW1iZXIsIGx6V2F5cG9pbnQpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbHpUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuZGVwbG95ZWRWZXJzaW9uICE9PSBjb250cm9sVG93ZXJEZXRhaWxzLmxhdGVzdEF2YWlsYWJsZVZlcnNpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWZXJzaW9uID0gY29udHJvbFRvd2VyRGV0YWlscy5kZXBsb3llZFZlcnNpb24gPz8gXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IGxhdGVzdFZlcnNpb24gPSBjb250cm9sVG93ZXJEZXRhaWxzLmxhdGVzdEF2YWlsYWJsZVZlcnNpb24gPz8gXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy51cGRhdGVMekNvbnRyb2xUb3dlclRhc2sobHpUYXNrTnVtYmVyLCBseldheXBvaW50LCBjdXJyZW50VmVyc2lvbiwgbGF0ZXN0VmVyc2lvbik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBselRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICAgIElERU5USVRZYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBJQU0gSURFTlRJVFkgQ0VOVEVSXFxuYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIElkQyBSZWdpb246ICR7aWRjSW5mb3JtYXRpb24ucmVnaW9ufWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBJZEMgQVJOOiAke2lkY0luZm9ybWF0aW9uLmFybn1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgSWRDIEluc3RhbmNlIElkOiAke2lkY0luZm9ybWF0aW9uLmlkfWApO1xuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgSURFTlRJVFkgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbklERU5USVRZIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBsZXQgc3NvVGFza051bWJlciA9IDE7XG4gICAgICAgIGNvbnN0IHNzb1dheXBvaW50ID0gJ0lkZW50aXR5JztcbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnc3NvLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uoc3NvVGFza051bWJlciwgc3NvV2F5cG9pbnQsIFwiQVdTIElBTSBJZGVudGl0eSBDZW50ZXJcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzc29UYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpZGVudGl0eURlbGVnYXRlZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlKHNzb1Rhc2tOdW1iZXIsIHNzb1dheXBvaW50LCBcIkFXUyBJQU0gSWRlbnRpdHkgQ2VudGVyXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc3NvVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICAgICAgU0VDVVJJVFlgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIFNFQ1VSSVRZIFNFUlZJQ0VTIEVOQUJMRUQgSU4gQVdTIE9SR0FOSVpBVElPTjpcXG5gKTtcbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgR3VhcmREdXR5YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBTZWN1cml0eSBIdWJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIElBTSBBY2Nlc3MgQW5hbHl6ZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ21hY2llLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTWFjaWVgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3N0b3JhZ2UtbGVucy5zMy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFtYXpvbiBTMyBTdG9yYWdlIExlbnNgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2luc3BlY3RvcjIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBbWF6b24gSW5zcGVjdG9yYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIENsb3VkVHJhaWxgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBDb25maWdgKTtcbiAgICAgICAgfVxuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgU0VDVVJJVFkgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcblNFQ1VSSVRZIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBsZXQgc2VjVGFza051bWJlciA9IDE7XG4gICAgICAgIGNvbnN0IHNlY1dheXBvaW50ID0gXCJTZWN1cml0eVwiO1xuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgR3VhcmREdXR5XCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3NlY3VyaXR5aHViLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiQVdTIFNlY3VyaXR5SHViXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2FjY2Vzcy1hbmFseXplci5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKHNlY1Rhc2tOdW1iZXIsIHNlY1dheXBvaW50LCBcIkFXUyBJQU0gQWNjZXNzIEFuYWx5emVyXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2Nsb3VkdHJhaWwuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgQ2xvdWRUcmFpbFwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgQ29uZmlnXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VjdXJpdHlIdWJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJTZWN1cml0eSBIdWJcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFndWFyZER1dHlEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJHdWFyZER1dHlcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25maWdEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgQ29uZmlnXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgSUFNIEFjY2VzcyBBbmFseXplclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXMzU3RvcmFnZUxlbnNEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJTMyBTdG9yYWdlIExlbnNcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgICAgICBORVRXT1JLYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIE5FVFdPUksgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbk5FVFdPUksgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBuZXRUYXNrTnVtYmVyID0gMTtcbiAgICAgICAgY29uc3QgbmV0d29ya1dheXBvaW50ID0gJ05ldHdvcmsnO1xuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdndWFyZGR1dHkuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXRHdWFyZER1dHlFbmFibGVNZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShuZXRUYXNrTnVtYmVyLCBuZXR3b3JrV2F5cG9pbnQsIFwiQVdTIEd1YXJkRHV0eVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bmV0R3VhcmREdXR5RW5hYmxlTWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG5ldFRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdpcGFtLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UobmV0VGFza051bWJlciwgbmV0d29ya1dheXBvaW50LCBcIkFXUyBJUEFNXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbmV0VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3JhbS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKG5ldFRhc2tOdW1iZXIsIG5ldHdvcmtXYXlwb2ludCwgXCJBV1MgUmVzb3VyY2UgQWNjZXNzIE1hbmFnZXJcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBuZXRUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpcGFtRGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2UobmV0VGFza051bWJlciwgbmV0d29ya1dheXBvaW50LCBcIkFXUyBJUEFNXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbmV0VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICAgIE9CU0VSVkFCSUxJVFlgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgT0JTRVJWQUJJTElUWSAvLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuT0JTRVJWQUJJTElUWSBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IG9iVGFza051bWJlciA9IDE7XG4gICAgICAgIGNvbnN0IG9iV2F5cG9pbnQgPSAnT2JzZXJ2YWJpbGl0eSc7XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2FjY291bnQuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShvYlRhc2tOdW1iZXIsIG9iV2F5cG9pbnQsIFwiQWNjb3VudCBNYW5hZ2VyXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgb2JUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY2NvdW50RGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2Uob2JUYXNrTnVtYmVyLCBvYldheXBvaW50LCBcIkFjY291bnQgTWFuYWdlclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG9iVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgIEJBQ0tVUCBBTkQgUkVDT1ZFUllgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgQkFDS1VQIEFORCBSRUNPVkVSWSAvLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQkFDS1VQIEFORCBSRUNPVkVSWSBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IGJhY2tUYXNrTnVtYmVyID0gMTtcbiAgICAgICAgY29uc3QgYmFja3VwV2F5cG9pbnQgPSAnQmFja3VwIGFuZCBSZWNvdmVyeSc7XG4gICAgICAgIC8vIGNoZWNrIGlmIEFXUyBCYWNrdXAgaXMgZW5hYmxlZFxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdiYWNrdXAuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShiYWNrVGFza051bWJlciwgYmFja3VwV2F5cG9pbnQsIFwiQVdTIEJhY2t1cFwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGJhY2tUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiYWNrdXBEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShiYWNrVGFza051bWJlciwgYmFja3VwV2F5cG9pbnQsIFwiQVdTIEJhY2t1cFwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGJhY2tUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYWNjb3VudFR5cGUuaXNJbk9yZ2FuaXphdGlvbiAmJiAhYWNjb3VudFR5cGUuaXNNYW5hZ2VtZW50QWNjb3VudCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1xcbldBUk5JTkc6IFlvdSBhcmUgcnVubmluZyBQYXRoZmluZGVyIGZyb20gYW4gYWNjb3VudCB0aGF0IGlzIGEgbWVtYmVyIG9mIHlvdXIgQVdTIE9yZ2FuaXphdGlvbi4gUGxlYXNlIHJ1biB0aGUgc29sdXRpb24gZnJvbSB5b3VyIEFXUyBNYW5hZ2VtZW50IGFjY291bnQuJztcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnXFxuV0FSTklORzogWW91IGFyZSBydW5uaW5nIFBhdGhmaW5kZXIgZnJvbSBhbiBhY2NvdW50IHRoYXQgbm90IHBhcnQgb2YgYW4gQVdTIE9yZ2FuaXphdGlvbi4gVGhpcyBhY2NvdW50IHdpbGwgYmUgdHJlYXRlZCBhcyBhIHN0YW5kYWxvbmUgYWNjb3VudC4nO1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuXFxuICBFTkQgUkVWSUVXYCk7XG59O1xubWFpbigpO1xuIiwiaW1wb3J0IHsgRUMyQ2xpZW50LCBEZXNjcmliZVJlZ2lvbnNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbFJlZ2lvbnMoKSB7XG4gICAgLy8gZ3JhYmJpbmcgYWxsIHJlZ2lvbnMgZnJvbSB1cy1lYXN0LTFcbiAgICBjb25zdCBlYzJDbGllbnQgPSBuZXcgRUMyQ2xpZW50KHsgcmVnaW9uOiBcInVzLWVhc3QtMVwiIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaWJlUmVnaW9uc0NvbW1hbmQgPSBuZXcgRGVzY3JpYmVSZWdpb25zQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZWMyQ2xpZW50LnNlbmQoZGVzY3JpYmVSZWdpb25zQ29tbWFuZCk7XG4gICAgICAgIGNvbnN0IHJlZ2lvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVzcG9uc2UuUmVnaW9ucyB8fCBbXSkge1xuICAgICAgICAgICAgcmVnaW9ucy5wdXNoKHJlZ2lvbi5SZWdpb25OYW1lIHx8IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWdpb25zO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgcmVnaW9uczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBlYzJDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGdldEFsbFJlZ2lvbnM7XG4iLCJpbXBvcnQgeyBTVFNDbGllbnQsIEdldENhbGxlcklkZW50aXR5Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3RzXCI7XG5pbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQsIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50SWQocmVnaW9uKSB7XG4gICAgY29uc3Qgc3RzQ2xpZW50ID0gbmV3IFNUU0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBnZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQgPSBuZXcgR2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgQWNjb3VudCA9IGF3YWl0IHN0c0NsaWVudC5zZW5kKGdldENhbGxlcklkZW50aXR5Q29tbWFuZCk7XG4gICAgICAgIHJldHVybiBBY2NvdW50LkFjY291bnQ7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhY2NvdW50IElEOlwiLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbjtcbi8vIGZ1bmN0aW9uIGNoZWNraW5nIGlmIG1hbmFnZW1lbnQgYWNjb3VudCwgbWVtYmVyIGFjY291bnQsIG9yIHN0YW5kYWxvbmUgYWNjb3VudFxuZXhwb3J0IGNvbnN0IGRlZmluZUFjY291bnRUeXBlID0gYXN5bmMgKHJlZ2lvbikgPT4ge1xuICAgIGNvbnN0IG9yZ2FuaXphdGlvbnNDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgaXNJbk9yZ2FuaXphdGlvbiA9IGZhbHNlO1xuICAgIGxldCBpc01hbmFnZW1lbnRBY2NvdW50ID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3VycmVudEFjY291bnRJZCA9IGF3YWl0IGdldEFjY291bnRJZChyZWdpb24pO1xuICAgICAgICBpZiAoY3VycmVudEFjY291bnRJZCkge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kID0gbmV3IERlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCh7fSk7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlID0gYXdhaXQgb3JnYW5pemF0aW9uc0NsaWVudC5zZW5kKGRlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCk7XG4gICAgICAgICAgICAvLyB0aGUgYWNjb3VudCBpcyBub3Qgc3RhbmRhbG9uZSBhbmQgcGFydCBvZiBBV1MgT3JnYW5pemF0aW9uXG4gICAgICAgICAgICBpZiAoZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZS5Pcmdhbml6YXRpb24/Lk1hc3RlckFjY291bnRJZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmFnZW1lbnRBY2NvdW50SWQgPSBkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlLk9yZ2FuaXphdGlvbj8uTWFzdGVyQWNjb3VudElkO1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VtZW50QWNjb3VudElkID09IGN1cnJlbnRBY2NvdW50SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBvcmdhbml6YXRpb24gYW5kIHRoaXMgaXMgdGhlIG1hbmFnZW1lbnQgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICBpc01hbmFnZW1lbnRBY2NvdW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNJbk9yZ2FuaXphdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBhbiBvcmdhbml6YXRpb24sIGJ1dCB0aGlzIGlzbid0IHRoZSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgaXNJbk9yZ2FuaXphdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgaXNuJ3QgYW4gb3JnYW5pemF0aW9uIGFuZCB0aGlzIGFjY291bnQgaXMgc3RhbmRhbG9uZVxuICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdhbml6YXRpb25zQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaXNJbk9yZ2FuaXphdGlvbiwgaXNNYW5hZ2VtZW50QWNjb3VudCB9O1xufTtcbiIsImltcG9ydCB7IElBTUNsaWVudCwgTGlzdFVzZXJzQ29tbWFuZCwgTGlzdEFjY2Vzc0tleXNDb21tYW5kLCBHZXRBY2Nlc3NLZXlMYXN0VXNlZENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWlhbVwiO1xuLy8gZnVuY3Rpb24gbGlzdCBhbGwgSUFNIHVzZXJzIGFuZCBpZiB0aGV5IGhhdmUga2V5cyBpbiB0aGUgbWFuYWdlbWVudCBhY2NvdW50XG5jb25zdCBjaGVja0lhbVVzZXJzID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIFNldCB0byB1cy1lYXN0LTEgYXMgSUFNIGlzIGdsb2JhbCBhbmQgcmVnaW9uIGlzbid0IGEgY29uY2VyblxuICAgIGNvbnN0IGlhbUNsaWVudCA9IG5ldyBJQU1DbGllbnQoeyByZWdpb246ICd1cy1lYXN0LTEnIH0pO1xuICAgIGNvbnN0IGlhbVVzZXJJbmZvID0gW107XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbGlzdFVzZXJzQ29tbWFuZCA9IG5ldyBMaXN0VXNlcnNDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgbGlzdFVzZXJzUmVzcG9uc2UgPSBhd2FpdCBpYW1DbGllbnQuc2VuZChsaXN0VXNlcnNDb21tYW5kKTtcbiAgICAgICAgZm9yIChjb25zdCB1c2VyIG9mIGxpc3RVc2Vyc1Jlc3BvbnNlLlVzZXJzIHx8IFtdKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyTmFtZSA9IHVzZXIuVXNlck5hbWUgfHwgXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RBY2Nlc3NLZXlzQ29tbWFuZCA9IG5ldyBMaXN0QWNjZXNzS2V5c0NvbW1hbmQoe1xuICAgICAgICAgICAgICAgIFVzZXJOYW1lOiB1c2VyTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGlzdEFjY2Vzc0tleXNSZXNwb25zZSA9IGF3YWl0IGlhbUNsaWVudC5zZW5kKGxpc3RBY2Nlc3NLZXlzQ29tbWFuZCk7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXlzID0gbGlzdEFjY2Vzc0tleXNSZXNwb25zZS5BY2Nlc3NLZXlNZXRhZGF0YSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChhY2Nlc3NLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFjY2Vzc0tleSBvZiBhY2Nlc3NLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0tleUlkID0gYWNjZXNzS2V5LkFjY2Vzc0tleUlkIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldExhc3RVc2VkQ29tbWFuZCA9IG5ldyBHZXRBY2Nlc3NLZXlMYXN0VXNlZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXNzS2V5SWQ6IGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFVzZWRSZXNwb25zZSA9IGF3YWl0IGlhbUNsaWVudC5zZW5kKGdldExhc3RVc2VkQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kVXNlckluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFVzZWQ6IGxhc3RVc2VkUmVzcG9uc2UgJiYgbGFzdFVzZWRSZXNwb25zZS5BY2Nlc3NLZXlMYXN0VXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7bGFzdFVzZWRSZXNwb25zZS5BY2Nlc3NLZXlMYXN0VXNlZC5MYXN0VXNlZERhdGV9YCB8fCBcIk5vdCBhdmFpbGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJOb3QgYXZhaWxhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlhbVVzZXJJbmZvLnB1c2goZm91bmRVc2VySW5mbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmRVc2VySW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlck5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlhbVVzZXJJbmZvLnB1c2goZm91bmRVc2VySW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWFtQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIGlhbVVzZXJJbmZvO1xufTtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrSWFtVXNlcnM7XG4iLCJpbXBvcnQgeyBFQzJDbGllbnQsIERlc2NyaWJlSW5zdGFuY2VzQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtZWMyXCI7XG5hc3luYyBmdW5jdGlvbiBjaGVja0VjMkV4aXN0cyhyZWdpb25zKSB7XG4gICAgbGV0IGVjMlZhbGlkYXRpb24gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGVjMkNsaWVudCA9IG5ldyBFQzJDbGllbnQoeyByZWdpb24gfSk7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVJbnN0YW5jZXNDb21tYW5kKHt9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZWMyQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuUmVzZXJ2YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlJlc2VydmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFdBUk5JTkc6IEluc3RhbmNlKHMpIGV4aXN0cyBpbiByZWdpb246ICR7cmVnaW9ufWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlYzJGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWMyRm91bmQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZWMyVmFsaWRhdGlvbi5wdXNoKGVjMkZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVjMkZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYzJGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZWMyVmFsaWRhdGlvbi5wdXNoKGVjMkZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlYzJGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgIGVjMkZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZWMyVmFsaWRhdGlvbi5wdXNoKGVjMkZvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBjaGVja2luZyBpbnN0YW5jZTogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGVjMkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9IC8vIGVuZCBmb3JcbiAgICByZXR1cm4gZWMyVmFsaWRhdGlvbjtcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrRWMyRXhpc3RzO1xuIiwiaW1wb3J0IHsgRUMyQ2xpZW50LCBEZXNjcmliZVZwY3NDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1lYzJcIjtcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrVnBjRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgdnBjVmFsaWRhdGlvbiA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcbiAgICAgICAgY29uc3QgZWMyQ2xpZW50ID0gbmV3IEVDMkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBEZXNjcmliZVZwY3NDb21tYW5kKHt9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZWMyQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuVnBjcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5WcGNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgV0FSTklORzogVlBDKHMpIGV4aXN0cyBpbiByZWdpb246ICR7cmVnaW9ufWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2cGNGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdnBjRm91bmQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwY0ZvdW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2cGNGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2cGNGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgIHZwY0ZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdnBjVmFsaWRhdGlvbi5wdXNoKHZwY0ZvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBjaGVja2luZyBpbnN0YW5jZTogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGVjMkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9IC8vIGVuZCBmb3JcbiAgICByZXR1cm4gdnBjVmFsaWRhdGlvbjtcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrVnBjRXhpc3RzO1xuIiwiaW1wb3J0IHsgQ2xvdWRUcmFpbENsaWVudCwgRGVzY3JpYmVUcmFpbHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwnO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tDbG91ZFRyYWlsRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgY2xvdWRUcmFpbFZhbGlkYXRpb24gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGNsb3VkVHJhaWxDbGllbnQgPSBuZXcgQ2xvdWRUcmFpbENsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgY29uc3QgY2xvdWRUcmFpbERlc2NyaWJlQ29tbWFuZCA9IG5ldyBEZXNjcmliZVRyYWlsc0NvbW1hbmQoe30pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2xvdWRUcmFpbFJlc3BvbnNlID0gYXdhaXQgY2xvdWRUcmFpbENsaWVudC5zZW5kKGNsb3VkVHJhaWxEZXNjcmliZUNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKGNsb3VkVHJhaWxSZXNwb25zZS50cmFpbExpc3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWlsIG9mIGNsb3VkVHJhaWxSZXNwb25zZS50cmFpbExpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWlsSW5mbyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhaWwuSG9tZVJlZ2lvbiA9PSByZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHRyYWlsIGZvdW5kIGluICR7cmVnaW9ufWApXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpbEluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxGb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09yZ1RyYWlsOiB0cmFpbC5Jc011bHRpUmVnaW9uVHJhaWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNdWx0aVJlZ2lvbjogdHJhaWwuSXNNdWx0aVJlZ2lvblRyYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsb3VkVHJhaWxWYWxpZGF0aW9uLnB1c2godHJhaWxJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgY2hlY2tpbmcgaW5zdGFuY2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjbG91ZFRyYWlsQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH0gLy8gZW5kIGZvciByZWdpb25zXG4gICAgcmV0dXJuIGNsb3VkVHJhaWxWYWxpZGF0aW9uO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tDbG91ZFRyYWlsRXhpc3RzO1xuIiwiaW1wb3J0IHsgQ29uZmlnU2VydmljZUNsaWVudCwgRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kLCBEZXNjcmliZURlbGl2ZXJ5Q2hhbm5lbHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNvbmZpZy1zZXJ2aWNlJztcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQ29uZmlnRXhpc3RzKHJlZ2lvbnMpIHtcbiAgICBsZXQgY29uZmlnRGV0YWlscyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnU2VydmljZUNsaWVudCA9IG5ldyBDb25maWdTZXJ2aWNlQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICBsZXQgY29uZmlnRGV0YWlsID0ge1xuICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICBjb25maWdSZWNvcmRlckZvdW5kOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgQ29uZmlnIHJlY29yZGVyIGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkZXJSZXNwb25zZSA9IGF3YWl0IGNvbmZpZ1NlcnZpY2VDbGllbnQuc2VuZChuZXcgRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kKHt9KSk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRlckV4aXN0cyA9IHJlY29yZGVyUmVzcG9uc2UuQ29uZmlndXJhdGlvblJlY29yZGVyc1N0YXR1cz8ubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgaWYgKHJlY29yZGVyRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnRGV0YWlsLmNvbmZpZ1JlY29yZGVyRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgQ29uZmlnIGRlbGl2ZXJ5IGNoYW5uZWwgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsUmVzcG9uc2UgPSBhd2FpdCBjb25maWdTZXJ2aWNlQ2xpZW50LnNlbmQobmV3IERlc2NyaWJlRGVsaXZlcnlDaGFubmVsc0NvbW1hbmQoe30pKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxFeGlzdHMgPSBjaGFubmVsUmVzcG9uc2UuRGVsaXZlcnlDaGFubmVscz8ubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBjb25maWdEZXRhaWwuY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZmlnRGV0YWlscy5wdXNoKGNvbmZpZ0RldGFpbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBBV1MgQ29uZmlnIGluICR7cmVnaW9ufTpgLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjb25maWdTZXJ2aWNlQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uZmlnRGV0YWlscztcbn1cbmV4cG9ydCBkZWZhdWx0IGNoZWNrQ29uZmlnRXhpc3RzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgRGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kLCBMaXN0Um9vdHNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRPcmdEZXRhaWxzKHJlZ2lvbikge1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCBvcmdEZXRhaWxzID0ge307XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3JnRGVzY3JpYmVDb21tYW5kID0gbmV3IERlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IG9yZ0RhdGEgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChvcmdEZXNjcmliZUNvbW1hbmQpO1xuICAgICAgICBpZiAob3JnRGF0YS5Pcmdhbml6YXRpb24pIHtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMuaWQgPSBvcmdEYXRhLk9yZ2FuaXphdGlvbi5JZCA/PyBcIlwiO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYE9yZ2FuaXphdGlvbiBJRDogJHtvcmdEZXRhaWxzLmlkfWAgKTtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMuYXJuID0gb3JnRGF0YS5Pcmdhbml6YXRpb24uQXJuID8/IFwiXCI7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgT3JnYW5pemF0aW9uIEFSTjogJHtvcmdEZXRhaWxzLmFybn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RSb290c0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByb290cyA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocm9vdHMuUm9vdHMpIHtcbiAgICAgICAgICAgIG9yZ0RldGFpbHMucm9vdE91SWQgPSByb290cy5Sb290c1swXS5JZDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBBV1MgT3JnIHJvb3Qgb3UgaWQ6ICR7b3JnRGV0YWlscy5yb290T3VJZH1gKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGluZm8gZm91bmQgZm9yIHlvdXIgQVdTIE9yZ2FuaXphdGlvbi4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gb3JnRGV0YWlscztcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdEZXRhaWxzO1xuIiwiaW1wb3J0IHsgQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCwgRGVzY3JpYmVSZXBvcnREZWZpbml0aW9uc0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNvc3QtYW5kLXVzYWdlLXJlcG9ydC1zZXJ2aWNlXCI7XG5jb25zdCBjaGVja0xlZ2FjeUN1ciA9IGFzeW5jIChyZWdpb24pID0+IHtcbiAgICAvLyBTZXQgdXAgQVdTIFNESyBjbGllbnQgZm9yIENvc3QgRXhwbG9yZXJcbiAgICBjb25zdCBjdXJDbGllbnQgPSBuZXcgQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgaXNMZWdhY3lDdXJTZXR1cCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENoZWNrIGlmIENvc3QgRXhwbG9yZXIgaXMgc2V0IHVwXG4gICAgICAgIGNvbnN0IGlucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVSZXBvcnREZWZpbml0aW9uc0NvbW1hbmQoaW5wdXQpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGN1ckNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocmVzcG9uc2UuUmVwb3J0RGVmaW5pdGlvbnMgJiYgcmVzcG9uc2UuUmVwb3J0RGVmaW5pdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaXNMZWdhY3lDdXJTZXR1cCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaXNMZWdhY3lDdXJTZXR1cCB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVycm9yIGlzIHJlbGF0ZWQgdG8gQ29zdCBFeHBsb3JlciBzZXR1cFxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgaXNMZWdhY3lDdXJTZXR1cCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4geyBpc0xlZ2FjeUN1clNldHVwIH07XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICAvLyBDbG9zZSB0aGUgQVdTIFNESyBjbGllbnRcbiAgICAgICAgY3VyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tMZWdhY3lDdXI7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0Um9vdHNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXMocmVnaW9uKSB7XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IHBvbGljeVR5cGVzRW5hYmxlZCA9IHtcbiAgICAgICAgc2NwRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHRhZ1BvbGljeUVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBiYWNrdXBQb2xpY3lFbmFibGVkOiBmYWxzZVxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0Um9vdHNDb21tYW5kKGlucHV0KTtcbiAgICAgICAgY29uc3Qgcm9vdHMgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgaWYgKHJvb3RzLlJvb3RzKSB7XG4gICAgICAgICAgICBpZiAocm9vdHMuUm9vdHNbMF0uUG9saWN5VHlwZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVuYWJsZWRQb2xpY3kgb2Ygcm9vdHMuUm9vdHNbMF0uUG9saWN5VHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnU0VSVklDRV9DT05UUk9MX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQuc2NwRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnVEFHX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQudGFnUG9saWN5RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRQb2xpY3kuVHlwZSA9PSAnQkFDS1VQX1BPTElDWScgJiYgZW5hYmxlZFBvbGljeS5TdGF0dXMgPT0gJ0VOQUJMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lUeXBlc0VuYWJsZWQuYmFja3VwUG9saWN5RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIGVuZCBmb3JcbiAgICAgICAgICAgIH0gLy8gZW5kIGlmXG4gICAgICAgIH0gLy8gZW5kIGlmXG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBBbiBlcnJvciBvY2N1cnJlZDogJHtlcnJvcn1gKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBwb2xpY3lUeXBlc0VuYWJsZWQ7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2V0RW5hYmxlZE9yZ1BvbGljeVR5cGVzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRFbmFibGVkT3JnU2VydmljZXMocmVnaW9uKSB7XG4gICAgY29uc3QgZGlzY292ZXJlZE9yZ1NlcnZpY2VzID0gW107XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUFjY2Vzc0NvbW1hbmQgPSBuZXcgTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kKHt9KTtcbiAgICAgICAgY29uc3Qgb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQob3JnU2VydmljZUFjY2Vzc0NvbW1hbmQpO1xuICAgICAgICBpZiAob3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscyAmJiBvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UuRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZS5FbmFibGVkU2VydmljZVByaW5jaXBhbHM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZ1NlcnZpY2Ugb2Ygb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kT3JnU2VydmljZSA9IHsgc2VydmljZTogb3JnU2VydmljZS5TZXJ2aWNlUHJpbmNpcGFsID8/IFwiXCIgfTtcbiAgICAgICAgICAgICAgICBkaXNjb3ZlcmVkT3JnU2VydmljZXMucHVzaChmb3VuZE9yZ1NlcnZpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBzZXJ2aWNlIGFjY2VzczonLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gZGlzY292ZXJlZE9yZ1NlcnZpY2VzO1xuICAgIH1cbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldEVuYWJsZWRPcmdTZXJ2aWNlcztcbiIsImltcG9ydCB7IENsb3VkRm9ybWF0aW9uQ2xpZW50LCBEZXNjcmliZU9yZ2FuaXphdGlvbnNBY2Nlc3NDb21tYW5kLCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb25cIjtcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ0Nsb3VkRm9ybWF0aW9uKHJlZ2lvbikge1xuICAgIGxldCBvcmdDZm5TdGF0dXMgPSB7XG4gICAgICAgIHN0YXR1czogXCJkaXNhYmxlZFwiXG4gICAgfTtcbiAgICBjb25zdCBjbG91ZEZvcm1hdGlvbkNsaWVudCA9IG5ldyBDbG91ZEZvcm1hdGlvbkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZXNjcmliZU9yZ0FjY2Vzc0lucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVPcmdhbml6YXRpb25zQWNjZXNzQ29tbWFuZChkZXNjcmliZU9yZ0FjY2Vzc0lucHV0KTtcbiAgICAgICAgY29uc3QgY2xvdWRGb3JtYXRpb25PcmdBY2Nlc3MgPSBhd2FpdCBjbG91ZEZvcm1hdGlvbkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xvdWRGb3JtYXRpb24gYWN0aXZhdGlvbiBzdGF0dXM6IFwiLCBjbG91ZEZvcm1hdGlvbk9yZ0FjY2Vzcy5TdGF0dXMpXG4gICAgICAgIG9yZ0NmblN0YXR1cy5zdGF0dXMgPSBjbG91ZEZvcm1hdGlvbk9yZ0FjY2Vzcy5TdGF0dXMgPz8gXCJkaXNhYmxlZFwiO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICAvL3Rocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBjbG91ZEZvcm1hdGlvbkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBvcmdDZm5TdGF0dXM7XG4gICAgfVxufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnQ2xvdWRGb3JtYXRpb247XG4iLCJpbXBvcnQgeyBDb250cm9sVG93ZXJDbGllbnQsIExpc3RMYW5kaW5nWm9uZXNDb21tYW5kLCBHZXRMYW5kaW5nWm9uZUNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNvbnRyb2x0b3dlclwiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q29udHJvbFRvd2VyKHJlZ2lvbikge1xuICAgIGxldCBjb250cm9sVG93ZXJJbmZvID0ge307XG4gICAgY29uc3QgY29udHJvbFRvd2VyQ2xpZW50ID0gbmV3IENvbnRyb2xUb3dlckNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3RMYW5kaW5nWm9uZXNDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjb250cm9sVG93ZXJDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UubGFuZGluZ1pvbmVzLCBudWxsLCAyKSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5sYW5kaW5nWm9uZXMgJiYgcmVzcG9uc2UubGFuZGluZ1pvbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgICAgICAgICAgIGxhbmRpbmdab25lSWRlbnRpZmllcjogcmVzcG9uc2UubGFuZGluZ1pvbmVzWzBdLmFybixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBselJlZ2lvbiA9IHJlc3BvbnNlLmxhbmRpbmdab25lc1swXS5hcm4/LnRvU3RyaW5nKCkuc3BsaXQoJzonKVszXSA/PyBcIlwiO1xuICAgICAgICAgICAgaWYgKGx6UmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5jb250cm9sVG93ZXJSZWdpb24gPSBselJlZ2lvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sVG93ZXJDbGllbnRSZWdpb24gPSBuZXcgQ29udHJvbFRvd2VyQ2xpZW50KHsgcmVnaW9uOiBselJlZ2lvbiB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IEdldExhbmRpbmdab25lQ29tbWFuZChpbnB1dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbHpSZXNwb25zZSA9IGF3YWl0IGNvbnRyb2xUb3dlckNsaWVudFJlZ2lvbi5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIGlmIChselJlc3BvbnNlLmxhbmRpbmdab25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGx6UmVzcG9uc2UubGFuZGluZ1pvbmUsIG51bGwsIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5zdGF0dXMgPSBselJlc3BvbnNlLmxhbmRpbmdab25lLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5sYXRlc3RBdmFpbGFibGVWZXJzaW9uID0gbHpSZXNwb25zZS5sYW5kaW5nWm9uZS5sYXRlc3RBdmFpbGFibGVWZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sVG93ZXJJbmZvLmRlcGxveWVkVmVyc2lvbiA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5kcmlmdFN0YXR1cyA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUuZHJpZnRTdGF0dXM/LnN0YXR1cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNoZWNraW5nIENvbnRyb2wgVG93ZXIgaW4gJHtyZWdpb259OmAsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGNvbnRyb2xUb3dlckNsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9sVG93ZXJJbmZvO1xufVxuZXhwb3J0IGRlZmF1bHQgZ2V0Q29udHJvbFRvd2VyO1xuIiwiaW1wb3J0IHsgU1NPQWRtaW5DbGllbnQsIExpc3RJbnN0YW5jZXNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zc28tYWRtaW5cIjtcbmFzeW5jIGZ1bmN0aW9uIGdldElkY0luZm8ocmVnaW9uTGlzdCkge1xuICAgIGxldCBpZGNEZXRhaWxzID0geyBmb3VuZDogZmFsc2UgfTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25MaXN0KSB7XG4gICAgICAgIGNvbnN0IHNzb0FkbWluQ2xpZW50ID0gbmV3IFNTT0FkbWluQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3NvSW5wdXQgPSB7XG4gICAgICAgICAgICAgICAgTWF4UmVzdWx0czogTnVtYmVyKFwiMTAwXCIpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0SW5zdGFuY2VzQ29tbWFuZChzc29JbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBzc29JbnN0YW5jZVJlc3BvbnNlID0gYXdhaXQgc3NvQWRtaW5DbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgIGlmIChzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlcyAmJiBzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3NvSW5zdGFuY2UgPSBzc29JbnN0YW5jZVJlc3BvbnNlLkluc3RhbmNlc1swXTtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLmFybiA9IHNzb0luc3RhbmNlLkluc3RhbmNlQXJuO1xuICAgICAgICAgICAgICAgIGlkY0RldGFpbHMuaWQgPSBzc29JbnN0YW5jZS5JZGVudGl0eVN0b3JlSWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgbG9va2luZyBmb3IgQVdTIElkZW50aXR5IENlbnRlciBkZXRhaWxzIGluIHJlZ2lvbiAke3JlZ2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNzb0FkbWluQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaWRjRGV0YWlscztcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldElkY0luZm87XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0RGVsZWdhdGVkQWRtaW5pc3RyYXRvcnNDb21tYW5kLCBMaXN0RGVsZWdhdGVkU2VydmljZXNGb3JBY2NvdW50Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnRGFBY2NvdW50cygpIHtcbiAgICBsZXQgb3JnRGFEZXRhaWxzID0gW107XG4gICAgY29uc3Qgb3JnQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb246ICd1cy1lYXN0LTEnIH0pO1xuICAgIGxldCBvcmdEYURldGFpbCA9IHt9O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdERlbGVnYXRlZEFkbWluaXN0cmF0b3JzQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5EZWxlZ2F0ZWRBZG1pbmlzdHJhdG9ycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBkYSBvZiByZXNwb25zZS5EZWxlZ2F0ZWRBZG1pbmlzdHJhdG9ycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0geyBBY2NvdW50SWQ6IGRhLklkIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0RGVsZWdhdGVkU2VydmljZXNGb3JBY2NvdW50Q29tbWFuZChpbnB1dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudFJlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnRSZXNwb25zZS5EZWxlZ2F0ZWRTZXJ2aWNlcykge1xuICAgICAgICAgICAgICAgICAgICBvcmdEYURldGFpbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzOiBhY2NvdW50UmVzcG9uc2UuRGVsZWdhdGVkU2VydmljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50TmFtZTogZGEuTmFtZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBvcmdEYURldGFpbHMucHVzaChvcmdEYURldGFpbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgbG9va2luZyBmb3IgZGVsZWdhdGVkIHNlcnZpY2VzLmApO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIG9yZ0RhRGV0YWlscztcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldE9yZ0RhQWNjb3VudHM7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0QWNjb3VudHNDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnMnO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnTWVtYmVyQWNjb3VudHMoKSB7XG4gICAgbGV0IG9yZ01lbWJlckFjY291bnRJbmZvID0gW107XG4gICAgY29uc3Qgb3Jnc0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uOiAndXMtZWFzdC0xJyB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9yZ3NDbGllbnQuc2VuZChuZXcgTGlzdEFjY291bnRzQ29tbWFuZCh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2UuQWNjb3VudHMgJiYgcmVzcG9uc2UuQWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBhY2NvdW50IG9mIHJlc3BvbnNlLkFjY291bnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9yZ01lbWJlckFjY291bnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnROYW1lOiBhY2NvdW50Lk5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRFbWFpbDogYWNjb3VudC5FbWFpbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG9yZ01lbWJlckFjY291bnRJbmZvLnB1c2gob3JnTWVtYmVyQWNjb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RpbmcgQVdTIGFjY291bnRzOicsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ3NDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbiAgICByZXR1cm4gb3JnTWVtYmVyQWNjb3VudEluZm87XG59XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdNZW1iZXJBY2NvdW50cztcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIExpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCwgTGlzdEFjY291bnRzRm9yUGFyZW50Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnVG9wTGV2ZWxPdXMocmVnaW9uLCByb290T3VJZCkge1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCB0b3BMZXZlbE91cyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxpc3RPVXNDb21tYW5kID0gbmV3IExpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCh7XG4gICAgICAgICAgICBQYXJlbnRJZDogcm9vdE91SWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaXN0T1VzUmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChsaXN0T1VzQ29tbWFuZCk7XG4gICAgICAgIGlmIChsaXN0T1VzUmVzcG9uc2UuT3JnYW5pemF0aW9uYWxVbml0cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvdSBvZiBsaXN0T1VzUmVzcG9uc2UuT3JnYW5pemF0aW9uYWxVbml0cykge1xuICAgICAgICAgICAgICAgIGxldCB0b3BMZXZlbE91ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogb3UuSWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG91Lk5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRSZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKG5ldyBMaXN0QWNjb3VudHNGb3JQYXJlbnRDb21tYW5kKHsgUGFyZW50SWQ6IG91LklkIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudFJlc3BvbnNlLkFjY291bnRzICYmIGFjY291bnRSZXNwb25zZS5BY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcExldmVsT3UuYWNjb3VudHMgPSBhY2NvdW50UmVzcG9uc2UuQWNjb3VudHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvcExldmVsT3VzLnB1c2godG9wTGV2ZWxPdSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHNlcnZpY2UgYWNjZXNzOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIHRvcExldmVsT3VzO1xufVxuO1xuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnVG9wTGV2ZWxPdXM7XG4iXSwibmFtZXMiOlsicmVxdWlyZSIsIldheXBvaW50IiwiVG9wTGV2ZWxPdXMiLCJhc3luYyIsImRlcGxveU91VGFzayIsInRhc2tOdW1iZXIiLCJ3YXlwb2ludCIsIk91TmFtZSIsInJlbW92ZUlhbVVzZXJUYXNrIiwiSWFtVXNlck5hbWUiLCJyZW1vdmVJYW1Vc2VyQXBpS2V5VGFzayIsIklhbVVzZXJBcGlLZXlJZCIsImRlbGV0ZVZwYyIsInJlZ2lvbiIsImRlbGV0ZUVjMiIsImVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UiLCJzZXJ2aWNlTmFtZSIsImRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlIiwicmVwb3J0RmlsZSIsImRhdGVUaW1lIiwiRGF0ZSIsInByb2Nlc3MiLCJlbnYiLCJBV1NfUkVHSU9OIiwiYWxsUmVnaW9ucyIsImVjMkNsaWVudCIsIkVDMkNsaWVudCIsImRlc2NyaWJlUmVnaW9uc0NvbW1hbmQiLCJEZXNjcmliZVJlZ2lvbnNDb21tYW5kIiwicmVzcG9uc2UiLCJzZW5kIiwicmVnaW9ucyIsIlJlZ2lvbnMiLCJwdXNoIiwiUmVnaW9uTmFtZSIsImVycm9yIiwiY29uc29sZSIsImRlc3Ryb3kiLCJsb2ciLCJhY2NvdW50VHlwZSIsIm9yZ2FuaXphdGlvbnNDbGllbnQiLCJPcmdhbml6YXRpb25zQ2xpZW50IiwiaXNJbk9yZ2FuaXphdGlvbiIsImlzTWFuYWdlbWVudEFjY291bnQiLCJjdXJyZW50QWNjb3VudElkIiwic3RzQ2xpZW50IiwiU1RTQ2xpZW50IiwiZ2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kIiwiR2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kIiwiQWNjb3VudCIsImdldEFjY291bnRJZCIsImRlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCIsIkRlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCIsImRlc2NyaWJlT3JnYW5pemF0aW9uUmVzcG9uc2UiLCJPcmdhbml6YXRpb24iLCJNYXN0ZXJBY2NvdW50SWQiLCJtYW5hZ2VtZW50QWNjb3VudElkIiwiZGVmaW5lQWNjb3VudFR5cGUiLCJ0b1VUQ1N0cmluZyIsImRpciIsImRlcHRoIiwiY29sb3JzIiwiaWFtVXNlclJlc3VsdCIsImlhbUNsaWVudCIsIklBTUNsaWVudCIsImlhbVVzZXJJbmZvIiwibGlzdFVzZXJzQ29tbWFuZCIsIkxpc3RVc2Vyc0NvbW1hbmQiLCJsaXN0VXNlcnNSZXNwb25zZSIsInVzZXIiLCJVc2VycyIsInVzZXJOYW1lIiwiVXNlck5hbWUiLCJsaXN0QWNjZXNzS2V5c0NvbW1hbmQiLCJMaXN0QWNjZXNzS2V5c0NvbW1hbmQiLCJhY2Nlc3NLZXlzIiwiQWNjZXNzS2V5TWV0YWRhdGEiLCJsZW5ndGgiLCJhY2Nlc3NLZXkiLCJhY2Nlc3NLZXlJZCIsIkFjY2Vzc0tleUlkIiwiZ2V0TGFzdFVzZWRDb21tYW5kIiwiR2V0QWNjZXNzS2V5TGFzdFVzZWRDb21tYW5kIiwibGFzdFVzZWRSZXNwb25zZSIsImZvdW5kVXNlckluZm8iLCJsYXN0VXNlZCIsIkFjY2Vzc0tleUxhc3RVc2VkIiwiTGFzdFVzZWREYXRlIiwiaWFtVXNlciIsImVjMkNoZWNrIiwiZWMyVmFsaWRhdGlvbiIsImNvbW1hbmQiLCJEZXNjcmliZUluc3RhbmNlc0NvbW1hbmQiLCJSZXNlcnZhdGlvbnMiLCJlYzJGb3VuZCIsImZpbmQiLCJwYXJhbSIsImVjMiIsInZwY0NoZWNrIiwidnBjVmFsaWRhdGlvbiIsIkRlc2NyaWJlVnBjc0NvbW1hbmQiLCJWcGNzIiwidnBjRm91bmQiLCJ2cGNGaW5kIiwiY2xvdWRUcmFpbENoZWNrIiwiY2xvdWRUcmFpbFZhbGlkYXRpb24iLCJjbG91ZFRyYWlsQ2xpZW50IiwiQ2xvdWRUcmFpbENsaWVudCIsImNsb3VkVHJhaWxEZXNjcmliZUNvbW1hbmQiLCJEZXNjcmliZVRyYWlsc0NvbW1hbmQiLCJjbG91ZFRyYWlsUmVzcG9uc2UiLCJ0cmFpbExpc3QiLCJ0cmFpbCIsInRyYWlsSW5mbyIsIkhvbWVSZWdpb24iLCJ0cmFpbEZvdW5kIiwiaXNPcmdUcmFpbCIsIklzTXVsdGlSZWdpb25UcmFpbCIsImlzTXVsdGlSZWdpb24iLCJjb25maWdDaGVjayIsImNvbmZpZ0RldGFpbHMiLCJjb25maWdTZXJ2aWNlQ2xpZW50IiwiQ29uZmlnU2VydmljZUNsaWVudCIsImNvbmZpZ0RldGFpbCIsImNvbmZpZ1JlY29yZGVyRm91bmQiLCJjb25maWdEZWxpdmVyeUNoYW5uZWxGb3VuZCIsInJlY29yZGVyUmVzcG9uc2UiLCJEZXNjcmliZUNvbmZpZ3VyYXRpb25SZWNvcmRlclN0YXR1c0NvbW1hbmQiLCJDb25maWd1cmF0aW9uUmVjb3JkZXJzU3RhdHVzIiwiY2hhbm5lbFJlc3BvbnNlIiwiRGVzY3JpYmVEZWxpdmVyeUNoYW5uZWxzQ29tbWFuZCIsIkRlbGl2ZXJ5Q2hhbm5lbHMiLCJjb25maWdGaW5kIiwib3JnRGV0YWlscyIsIm9yZ0NsaWVudCIsIm9yZ0Rlc2NyaWJlQ29tbWFuZCIsIm9yZ0RhdGEiLCJpZCIsIklkIiwiYXJuIiwiQXJuIiwiTGlzdFJvb3RzQ29tbWFuZCIsInJvb3RzIiwiUm9vdHMiLCJyb290T3VJZCIsImxlZ2FjeUN1ckNoZWNrIiwiY3VyQ2xpZW50IiwiQ29zdEFuZFVzYWdlUmVwb3J0U2VydmljZUNsaWVudCIsImlzTGVnYWN5Q3VyU2V0dXAiLCJpbnB1dCIsIkRlc2NyaWJlUmVwb3J0RGVmaW5pdGlvbnNDb21tYW5kIiwiUmVwb3J0RGVmaW5pdGlvbnMiLCJlbmFibGVPcmdQb2xpY2llc0NoZWNrIiwicG9saWN5VHlwZXNFbmFibGVkIiwic2NwRW5hYmxlZCIsInRhZ1BvbGljeUVuYWJsZWQiLCJiYWNrdXBQb2xpY3lFbmFibGVkIiwiUG9saWN5VHlwZXMiLCJlbmFibGVkUG9saWN5IiwiVHlwZSIsIlN0YXR1cyIsIm9yZ0VuYWJsZWRTZXJ2aWNlcyIsImRpc2NvdmVyZWRPcmdTZXJ2aWNlcyIsIm9yZ1NlcnZpY2VBY2Nlc3NDb21tYW5kIiwiTGlzdEFXU1NlcnZpY2VBY2Nlc3NGb3JPcmdhbml6YXRpb25Db21tYW5kIiwib3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlIiwiRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzIiwib3JnU2VydmljZSIsImZvdW5kT3JnU2VydmljZSIsInNlcnZpY2UiLCJTZXJ2aWNlUHJpbmNpcGFsIiwiY2ZuT3JnU3RhdHVzIiwib3JnQ2ZuU3RhdHVzIiwic3RhdHVzIiwiY2xvdWRGb3JtYXRpb25DbGllbnQiLCJDbG91ZEZvcm1hdGlvbkNsaWVudCIsImRlc2NyaWJlT3JnQWNjZXNzSW5wdXQiLCJEZXNjcmliZU9yZ2FuaXphdGlvbnNBY2Nlc3NDb21tYW5kIiwiY2xvdWRGb3JtYXRpb25PcmdBY2Nlc3MiLCJjb250cm9sVG93ZXJEZXRhaWxzIiwiY29udHJvbFRvd2VySW5mbyIsImNvbnRyb2xUb3dlckNsaWVudCIsIkNvbnRyb2xUb3dlckNsaWVudCIsIkxpc3RMYW5kaW5nWm9uZXNDb21tYW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsImxhbmRpbmdab25lcyIsImxhbmRpbmdab25lSWRlbnRpZmllciIsImx6UmVnaW9uIiwidG9TdHJpbmciLCJzcGxpdCIsImNvbnRyb2xUb3dlclJlZ2lvbiIsImNvbnRyb2xUb3dlckNsaWVudFJlZ2lvbiIsIkdldExhbmRpbmdab25lQ29tbWFuZCIsImx6UmVzcG9uc2UiLCJsYW5kaW5nWm9uZSIsImxhdGVzdEF2YWlsYWJsZVZlcnNpb24iLCJkZXBsb3llZFZlcnNpb24iLCJ2ZXJzaW9uIiwiZHJpZnRTdGF0dXMiLCJpZGNJbmZvcm1hdGlvbiIsInJlZ2lvbkxpc3QiLCJpZGNEZXRhaWxzIiwiZm91bmQiLCJzc29BZG1pbkNsaWVudCIsIlNTT0FkbWluQ2xpZW50Iiwic3NvSW5wdXQiLCJNYXhSZXN1bHRzIiwiTnVtYmVyIiwiTGlzdEluc3RhbmNlc0NvbW1hbmQiLCJzc29JbnN0YW5jZVJlc3BvbnNlIiwiSW5zdGFuY2VzIiwic3NvSW5zdGFuY2UiLCJJbnN0YW5jZUFybiIsIklkZW50aXR5U3RvcmVJZCIsIm9yZ0RlbEFkbWluRGV0YWlscyIsIm9yZ0RhRGV0YWlscyIsIm9yZ0RhRGV0YWlsIiwiTGlzdERlbGVnYXRlZEFkbWluaXN0cmF0b3JzQ29tbWFuZCIsIkRlbGVnYXRlZEFkbWluaXN0cmF0b3JzIiwiZGEiLCJBY2NvdW50SWQiLCJMaXN0RGVsZWdhdGVkU2VydmljZXNGb3JBY2NvdW50Q29tbWFuZCIsImFjY291bnRSZXNwb25zZSIsIkRlbGVnYXRlZFNlcnZpY2VzIiwic2VydmljZXMiLCJhY2NvdW50TmFtZSIsIk5hbWUiLCJvcmdNZW1iZXJBY2NvdW50RGV0YWlscyIsIm9yZ01lbWJlckFjY291bnRJbmZvIiwib3Jnc0NsaWVudCIsIkxpc3RBY2NvdW50c0NvbW1hbmQiLCJBY2NvdW50cyIsImFjY291bnQiLCJvcmdNZW1iZXJBY2NvdW50IiwiYWNjb3VudEVtYWlsIiwiRW1haWwiLCJtZ3RUYXNrTnVtYmVyIiwibWFuYWdlbWVudEFjY291bnRXYXlwb2ludCIsIm1lc3NhZ2UiLCJjdEZpbmQiLCJnb3ZXYXlwb2ludCIsImdvdlRhc2tOdW1iZXIiLCJmaW5UYXNrTnVtYmVyIiwiZmluV2F5cG9pbnQiLCJ0cmFuc2l0aW9uYWxGb3VuZCIsInN1c3BlbmRlZEZvdW5kIiwid29ya2xvYWRzRm91bmQiLCJzZWN1cml0eUZvdW5kIiwib3JnT3VzIiwidG9wTGV2ZWxPdXMiLCJsaXN0T1VzQ29tbWFuZCIsIkxpc3RPcmdhbml6YXRpb25hbFVuaXRzRm9yUGFyZW50Q29tbWFuZCIsIlBhcmVudElkIiwibGlzdE9Vc1Jlc3BvbnNlIiwiT3JnYW5pemF0aW9uYWxVbml0cyIsIm91IiwidG9wTGV2ZWxPdSIsIm5hbWUiLCJMaXN0QWNjb3VudHNGb3JQYXJlbnRDb21tYW5kIiwiYWNjb3VudHMiLCJ0b0xvd2VyQ2FzZSIsIm1lbWJlckFjY291bnQiLCJpZGVudGl0eURlbGVnYXRlZCIsInNlY3VyaXR5SHViRGVsZWdhdGVkIiwiZ3VhcmREdXR5RGVsZWdhdGVkIiwiY29uZmlnRGVsZWdhdGVkIiwiaWFtQWNjZXNzQW5hbHl6ZXJEZWxlZ2F0ZWQiLCJzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkIiwiaXBhbURlbGVnYXRlZCIsImFjY291bnREZWxlZ2F0ZWQiLCJiYWNrdXBEZWxlZ2F0ZWQiLCJzcnYiLCJtYXNUYXNrTnVtYmVyIiwibWFzV2F5cG9pbnQiLCJselRhc2tOdW1iZXIiLCJseldheXBvaW50IiwidW5kZWZpbmVkIiwiY3VycmVudFZlcnNpb24iLCJsYXRlc3RWZXJzaW9uIiwic3NvVGFza051bWJlciIsInNzb1dheXBvaW50Iiwic2VjVGFza051bWJlciIsInNlY1dheXBvaW50IiwibmV0VGFza051bWJlciIsIm5ldHdvcmtXYXlwb2ludCIsIm5ldEd1YXJkRHV0eUVuYWJsZU1lc3NhZ2UiLCJvYlRhc2tOdW1iZXIiLCJvYldheXBvaW50IiwiYmFja1Rhc2tOdW1iZXIiLCJiYWNrdXBXYXlwb2ludCIsIndhcm4iLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==