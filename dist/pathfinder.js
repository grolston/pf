(()=>{"use strict";const n=require("@aws-sdk/client-sts"),e=require("@aws-sdk/client-organizations"),a=require("@aws-sdk/client-iam"),o=require("@aws-sdk/client-cloudformation"),i=require("@aws-sdk/client-sso-admin"),c=require("@aws-sdk/client-ec2"),t=require("@aws-sdk/client-cloudtrail"),s=require("@aws-sdk/client-config-service"),r=require("@aws-sdk/client-controltower"),l=require("@aws-sdk/client-cost-and-usage-report-service");var d,p;async function u(n,e,a){return`${e} - Task ${n} - Deploy top-level OU ${a}.`}async function S(n,e,a){return`${e} - Task ${n} - Remove IAM user ${a}`}async function y(n,e,a,o){return`${e} - Task ${n} - Remove IAM user ${a} API key: ${o}`}async function f(n,e,a){return`${e} - Task ${n} - Delete VPC in the ${a} region.`}async function g(n,e,a){return`${e} - Task ${n} - Delete VPC in the ${a} region.`}async function A(n,e,a){return`${e} - Task ${n} - Enable the AWS service ${a} within your AWS Organization`}async function F(n,e,a){return`${e} - Task ${n} - Delegate the AWS service ${a} within your AWS Organization to a member account`}!function(n){n[n["Management Account"]=0]="Management Account",n[n.Governance=1]="Governance",n[n["Financial Management"]=2]="Financial Management",n[n["Multi-Account Strategy"]=3]="Multi-Account Strategy",n[n["Landing Zone"]=4]="Landing Zone",n[n.Identity=5]="Identity",n[n.Security=6]="Security",n[n.Network=7]="Network",n[n.Observability=8]="Observability",n[n["Backup and Recovery"]=9]="Backup and Recovery"}(d||(d={})),function(n){n[n.Workloads=0]="Workloads",n[n.Security=1]="Security",n[n.Transitional=2]="Transitional",n[n.Suspended=3]="Suspended",n[n.Exceptions=4]="Exceptions"}(p||(p={}));const w=require("fs");(async()=>{const d="./Pathfinder.txt";let p=new Date;const m=process.env.AWS_REGION||"us-east-1",C=await async function(){const n=new c.EC2Client({region:"us-east-1"});try{const e=new c.DescribeRegionsCommand({}),a=await n.send(e),o=[];for(const n of a.Regions||[])o.push(n.RegionName||"");return o}catch(n){return console.error("Error retrieving regions:",n),[]}finally{n.destroy()}}();console.log("Discovering your AWS environment....");const E=await(async a=>{const o=new e.OrganizationsClient({region:a});let i=!1,c=!1;try{const t=await async function(e){const a=new n.STSClient({region:e});try{const e=new n.GetCallerIdentityCommand({});return(await a.send(e)).Account}catch(n){throw console.error("Error getting account ID:",n),n}}(a);if(t){const n=new e.DescribeOrganizationCommand({}),a=await o.send(n);if(a.Organization?.MasterAccountId){const n=a.Organization?.MasterAccountId;n==t?(c=!0,i=!0):i=!0}else i=!1}}catch(n){console.error("Error:",n)}finally{o.destroy()}return{isInOrganization:i,isManagementAccount:c}})(m);w.writeFileSync(d,"Cloud Foundations - Pathfinder"),w.appendFileSync(d,`\nGenerated on: ${p.toUTCString()} \n\n`),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n                   MANAGEMENT ACCOUNT"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS ACCOUNT TYPE\n"),E&&(console.dir(E,{depth:null,colors:!0}),w.appendFileSync(d,`\n  Is in AWS Organization: ${E.isInOrganization}`),w.appendFileSync(d,`\n  Assessing AWS Management Account: ${E.isManagementAccount}`)),console.log("Discovering IAM Users....");const I=await(async()=>{const n=new a.IAMClient({region:"us-east-1"}),e=[];try{const o=new a.ListUsersCommand({}),i=await n.send(o);for(const o of i.Users||[]){const i=o.UserName||"",c=new a.ListAccessKeysCommand({UserName:i}),t=(await n.send(c)).AccessKeyMetadata||[];if(t.length>0)for(const o of t){const c=o.AccessKeyId||"",t=new a.GetAccessKeyLastUsedCommand({AccessKeyId:c}),s=await n.send(t),r={userName:i,accessKeyId:c,lastUsed:s&&s.AccessKeyLastUsed&&`${s.AccessKeyLastUsed.LastUsedDate}`||"Not available"};e.push(r)}else{const n={userName:i};e.push(n)}}}catch(n){console.error("Error:",n)}finally{n.destroy()}return e})();if(w.appendFileSync(d,"\n\nIAM USERS CHECK\n"),I&&I.length>0){console.dir(I,{depth:null,colors:!0});for(const n of I)w.appendFileSync(d,`\n  IAM User: ${n.userName}`),n.accessKeyId&&w.appendFileSync(d,`\n    User API Key ID: ${n.accessKeyId}`),w.appendFileSync(d,"\n")}else w.appendFileSync(d,"\n  No IAM Users found.");console.log("Discovering EC2 instances across all AWS Regions....");const N=await async function(n){let e=[];for(const a of n){const n=new c.EC2Client({region:a}),o=new c.DescribeInstancesCommand({});try{const i=await n.send(o);if(i.Reservations)if(i.Reservations.length>0){const n={region:a,ec2Found:!0};e.push(n)}else{const n={region:a,ec2Found:!1};e.push(n)}else{const n={region:a,ec2Found:!1};e.push(n)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(C);if(w.appendFileSync(d,"\n\nEC2 INSTANCE CHECK\n"),N&&N.find((n=>!0===n.ec2Found))){console.dir(N,{depth:null,colors:!0});for(const n of N)n.ec2Found&&w.appendFileSync(d,`\n  ${n.region} - found EC2 Instance(s).`)}else w.appendFileSync(d,"\n  No EC2 instances found.");console.log("Discovering VPCs across all AWS Regions....");const O=await async function(n){let e=[];for(const a of n){const n=new c.EC2Client({region:a}),o=new c.DescribeVpcsCommand({});try{const i=await n.send(o);if(i.Vpcs)if(i.Vpcs.length>0){const n={region:a,vpcFound:!0};e.push(n)}else{const n={region:a,vpcFound:!1};e.push(n)}else{const n={region:a,vpcFound:!1};e.push(n)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(C);if(w.appendFileSync(d,"\n\nVPC CHECK\n"),O&&O.length>0){console.dir(O,{depth:null,colors:!0});for(const n of O)n.vpcFound&&w.appendFileSync(d,`\n  ${n.region} - found VPC(s).`)}else w.appendFileSync(d,"\n  No VPCs found.");console.log("Discovering AWS Config configurations across all AWS Regions....");const T=await async function(n){let e=[];for(const a of n){const n=new t.CloudTrailClient({region:a}),o=new t.DescribeTrailsCommand({});try{const i=await n.send(o);if(i.trailList)for(const n of i.trailList){let o={};o=n.HomeRegion==a?{region:a,trailFound:!0,isOrgTrail:n.IsMultiRegionTrail,isMultiRegion:n.IsMultiRegionTrail}:{region:a,trailFound:!1},e.push(o)}}catch(n){console.log(`Error checking instance: ${n}`)}finally{n.destroy()}}return e}(C),$=await async function(n){let e=[];for(const a of n){const n=new s.ConfigServiceClient({region:a});let o={region:a,configRecorderFound:!1,configDeliveryChannelFound:!1};try{const a=await n.send(new s.DescribeConfigurationRecorderStatusCommand({}));0!==a.ConfigurationRecordersStatus?.length&&(o.configRecorderFound=!0);const i=await n.send(new s.DescribeDeliveryChannelsCommand({}));0!==i.DeliveryChannels?.length&&(o.configDeliveryChannelFound=!0),e.push(o)}catch(n){console.error(`Error checking AWS Config in ${a}:`,n)}finally{n.destroy()}}return e}(C);if(w.appendFileSync(d,"\n\nAWS CONFIG CHECK\n"),$&&$.find((n=>!0===n.configRecorderFound))){console.dir($,{depth:null,colors:!0});for(const n of $)n.configRecorderFound&&w.appendFileSync(d,`\n  ${n.region} - Config Recorder found`),n.configDeliveryChannelFound&&w.appendFileSync(d,`\n  ${n.region} - Config Delivery Channel found`)}else w.appendFileSync(d,"\n  No AWS Config resource discovered");if(E.isInOrganization&&E.isManagementAccount){const n=await async function(n){const a=new e.OrganizationsClient({region:n});let o={};try{const n=new e.DescribeOrganizationCommand({}),i=await a.send(n);i.Organization&&(o.id=i.Organization.Id??"",o.arn=i.Organization.Arn??"");const c=new e.ListRootsCommand({}),t=await a.send(c);t.Roots?o.rootOuId=t.Roots[0].Id:console.log("No info found for your AWS Organization.")}catch(n){console.error(`An error occurred: ${n}`)}finally{return a.destroy(),o}}("us-east-1");console.dir(n,{depth:null,colors:!0});const a=await(async n=>{const e=new l.CostAndUsageReportServiceClient({region:n});let a=!1;try{const n={},o=new l.DescribeReportDefinitionsCommand(n),i=await e.send(o);return i.ReportDefinitions&&i.ReportDefinitions.length>0&&(a=!0),{isLegacyCurSetup:a}}catch(n){return console.error(`Error: ${n}`),a=!1,{isLegacyCurSetup:a}}finally{e.destroy()}})("us-east-1"),c=await async function(n){const a=new e.OrganizationsClient({region:n});let o={scpEnabled:!1,tagPolicyEnabled:!1,backupPolicyEnabled:!1};try{const n={},i=new e.ListRootsCommand(n),c=await a.send(i);if(c.Roots&&c.Roots[0].PolicyTypes)for(const n of c.Roots[0].PolicyTypes)"SERVICE_CONTROL_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.scpEnabled=!0),"TAG_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.tagPolicyEnabled=!0),"BACKUP_POLICY"==n.Type&&"ENABLED"==n.Status&&(o.backupPolicyEnabled=!0)}catch(n){console.error(`An error occurred: ${n}`)}finally{return a.destroy(),o}}("us-east-1");console.dir(c,{depth:null,colors:!0});const t=await async function(n){const a=[],o=new e.OrganizationsClient({region:n});try{const n=new e.ListAWSServiceAccessForOrganizationCommand({}),i=await o.send(n);if(i.EnabledServicePrincipals&&i.EnabledServicePrincipals.length>0){i.EnabledServicePrincipals;for(const n of i.EnabledServicePrincipals){const e={service:n.ServicePrincipal??""};a.push(e)}}}catch(n){console.error("Error checking service access:",n)}finally{return o.destroy(),a}}("us-east-1");console.dir(t,{depth:null,colors:!0});const s=await async function(n){let e={status:"disabled"};const a=new o.CloudFormationClient({region:n});try{const n={},i=new o.DescribeOrganizationsAccessCommand(n),c=await a.send(i);e.status=c.Status??"disabled"}catch(n){console.log(`Error: ${n}`)}finally{return a.destroy(),e}}(m);console.dir(s,{depth:null,colors:!0});const p=await async function(n){let e={};const a=new r.ControlTowerClient({region:n});try{const n=new r.ListLandingZonesCommand({}),o=await a.send(n);if(console.log(JSON.stringify(o.landingZones,null,2)),o.landingZones&&o.landingZones.length>0){const n={landingZoneIdentifier:o.landingZones[0].arn},a=o.landingZones[0].arn?.toString().split(":")[3]??"";if(a){e.controlTowerRegion=a;const o=new r.ControlTowerClient({region:a}),i=new r.GetLandingZoneCommand(n),c=await o.send(i);c.landingZone&&(console.log(JSON.stringify(c.landingZone,null,2)),e.status=c.landingZone.status,e.latestAvailableVersion=c.landingZone.latestAvailableVersion,e.deployedVersion=c.landingZone.version,e.driftStatus=c.landingZone.driftStatus?.status)}}}catch(e){console.error(`Error checking Control Tower in ${n}:`,e)}finally{a.destroy()}return e}(m),E=await async function(n){let e={found:!1};for(const a of n){const n=new i.SSOAdminClient({region:a});try{const o={MaxResults:Number("100")},c=new i.ListInstancesCommand(o),t=await n.send(c);if(t.Instances&&t.Instances.length>0){const n=t.Instances[0];e.found=!0,e.region=a,e.arn=n.InstanceArn,e.id=n.IdentityStoreId;break}}catch(n){console.log(`Error looking for AWS Identity Center details in region ${a}`)}finally{n.destroy()}}return e}(C);console.dir(E,{depth:null,colors:!0});const $=await async function(){let n=[];const a=new e.OrganizationsClient({region:"us-east-1"});let o={};try{const i=new e.ListDelegatedAdministratorsCommand({}),c=await a.send(i);if(c.DelegatedAdministrators)for(const i of c.DelegatedAdministrators){const c={AccountId:i.Id},t=new e.ListDelegatedServicesForAccountCommand(c),s=await a.send(t);s.DelegatedServices&&(o={services:s.DelegatedServices,accountName:i.Name},n.push(o))}}catch(n){console.log("Error looking for delegated services.")}finally{a.destroy()}return n}();console.dir($,{depth:null,colors:!0});const h=await async function(){let n=[];const a=new e.OrganizationsClient({region:"us-east-1"});try{const o=await a.send(new e.ListAccountsCommand({}));if(o.Accounts&&o.Accounts.length>0)for(const e of o.Accounts){let a={accountName:e.Name,accountEmail:e.Email};n.push(a)}}catch(n){console.error("Error listing AWS accounts:",n)}finally{a.destroy()}return n}();console.dir(h,{depth:null,colors:!0}),w.appendFileSync(d,"\n\nMANAGEMENT ACCOUNT RECOMMENDED TASKS:");let v=1;const R="Management Account";if(I&&I.length>0)for(const n of I){const e=await S(v,R,n.userName);if(w.appendFileSync(d,`\n  ${e}`),v++,n.accessKeyId){const e=await y(v,R,n.userName,n.accessKeyId);w.appendFileSync(d,`\n  ${e}`),v++}}if(N&&N.find((n=>!0===n.ec2Found)))for(const n of N)if(n.ec2Found&&n.region){const e=await g(v,R,n.region);w.appendFileSync(d,`\n  ${e}`),v++}if(O&&O.length>0)for(const n of O)if(n.vpcFound&&n.region){const e=await f(v,R,n.region);w.appendFileSync(d,`\n  ${e}`),v++}if(w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    GOVERNANCE"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS ORGANIZATION POLICY TYPES\n"),w.appendFileSync(d,`\n  Service Control Policies (SCP) enabled: ${c.scpEnabled}`),w.appendFileSync(d,`\n  Tag Policies enabled: ${c.tagPolicyEnabled}`),w.appendFileSync(d,`\n  Backup Policies enabled: ${c.backupPolicyEnabled}`),w.appendFileSync(d,"\n\nAWS ORGANIZATION CLOUDFORMATION\n"),w.appendFileSync(d,`\n  AWS CloudFormation Organization stack sets status : ${s.status}`),w.appendFileSync(d,"\n\nCLOUDTRAIL CHECK\n"),T&&T.length>0){console.dir(T,{depth:null,colors:!0});for(const n of T)n.trailFound&&(w.appendFileSync(d,`\n  CloudTrail found in ${n.region}`),w.appendFileSync(d,`\n    Is Organization Trail: ${n.isOrgTrail}`),w.appendFileSync(d,`\n    Is MultiRegion: ${n.isMultiRegion}`),w.appendFileSync(d,"\n"))}else w.appendFileSync(d,"\n  No AWS CloudTrail resource discovered");w.appendFileSync(d,"\n\nGOVERNANCE SERVICES ENABLED IN AWS ORGANIZATION:\n"),t.find((n=>"cloudtrail.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS CloudTrail"),t.find((n=>"config.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS Config"),w.appendFileSync(d,"\n\nGOVERNANCE RECOMMENDED TASKS:");const D="Governance";let z=1;if(!t.find((n=>"cloudtrail.amazonaws.com"===n.service))){const n=await A(z,D,"AWS CloudTrail");w.appendFileSync(d,`\n  ${n}`),z++}if(!t.find((n=>"config.amazonaws.com"===n.service))){const n=await A(z,D,"AWS Config");w.appendFileSync(d,`\n  ${n}`),z++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                FINANCIAL MANAGEMENT"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nLegacy CUR"),w.appendFileSync(d,`\n  Is legacy CUR setup: ${a.isLegacyCurSetup}`),w.appendFileSync(d,"\n\nCLOUD FINANCIAL MANAGEMENT RECOMMENDED TASKS:");let W=1;const M="Cloud Financial Management";if(!a.isLegacyCurSetup){const n=await async function(n,e){return`${e} - Task ${n} - Enable and create an Cost and Utilization Report in the billing console.`}(W,M);w.appendFileSync(d,`\n  ${n}`)}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                MULTI-ACCOUNT STRATEGY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS ORGANIZATION DETAILS\n"),w.appendFileSync(d,`\n  AWS Organization Id: ${n.id}`),w.appendFileSync(d,`\n  AWS Organization ARN: ${n.arn}`),w.appendFileSync(d,`\n  AWS Organization Root OU Id: ${n.rootOuId}`),w.appendFileSync(d,"\n\nAWS ORGANIZATION CLOUDFORMATION\n"),w.appendFileSync(d,`\n  AWS CloudFormation Organization stack sets status : ${s.status}`);let L,b,P,k=!1;if(n.rootOuId){const a=await async function(n,a){const o=new e.OrganizationsClient({region:n});let i=[];try{const n=new e.ListOrganizationalUnitsForParentCommand({ParentId:a}),c=await o.send(n);if(c.OrganizationalUnits)for(const n of c.OrganizationalUnits){let a={id:n.Id,name:n.Name};const c=await o.send(new e.ListAccountsForParentCommand({ParentId:n.Id}));c.Accounts&&c.Accounts.length>0&&(a.accounts=c.Accounts),i.push(a)}}catch(n){return console.error("Error checking service access:",n),[]}finally{o.destroy()}return i}("us-east-1",n.rootOuId);if(console.dir(a,{depth:null,colors:!0}),w.appendFileSync(d,"\n\nAWS ORGANIZATION TOP-LEVEL ORGANIZATION UNITS\n"),w.appendFileSync(d,"\n  List of Organization's top-level OUs and AWS accounts:"),a&&a.length>0)for(const n of a)if("suspended"===n.name?.toLowerCase()&&(b=!0),"transitional"===n.name?.toLowerCase()&&(L=!0),"workloads"===n.name?.toLowerCase()&&(P=!0),"security"===n.name?.toLowerCase()&&(k=!0),w.appendFileSync(d,`\n    Organizational Unit: ${n.name}`),w.appendFileSync(d,`\n      Organizational Unit Id: ${n.id}`),n.accounts&&n.accounts.length>0){w.appendFileSync(d,"\n      AWS Accounts:");for(const e of n.accounts)w.appendFileSync(d,`\n        ${e.Name}`);w.appendFileSync(d,"\n")}else w.appendFileSync(d,"\n      AWS Accounts: None"),w.appendFileSync(d,"\n");else w.appendFileSync(d,"\n  No top level OUs found.")}if(w.appendFileSync(d,"\n\nAWS ORGANIZATION MEMBER ACCOUNTS\n"),h&&h.length>0)for(const n of h)w.appendFileSync(d,`\n  Account: ${n.accountName}`),w.appendFileSync(d,`\n  Account Email: ${n.accountEmail}\n`);else w.appendFileSync(d,"No member accounts found which is amazing as this is running from one.");w.appendFileSync(d,"\n\nAWS ORGANIZATION ENABLED SERVICES\n"),w.appendFileSync(d,"\n  The following AWS Services are enabled within your AWS Organization:");for(const n of t)w.appendFileSync(d,`\n    ${n.service}`);let U=!1,G=!1,K=!1,V=!1,Z=!1,B=!1,Y=!1,q=!1,H=!1;if(w.appendFileSync(d,"\n\nAWS ORGANIZATION INTEGRATED SERVICE REGISTERED DELEGATED ADMINS\n"),$&&$.length>0)for(const n of $){if(w.appendFileSync(d,`\n  Account: ${n.accountName}`),n.services&&n.services.length>0){w.appendFileSync(d,"\n  Delegated Services:");for(const e of n.services)w.appendFileSync(d,`\n    ${e.ServicePrincipal}`),"securityhub.amazonaws.com"===e.ServicePrincipal&&(G=!0),"guardduty.amazonaws.com"===e.ServicePrincipal&&(K=!0),"sso.amazonaws.com"===e.ServicePrincipal&&(U=!0),"config.amazonaws.com"===e.ServicePrincipal&&(V=!0),"access-analyzer.amazonaws.com"===e.ServicePrincipal&&(Z=!0),"storage-lens.s3.amazonaws.com"===e.ServicePrincipal&&(B=!0),"ipam.amazonaws.com"===e.ServicePrincipal&&(Y=!0),"account.amazonaws.com"===e.ServicePrincipal&&(q=!0),"backup.amazonaws.com"===e.ServicePrincipal&&(H=!0)}w.appendFileSync(d,"\n ")}else w.appendFileSync(d,"\n  No delegated admin accounts in AWS Organization");w.appendFileSync(d,"\n\nMULTI-ACCOUNT STRATEGY RECOMMENDED TASKS:");let x=1,_="Multi-Account Strategy";const J=await async function(n,e){return`${e} - Task ${n} - Review and validate your email addresses and email domains for the root user administrator for the account is up to date.`}(x,_);if(w.appendFileSync(d,`\n  ${J}`),x++,!L){const n=await u(x,_,"Transitional");w.appendFileSync(d,`\n  ${n}`),x++}if(!b){const n=await u(x,_,"Suspended");w.appendFileSync(d,`\n  ${n}`),x++}if(!P){const n=await u(x,_,"Workloads");w.appendFileSync(d,`\n  ${n}`),x++}if(!k){const n=await u(x,_,"Security");w.appendFileSync(d,`\n  ${n}`),x++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                  LANDING ZONE"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS CONTROL TOWER\n"),p.controlTowerRegion?(console.dir(p,{depth:null,colors:!0}),w.appendFileSync(d,`\n  Control Tower home region: ${p.controlTowerRegion}`),w.appendFileSync(d,`\n  Control Tower status: ${p.status}`),w.appendFileSync(d,`\n  Control Tower Landing Zone version: ${p.deployedVersion}`),w.appendFileSync(d,`\n  Latest available version: ${p.latestAvailableVersion}`),w.appendFileSync(d,`\n  Drift Status: ${p.driftStatus}`)):w.appendFileSync(d,"\n  AWS Control Tower is not deployed in the AWS Organization"),w.appendFileSync(d,"\n\nLANDING ZONE RECOMMENDED TASKS:");let j=1;const Q="Landing Zone";if(void 0===p.controlTowerRegion){const n=await async function(n,e){return`${e} - Task ${n} - Deploy AWS Control Tower in your home AWS Region.`}(j,Q);w.appendFileSync(d,`\n  ${n}`),j++}if("DRIFTED"===p.driftStatus){const n=await async function(n,e){return`${e} - Task ${n} - Fix drift in deployed landing zone.`}(j,Q);w.appendFileSync(d,`\n  ${n}`),j++}if(p.deployedVersion!==p.latestAvailableVersion){const n=p.deployedVersion??"",e=p.latestAvailableVersion??"",a=await async function(n,e,a,o){return`${e} - Task ${n} - Update your AWS Control Tower Landing Zone from ${a} to ${o}.`}(j,Q,n,e);w.appendFileSync(d,`\n  ${a}`),j++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    IDENTITY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS IAM IDENTITY CENTER\n"),w.appendFileSync(d,`\n  IdC Region: ${E.region}`),w.appendFileSync(d,`\n  IdC ARN: ${E.arn}`),w.appendFileSync(d,`\n  IdC Instance Id: ${E.id}`),w.appendFileSync(d,"\n\nIDENTITY RECOMMENDED TASKS:");let X=1;const nn="Identity";if(!t.find((n=>"sso.amazonaws.com"===n.service))){const n=await A(X,nn,"AWS IAM Identity Center");w.appendFileSync(d,`\n  ${n}`),X++}if(!U){const n=await F(X,nn,"AWS IAM Identity Center");w.appendFileSync(d,`\n  ${n}`),X++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    SECURITY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nAWS SECURITY SERVICES ENABLED IN AWS ORGANIZATION:\n"),t.find((n=>"guardduty.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS GuardDuty"),t.find((n=>"securityhub.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS Security Hub"),t.find((n=>"access-analyzer.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  IAM Access Analyzer"),t.find((n=>"macie.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  Macie"),t.find((n=>"storage-lens.s3.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  Amazon S3 Storage Lens"),t.find((n=>"inspector2.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  Amazon Inspector"),t.find((n=>"cloudtrail.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS CloudTrail"),t.find((n=>"config.amazonaws.com"===n.service))&&w.appendFileSync(d,"\n  AWS Config"),w.appendFileSync(d,"\n\nSECURITY RECOMMENDED TASKS:");let en=1;const an="Security";if(!t.find((n=>"guardduty.amazonaws.com"===n.service))){const n=await A(en,an,"AWS GuardDuty");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"securityhub.amazonaws.com"===n.service))){const n=await A(en,an,"AWS SecurityHub");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"access-analyzer.amazonaws.com"===n.service))){const n=await A(en,an,"AWS IAM Access Analyzer");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"cloudtrail.amazonaws.com"===n.service))){const n=await A(en,an,"AWS CloudTrail");w.appendFileSync(d,`\n  ${n}`),en++}if(!t.find((n=>"config.amazonaws.com"===n.service))){const n=await A(en,an,"AWS Config");w.appendFileSync(d,`\n  ${n}`),en++}if(!G){const n=await F(en,an,"Security Hub");w.appendFileSync(d,`\n  ${n}`),en++}if(!K){const n=await F(en,an,"GuardDuty");w.appendFileSync(d,`\n  ${n}`),en++}if(!V){const n=await F(en,an,"AWS Config");w.appendFileSync(d,`\n  ${n}`),en++}if(!Z){const n=await F(en,an,"AWS IAM Access Analyzer");w.appendFileSync(d,`\n  ${n}`),en++}if(!B){const n=await F(en,an,"S3 Storage Lens");w.appendFileSync(d,`\n  ${n}`),en++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                    NETWORK"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nNETWORK RECOMMENDED TASKS:");let on=1;const cn="Network";if(!t.find((n=>"guardduty.amazonaws.com"===n.service))){const n=await A(on,cn,"AWS GuardDuty");w.appendFileSync(d,`\n  ${n}`),on++}if(!t.find((n=>"ipam.amazonaws.com"===n.service))){const n=await A(on,cn,"AWS IPAM");w.appendFileSync(d,`\n  ${n}`),on++}if(!t.find((n=>"ram.amazonaws.com"===n.service))){const n=await A(on,cn,"AWS Resource Access Manager");w.appendFileSync(d,`\n  ${n}`),on++}if(!Y){const n=await F(on,cn,"AWS IPAM");w.appendFileSync(d,`\n  ${n}`),on++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n                  OBSERVABILITY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nOBSERVABILITY RECOMMENDED TASKS:");let tn=1;const sn="Observability";if(!t.find((n=>"account.amazonaws.com"===n.service))){const n=await A(tn,sn,"Account Manager");w.appendFileSync(d,`\n  ${n}`),tn++}if(!q){const n=await F(tn,sn,"Account Manager");w.appendFileSync(d,`\n  ${n}`),tn++}w.appendFileSync(d,"\n\n*********************************************************"),w.appendFileSync(d,"\n               BACKUP AND RECOVERY"),w.appendFileSync(d,"\n*********************************************************"),w.appendFileSync(d,"\n\nBACKUP AND RECOVERY RECOMMENDED TASKS:");let rn=1;const ln="Backup and Recovery";if(!t.find((n=>"backup.amazonaws.com"===n.service))){const n=await A(rn,ln,"AWS Backup");w.appendFileSync(d,`\n  ${n}`),rn++}if(!H){const n=await F(rn,ln,"AWS Backup");w.appendFileSync(d,`\n  ${n}`),rn++}}else if(E.isInOrganization&&!E.isManagementAccount){const n="\nWARNING: You are running Pathfinder from an account that is a member of your AWS Organization. Please run the solution from your AWS Management account.";console.warn(n),w.appendFileSync(d,n)}else{const n="\nWARNING: You are running Pathfinder from an account that not part of an AWS Organization. This account will be treated as a standalone account.";console.warn(n),w.appendFileSync(d,n)}w.appendFileSync(d,"\n\n\n  END REVIEW")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQW1DZ0QsR0FBY0MsR0FBWSxtQkFDbkYsaUJBQWtCOVEsRUFBWSxPQUFPNk4sS0FDckNnRCxJQUNKLENBQ0EsSUFBS2pCLEVBQWtCLENBQ25CLE1BQU0vQixRQUFnQixFQUF1Q2dELEdBQWNDLEdBQVksbUJBQ3ZGLGlCQUFrQjlRLEVBQVksT0FBTzZOLEtBQ3JDZ0QsSUFDSixDQUNBLGlCQUFrQjdRLEVBQVksaUVBQzlCLGlCQUFrQkEsRUFBWSx3Q0FDOUIsaUJBQWtCQSxFQUFZLCtEQUU5QixpQkFBa0JBLEVBQVksOENBQzlCLElBQUkrUSxHQUFpQixFQUNyQixNQUFNQyxHQUFpQixzQkFFdkIsSUFBS2pJLEVBQW1CbEUsTUFBS0MsR0FBMkIseUJBQWxCQSxFQUFNeUUsVUFBcUMsQ0FDN0UsTUFBTXNFLFFBQWdCLEVBQW1Da0QsR0FBZ0JDLEdBQWdCLGNBQ3pGLGlCQUFrQmhSLEVBQVksT0FBTzZOLEtBQ3JDa0QsSUFDSixDQUNBLElBQUtsQixFQUFpQixDQUNsQixNQUFNaEMsUUFBZ0IsRUFBdUNrRCxHQUFnQkMsR0FBZ0IsY0FDN0YsaUJBQWtCaFIsRUFBWSxPQUFPNk4sS0FDckNrRCxJQUNKLENBQ0osTUFDSyxHQUFJMVAsRUFBWUcsbUJBQXFCSCxFQUFZSSxvQkFBcUIsQ0FDdkUsTUFBTW9NLEVBQVUsNkpBQ2hCM00sUUFBUStQLEtBQUtwRCxHQUNiLGlCQUFrQjdOLEVBQVk2TixFQUNsQyxLQUNLLENBQ0QsTUFBTUEsRUFBVSxvSkFDaEIzTSxRQUFRK1AsS0FBS3BELEdBQ2IsaUJBQWtCN04sRUFBWTZOLEVBQ2xDLENBQ0EsaUJBQWtCN04sRUFBWSxxQkFBcUIsRUFFdkRrUixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWlhbVwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZGZvcm1hdGlvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBjb21tb25qcyBcIkBhd3Mtc2RrL2NsaWVudC1zc28tYWRtaW5cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtZWMyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWxcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY29uZmlnLXNlcnZpY2VcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgY29tbW9uanMgXCJAYXdzLXNkay9jbGllbnQtY29udHJvbHRvd2VyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIGNvbW1vbmpzIFwiQGF3cy1zZGsvY2xpZW50LWNvc3QtYW5kLXVzYWdlLXJlcG9ydC1zZXJ2aWNlXCIiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvdGFza3MuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJmc1wiIiwid2VicGFjazovLy8uL2J1aWxkL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtcmVnaW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9kZWZpbmUtYWNjb3VudC10eXBlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLWlhbS11c2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1lYzItZXhpc3RlbmNlLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2NoZWNrLXZwYy1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY2xvdWR0cmFpbC1leGlzdGVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY29uZmlnLWV4aXN0ZW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stbGVnYWN5LWN1ci5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctcG9saWN5LXR5cGVzLmpzIiwid2VicGFjazovLy8uL2J1aWxkL3NyYy9hY3Rpb25zL2dldC1lbmFibGVkLW9yZy1zZXJ2aWNlcy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9jaGVjay1vcmctY2xvdWRmb3JtYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvY2hlY2stY29udHJvbC10b3dlci5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtaWRjLWluZm8uanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvc3JjL2FjdGlvbnMvZ2V0LW9yZy1kYS1hY2NvdW50cy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLW1lbWJlci1hY2NvdW50cy5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9zcmMvYWN0aW9ucy9nZXQtb3JnLW91cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1zdHNcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1pYW1cIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb25cIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJAYXdzLXNkay9jbGllbnQtc3NvLWFkbWluXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWVjMlwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNvbmZpZy1zZXJ2aWNlXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiQGF3cy1zZGsvY2xpZW50LWNvbnRyb2x0b3dlclwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NsaWVudC1jb3N0LWFuZC11c2FnZS1yZXBvcnQtc2VydmljZVwiKTsiLCJleHBvcnQgdmFyIFdheXBvaW50O1xuKGZ1bmN0aW9uIChXYXlwb2ludCkge1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiTWFuYWdlbWVudCBBY2NvdW50XCJdID0gMF0gPSBcIk1hbmFnZW1lbnQgQWNjb3VudFwiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiR292ZXJuYW5jZVwiXSA9IDFdID0gXCJHb3Zlcm5hbmNlXCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJGaW5hbmNpYWwgTWFuYWdlbWVudFwiXSA9IDJdID0gXCJGaW5hbmNpYWwgTWFuYWdlbWVudFwiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiTXVsdGktQWNjb3VudCBTdHJhdGVneVwiXSA9IDNdID0gXCJNdWx0aS1BY2NvdW50IFN0cmF0ZWd5XCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJMYW5kaW5nIFpvbmVcIl0gPSA0XSA9IFwiTGFuZGluZyBab25lXCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJJZGVudGl0eVwiXSA9IDVdID0gXCJJZGVudGl0eVwiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiU2VjdXJpdHlcIl0gPSA2XSA9IFwiU2VjdXJpdHlcIjtcbiAgICBXYXlwb2ludFtXYXlwb2ludFtcIk5ldHdvcmtcIl0gPSA3XSA9IFwiTmV0d29ya1wiO1xuICAgIFdheXBvaW50W1dheXBvaW50W1wiT2JzZXJ2YWJpbGl0eVwiXSA9IDhdID0gXCJPYnNlcnZhYmlsaXR5XCI7XG4gICAgV2F5cG9pbnRbV2F5cG9pbnRbXCJCYWNrdXAgYW5kIFJlY292ZXJ5XCJdID0gOV0gPSBcIkJhY2t1cCBhbmQgUmVjb3ZlcnlcIjtcbn0pKFdheXBvaW50IHx8IChXYXlwb2ludCA9IHt9KSk7XG5leHBvcnQgdmFyIFRvcExldmVsT3VzO1xuKGZ1bmN0aW9uIChUb3BMZXZlbE91cykge1xuICAgIFRvcExldmVsT3VzW1RvcExldmVsT3VzW1wiV29ya2xvYWRzXCJdID0gMF0gPSBcIldvcmtsb2Fkc1wiO1xuICAgIFRvcExldmVsT3VzW1RvcExldmVsT3VzW1wiU2VjdXJpdHlcIl0gPSAxXSA9IFwiU2VjdXJpdHlcIjtcbiAgICBUb3BMZXZlbE91c1tUb3BMZXZlbE91c1tcIlRyYW5zaXRpb25hbFwiXSA9IDJdID0gXCJUcmFuc2l0aW9uYWxcIjtcbiAgICBUb3BMZXZlbE91c1tUb3BMZXZlbE91c1tcIlN1c3BlbmRlZFwiXSA9IDNdID0gXCJTdXNwZW5kZWRcIjtcbiAgICBUb3BMZXZlbE91c1tUb3BMZXZlbE91c1tcIkV4Y2VwdGlvbnNcIl0gPSA0XSA9IFwiRXhjZXB0aW9uc1wiO1xufSkoVG9wTGV2ZWxPdXMgfHwgKFRvcExldmVsT3VzID0ge30pKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBsb3lDb25maWdSZWNvcmRlclRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIHJlZ2lvbikge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBEZXBsb3kgQVdTIENvbmZpZyBSZWNvcmRlciB0byB0aGUgJHtyZWdpb259IHJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcGxveUNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbFRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIHJlZ2lvbikge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBBZGQgQVdTIENvbmZpZyBEZWxpdmVyeSBDaGFubmVsIHRvIHRoZSAke3JlZ2lvbn0gcmVnaW9uLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVwbG95Q2xvdWRUcmFpbE9yZ1RyYWlsVGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBDcmVhdGUgYSBtdWx0aS1yZWdpb24gQ2xvdWRUcmFpbCBPcmdhbml6YXRpb24gVHJhaWwgaW4geW91ciBob21lIEFXUyBSZWdpb24uYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBsb3lDb250cm9sVG93ZXJUYXNrKHRhc2tOdW1iZXIsIHdheXBvaW50KSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlcGxveSBBV1MgQ29udHJvbCBUb3dlciBpbiB5b3VyIGhvbWUgQVdTIFJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUx6Q29udHJvbFRvd2VyVGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgY3VycmVudFZlcnNpb24sIGxhdGVzdFZlcnNpb24pIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gVXBkYXRlIHlvdXIgQVdTIENvbnRyb2wgVG93ZXIgTGFuZGluZyBab25lIGZyb20gJHtjdXJyZW50VmVyc2lvbn0gdG8gJHtsYXRlc3RWZXJzaW9ufS5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpeEx6RHJpZnQodGFza051bWJlciwgd2F5cG9pbnQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRml4IGRyaWZ0IGluIGRlcGxveWVkIGxhbmRpbmcgem9uZS5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcGxveU91VGFzayh0YXNrTnVtYmVyLCB3YXlwb2ludCwgT3VOYW1lKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlcGxveSB0b3AtbGV2ZWwgT1UgJHtPdU5hbWV9LmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlSWFtVXNlclRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIElhbVVzZXJOYW1lKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIFJlbW92ZSBJQU0gdXNlciAke0lhbVVzZXJOYW1lfWA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlSWFtVXNlckFwaUtleVRhc2sodGFza051bWJlciwgd2F5cG9pbnQsIElhbVVzZXJOYW1lLCBJYW1Vc2VyQXBpS2V5SWQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gUmVtb3ZlIElBTSB1c2VyICR7SWFtVXNlck5hbWV9IEFQSSBrZXk6ICR7SWFtVXNlckFwaUtleUlkfWA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVnBjKHRhc2tOdW1iZXIsIHdheXBvaW50LCByZWdpb24pIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRGVsZXRlIFZQQyBpbiB0aGUgJHtyZWdpb259IHJlZ2lvbi5gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUVjMih0YXNrTnVtYmVyLCB3YXlwb2ludCwgcmVnaW9uKSB7XG4gICAgY29uc3QgdGFzayA9IGAke3dheXBvaW50fSAtIFRhc2sgJHt0YXNrTnVtYmVyfSAtIERlbGV0ZSBWUEMgaW4gdGhlICR7cmVnaW9ufSByZWdpb24uYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKHRhc2tOdW1iZXIsIHdheXBvaW50LCBzZXJ2aWNlTmFtZSkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBFbmFibGUgdGhlIEFXUyBzZXJ2aWNlICR7c2VydmljZU5hbWV9IHdpdGhpbiB5b3VyIEFXUyBPcmdhbml6YXRpb25gO1xuICAgIHJldHVybiB0YXNrO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlKHRhc2tOdW1iZXIsIHdheXBvaW50LCBzZXJ2aWNlTmFtZSkge1xuICAgIGNvbnN0IHRhc2sgPSBgJHt3YXlwb2ludH0gLSBUYXNrICR7dGFza051bWJlcn0gLSBEZWxlZ2F0ZSB0aGUgQVdTIHNlcnZpY2UgJHtzZXJ2aWNlTmFtZX0gd2l0aGluIHlvdXIgQVdTIE9yZ2FuaXphdGlvbiB0byBhIG1lbWJlciBhY2NvdW50YDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmFibGVBd3NDdXIodGFza051bWJlciwgd2F5cG9pbnQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gRW5hYmxlIGFuZCBjcmVhdGUgYW4gQ29zdCBhbmQgVXRpbGl6YXRpb24gUmVwb3J0IGluIHRoZSBiaWxsaW5nIGNvbnNvbGUuYDtcbiAgICByZXR1cm4gdGFzaztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXZpZXdBY2NvdW50RW1haWxBZGRyZXNzZXModGFza051bWJlciwgd2F5cG9pbnQpIHtcbiAgICBjb25zdCB0YXNrID0gYCR7d2F5cG9pbnR9IC0gVGFzayAke3Rhc2tOdW1iZXJ9IC0gUmV2aWV3IGFuZCB2YWxpZGF0ZSB5b3VyIGVtYWlsIGFkZHJlc3NlcyBhbmQgZW1haWwgZG9tYWlucyBmb3IgdGhlIHJvb3QgdXNlciBhZG1pbmlzdHJhdG9yIGZvciB0aGUgYWNjb3VudCBpcyB1cCB0byBkYXRlLmA7XG4gICAgcmV0dXJuIHRhc2s7XG59XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImZzXCIpOyIsImltcG9ydCB7IGRlZmluZUFjY291bnRUeXBlIH0gZnJvbSAnLi9zcmMvYWN0aW9ucy9kZWZpbmUtYWNjb3VudC10eXBlLmpzJztcbmltcG9ydCBjaGVja0lhbVVzZXJzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2staWFtLXVzZXJzLmpzJztcbmltcG9ydCBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctcG9saWN5LXR5cGVzLmpzJztcbmltcG9ydCBnZXRFbmFibGVkT3JnU2VydmljZXMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtZW5hYmxlZC1vcmctc2VydmljZXMuanMnO1xuaW1wb3J0IGdldE9yZ0Nsb3VkRm9ybWF0aW9uIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stb3JnLWNsb3VkZm9ybWF0aW9uLmpzJztcbmltcG9ydCBnZXRJZGNJbmZvIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LWlkYy1pbmZvLmpzJztcbmltcG9ydCBnZXRPcmdEZXRhaWxzIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LW9yZy1kZXRhaWxzLmpzJztcbmltcG9ydCBnZXRPcmdUb3BMZXZlbE91cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctb3VzLmpzJztcbmltcG9ydCBnZXRBbGxSZWdpb25zIGZyb20gJy4vc3JjL2FjdGlvbnMvZ2V0LXJlZ2lvbnMuanMnO1xuaW1wb3J0IGNoZWNrRWMyRXhpc3RzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stZWMyLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgY2hlY2tWcGNFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay12cGMtZXhpc3RlbmNlLmpzJztcbmltcG9ydCBjaGVja0Nsb3VkVHJhaWxFeGlzdHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1jbG91ZHRyYWlsLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgZ2V0T3JnRGFBY2NvdW50cyBmcm9tICcuL3NyYy9hY3Rpb25zL2dldC1vcmctZGEtYWNjb3VudHMuanMnO1xuaW1wb3J0IGNoZWNrQ29uZmlnRXhpc3RzIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stY29uZmlnLWV4aXN0ZW5jZS5qcyc7XG5pbXBvcnQgZ2V0T3JnTWVtYmVyQWNjb3VudHMgZnJvbSAnLi9zcmMvYWN0aW9ucy9nZXQtb3JnLW1lbWJlci1hY2NvdW50cy5qcyc7XG5pbXBvcnQgZ2V0Q29udHJvbFRvd2VyIGZyb20gJy4vc3JjL2FjdGlvbnMvY2hlY2stY29udHJvbC10b3dlci5qcyc7XG5pbXBvcnQgY2hlY2tMZWdhY3lDdXIgZnJvbSAnLi9zcmMvYWN0aW9ucy9jaGVjay1sZWdhY3ktY3VyLmpzJztcbmltcG9ydCAqIGFzIHRhc2tzIGZyb20gJy4vc3JjL2FjdGlvbnMvdGFza3MuanMnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuY29uc3QgbWFpbiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXBvcnRGaWxlID0gXCIuL1BhdGhmaW5kZXIudHh0XCI7XG4gICAgbGV0IGRhdGVUaW1lID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCByZWdpb24gPSBwcm9jZXNzLmVudi5BV1NfUkVHSU9OIHx8ICd1cy1lYXN0LTEnO1xuICAgIGNvbnN0IGFsbFJlZ2lvbnMgPSBhd2FpdCBnZXRBbGxSZWdpb25zKCk7XG4gICAgY29uc29sZS5sb2coXCJEaXNjb3ZlcmluZyB5b3VyIEFXUyBlbnZpcm9ubWVudC4uLi5cIik7XG4gICAgY29uc3QgYWNjb3VudFR5cGUgPSBhd2FpdCBkZWZpbmVBY2NvdW50VHlwZShyZWdpb24pO1xuICAgIGZzLndyaXRlRmlsZVN5bmMocmVwb3J0RmlsZSwgXCJDbG91ZCBGb3VuZGF0aW9ucyAtIFBhdGhmaW5kZXJcIik7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbkdlbmVyYXRlZCBvbjogJHtkYXRlVGltZS50b1VUQ1N0cmluZygpfSBcXG5cXG5gKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICAgICBNQU5BR0VNRU5UIEFDQ09VTlRgKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBBQ0NPVU5UIFRZUEVcXG5gKTtcbiAgICBpZiAoYWNjb3VudFR5cGUpIHtcbiAgICAgICAgY29uc29sZS5kaXIoYWNjb3VudFR5cGUsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgSXMgaW4gQVdTIE9yZ2FuaXphdGlvbjogJHthY2NvdW50VHlwZS5pc0luT3JnYW5pemF0aW9ufWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBc3Nlc3NpbmcgQVdTIE1hbmFnZW1lbnQgQWNjb3VudDogJHthY2NvdW50VHlwZS5pc01hbmFnZW1lbnRBY2NvdW50fWApO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkRpc2NvdmVyaW5nIElBTSBVc2Vycy4uLi5cIik7XG4gICAgY29uc3QgaWFtVXNlclJlc3VsdCA9IGF3YWl0IGNoZWNrSWFtVXNlcnMoKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuSUFNIFVTRVJTIENIRUNLXFxuYCk7XG4gICAgaWYgKGlhbVVzZXJSZXN1bHQgJiYgaWFtVXNlclJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUuZGlyKGlhbVVzZXJSZXN1bHQsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgZm9yIChjb25zdCBpYW1Vc2VyIG9mIGlhbVVzZXJSZXN1bHQpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIElBTSBVc2VyOiAke2lhbVVzZXIudXNlck5hbWV9YCk7XG4gICAgICAgICAgICBpZiAoaWFtVXNlci5hY2Nlc3NLZXlJZCkge1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgVXNlciBBUEkgS2V5IElEOiAke2lhbVVzZXIuYWNjZXNzS2V5SWR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIE5vIElBTSBVc2VycyBmb3VuZC5gKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJEaXNjb3ZlcmluZyBFQzIgaW5zdGFuY2VzIGFjcm9zcyBhbGwgQVdTIFJlZ2lvbnMuLi4uXCIpO1xuICAgIGNvbnN0IGVjMkNoZWNrID0gYXdhaXQgY2hlY2tFYzJFeGlzdHMoYWxsUmVnaW9ucyk7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkVDMiBJTlNUQU5DRSBDSEVDS1xcbmApO1xuICAgIGlmIChlYzJDaGVjayAmJiBlYzJDaGVjay5maW5kKHBhcmFtID0+IHBhcmFtLmVjMkZvdW5kID09PSB0cnVlKSkge1xuICAgICAgICBjb25zb2xlLmRpcihlYzJDaGVjaywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGVjMiBvZiBlYzJDaGVjaykge1xuICAgICAgICAgICAgaWYgKGVjMi5lYzJGb3VuZCkge1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7ZWMyLnJlZ2lvbn0gLSBmb3VuZCBFQzIgSW5zdGFuY2UocykuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIE5vIEVDMiBpbnN0YW5jZXMgZm91bmQuYCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRGlzY292ZXJpbmcgVlBDcyBhY3Jvc3MgYWxsIEFXUyBSZWdpb25zLi4uLlwiKTtcbiAgICBjb25zdCB2cGNDaGVjayA9IGF3YWl0IGNoZWNrVnBjRXhpc3RzKGFsbFJlZ2lvbnMpO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5WUEMgQ0hFQ0tcXG5gKTtcbiAgICBpZiAodnBjQ2hlY2sgJiYgdnBjQ2hlY2subGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmRpcih2cGNDaGVjaywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IHZwY0ZpbmQgb2YgdnBjQ2hlY2spIHtcbiAgICAgICAgICAgIGlmICh2cGNGaW5kLnZwY0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHt2cGNGaW5kLnJlZ2lvbn0gLSBmb3VuZCBWUEMocykuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIE5vIFZQQ3MgZm91bmQuYCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiRGlzY292ZXJpbmcgQVdTIENvbmZpZyBjb25maWd1cmF0aW9ucyBhY3Jvc3MgYWxsIEFXUyBSZWdpb25zLi4uLlwiKTtcbiAgICBjb25zdCBjbG91ZFRyYWlsQ2hlY2sgPSBhd2FpdCBjaGVja0Nsb3VkVHJhaWxFeGlzdHMoYWxsUmVnaW9ucyk7XG4gICAgY29uc3QgY29uZmlnQ2hlY2sgPSBhd2FpdCBjaGVja0NvbmZpZ0V4aXN0cyhhbGxSZWdpb25zKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIENPTkZJRyBDSEVDS1xcbmApO1xuICAgIGlmIChjb25maWdDaGVjayAmJiBjb25maWdDaGVjay5maW5kKHBhcmFtID0+IHBhcmFtLmNvbmZpZ1JlY29yZGVyRm91bmQgPT09IHRydWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZGlyKGNvbmZpZ0NoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGZvciAoY29uc3QgY29uZmlnRmluZCBvZiBjb25maWdDaGVjaykge1xuICAgICAgICAgICAgaWYgKGNvbmZpZ0ZpbmQuY29uZmlnUmVjb3JkZXJGb3VuZCkge1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7Y29uZmlnRmluZC5yZWdpb259IC0gQ29uZmlnIFJlY29yZGVyIGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uZmlnRmluZC5jb25maWdEZWxpdmVyeUNoYW5uZWxGb3VuZCkge1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7Y29uZmlnRmluZC5yZWdpb259IC0gQ29uZmlnIERlbGl2ZXJ5IENoYW5uZWwgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gQVdTIENvbmZpZyByZXNvdXJjZSBkaXNjb3ZlcmVkYCk7XG4gICAgfVxuICAgIC8vIGFsbCBjYWxscyByZXF1aXJlIGFuIEFXUyBPcmdhbml6YXRpb24gZXhpc3QgYW5kIHRoZSBhY2NvdW50IGJlIGEgbWFuYWdlbWVudCBhY2NvdW50XG4gICAgaWYgKGFjY291bnRUeXBlLmlzSW5Pcmdhbml6YXRpb24gJiYgYWNjb3VudFR5cGUuaXNNYW5hZ2VtZW50QWNjb3VudCkge1xuICAgICAgICBjb25zdCBvcmdEZXRhaWxzID0gYXdhaXQgZ2V0T3JnRGV0YWlscygndXMtZWFzdC0xJyk7XG4gICAgICAgIGNvbnNvbGUuZGlyKG9yZ0RldGFpbHMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3QgbGVnYWN5Q3VyQ2hlY2sgPSBhd2FpdCBjaGVja0xlZ2FjeUN1cigndXMtZWFzdC0xJyk7XG4gICAgICAgIGNvbnN0IGVuYWJsZU9yZ1BvbGljaWVzQ2hlY2sgPSBhd2FpdCBnZXRFbmFibGVkT3JnUG9saWN5VHlwZXMoJ3VzLWVhc3QtMScpO1xuICAgICAgICBjb25zb2xlLmRpcihlbmFibGVPcmdQb2xpY2llc0NoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IG9yZ0VuYWJsZWRTZXJ2aWNlcyA9IGF3YWl0IGdldEVuYWJsZWRPcmdTZXJ2aWNlcygndXMtZWFzdC0xJyk7XG4gICAgICAgIGNvbnNvbGUuZGlyKG9yZ0VuYWJsZWRTZXJ2aWNlcywgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBjZm5PcmdTdGF0dXMgPSBhd2FpdCBnZXRPcmdDbG91ZEZvcm1hdGlvbihyZWdpb24pO1xuICAgICAgICBjb25zb2xlLmRpcihjZm5PcmdTdGF0dXMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3QgY29udHJvbFRvd2VyRGV0YWlscyA9IGF3YWl0IGdldENvbnRyb2xUb3dlcihyZWdpb24pO1xuICAgICAgICBjb25zdCBpZGNJbmZvcm1hdGlvbiA9IGF3YWl0IGdldElkY0luZm8oYWxsUmVnaW9ucyk7XG4gICAgICAgIGNvbnNvbGUuZGlyKGlkY0luZm9ybWF0aW9uLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IG9yZ0RlbEFkbWluRGV0YWlscyA9IGF3YWl0IGdldE9yZ0RhQWNjb3VudHMoKTtcbiAgICAgICAgY29uc29sZS5kaXIob3JnRGVsQWRtaW5EZXRhaWxzLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IG9yZ01lbWJlckFjY291bnREZXRhaWxzID0gYXdhaXQgZ2V0T3JnTWVtYmVyQWNjb3VudHMoKTtcbiAgICAgICAgY29uc29sZS5kaXIob3JnTWVtYmVyQWNjb3VudERldGFpbHMsIHsgZGVwdGg6IG51bGwsIGNvbG9yczogdHJ1ZSB9KTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIE1BTkFHRU1FTlQgQUNDT1VOVCAvLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5NQU5BR0VNRU5UIEFDQ09VTlQgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBtZ3RUYXNrTnVtYmVyID0gMTtcbiAgICAgICAgY29uc3QgbWFuYWdlbWVudEFjY291bnRXYXlwb2ludCA9IFwiTWFuYWdlbWVudCBBY2NvdW50XCI7XG4gICAgICAgIGlmIChpYW1Vc2VyUmVzdWx0ICYmIGlhbVVzZXJSZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpYW1Vc2VyIG9mIGlhbVVzZXJSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MucmVtb3ZlSWFtVXNlclRhc2sobWd0VGFza051bWJlciwgbWFuYWdlbWVudEFjY291bnRXYXlwb2ludCwgaWFtVXNlci51c2VyTmFtZSk7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIG1ndFRhc2tOdW1iZXIrKztcbiAgICAgICAgICAgICAgICBpZiAoaWFtVXNlci5hY2Nlc3NLZXlJZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MucmVtb3ZlSWFtVXNlckFwaUtleVRhc2sobWd0VGFza051bWJlciwgbWFuYWdlbWVudEFjY291bnRXYXlwb2ludCwgaWFtVXNlci51c2VyTmFtZSwgaWFtVXNlci5hY2Nlc3NLZXlJZCk7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgbWd0VGFza051bWJlcisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWMyQ2hlY2sgJiYgZWMyQ2hlY2suZmluZChwYXJhbSA9PiBwYXJhbS5lYzJGb3VuZCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWMyIG9mIGVjMkNoZWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVjMi5lYzJGb3VuZCAmJiBlYzIucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxldGVFYzIobWd0VGFza051bWJlciwgbWFuYWdlbWVudEFjY291bnRXYXlwb2ludCwgZWMyLnJlZ2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgbWd0VGFza051bWJlcisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodnBjQ2hlY2sgJiYgdnBjQ2hlY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB2cGNGaW5kIG9mIHZwY0NoZWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZwY0ZpbmQudnBjRm91bmQgJiYgdnBjRmluZC5yZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlbGV0ZVZwYyhtZ3RUYXNrTnVtYmVyLCBtYW5hZ2VtZW50QWNjb3VudFdheXBvaW50LCB2cGNGaW5kLnJlZ2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgbWd0VGFza051bWJlcisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICAgIEdPVkVSTkFOQ0VgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBQT0xJQ1kgVFlQRVNcXG5gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgU2VydmljZSBDb250cm9sIFBvbGljaWVzIChTQ1ApIGVuYWJsZWQ6ICR7ZW5hYmxlT3JnUG9saWNpZXNDaGVjay5zY3BFbmFibGVkfWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBUYWcgUG9saWNpZXMgZW5hYmxlZDogJHtlbmFibGVPcmdQb2xpY2llc0NoZWNrLnRhZ1BvbGljeUVuYWJsZWR9YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEJhY2t1cCBQb2xpY2llcyBlbmFibGVkOiAke2VuYWJsZU9yZ1BvbGljaWVzQ2hlY2suYmFja3VwUG9saWN5RW5hYmxlZH1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBPUkdBTklaQVRJT04gQ0xPVURGT1JNQVRJT05cXG5gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIENsb3VkRm9ybWF0aW9uIE9yZ2FuaXphdGlvbiBzdGFjayBzZXRzIHN0YXR1cyA6ICR7Y2ZuT3JnU3RhdHVzLnN0YXR1c31gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkNMT1VEVFJBSUwgQ0hFQ0tcXG5gKTtcbiAgICAgICAgaWYgKGNsb3VkVHJhaWxDaGVjayAmJiBjbG91ZFRyYWlsQ2hlY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5kaXIoY2xvdWRUcmFpbENoZWNrLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN0RmluZCBvZiBjbG91ZFRyYWlsQ2hlY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoY3RGaW5kLnRyYWlsRm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQ2xvdWRUcmFpbCBmb3VuZCBpbiAke2N0RmluZC5yZWdpb259YCk7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgSXMgT3JnYW5pemF0aW9uIFRyYWlsOiAke2N0RmluZC5pc09yZ1RyYWlsfWApO1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgIElzIE11bHRpUmVnaW9uOiAke2N0RmluZC5pc011bHRpUmVnaW9ufWApO1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gQVdTIENsb3VkVHJhaWwgcmVzb3VyY2UgZGlzY292ZXJlZGApO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5HT1ZFUk5BTkNFIFNFUlZJQ0VTIEVOQUJMRUQgSU4gQVdTIE9SR0FOSVpBVElPTjpcXG5gKTtcbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIENsb3VkVHJhaWxgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBDb25maWdgKTtcbiAgICAgICAgfVxuICAgICAgICAvLy8vLyBTRVQgVEhFIEJBQ0tMT0cgVEFTSyBGT1IgR09WRVJOQU5DRSAvLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuR09WRVJOQU5DRSBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgY29uc3QgZ292V2F5cG9pbnQgPSBcIkdvdmVybmFuY2VcIjtcbiAgICAgICAgbGV0IGdvdlRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UoZ292VGFza051bWJlciwgZ292V2F5cG9pbnQsIFwiQVdTIENsb3VkVHJhaWxcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBnb3ZUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UoZ292VGFza051bWJlciwgZ292V2F5cG9pbnQsIFwiQVdTIENvbmZpZ1wiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGdvdlRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgRklOQU5DSUFMIE1BTkFHRU1FTlRgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuTGVnYWN5IENVUmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBJcyBsZWdhY3kgQ1VSIHNldHVwOiAke2xlZ2FjeUN1ckNoZWNrLmlzTGVnYWN5Q3VyU2V0dXB9YCk7XG4gICAgICAgIC8vLy8vIFNFVCBUSEUgQkFDS0xPRyBUQVNLIEZPUiBGSU5BTkNJQUwgTUFOQUdFTUVOVCAvLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQ0xPVUQgRklOQU5DSUFMIE1BTkFHRU1FTlQgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBmaW5UYXNrTnVtYmVyID0gMTtcbiAgICAgICAgY29uc3QgZmluV2F5cG9pbnQgPSBcIkNsb3VkIEZpbmFuY2lhbCBNYW5hZ2VtZW50XCI7XG4gICAgICAgIGlmICghbGVnYWN5Q3VyQ2hlY2suaXNMZWdhY3lDdXJTZXR1cCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c0N1cihmaW5UYXNrTnVtYmVyLCBmaW5XYXlwb2ludCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgIE1VTFRJLUFDQ09VTlQgU1RSQVRFR1lgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBERVRBSUxTXFxuYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBPcmdhbml6YXRpb24gSWQ6ICR7b3JnRGV0YWlscy5pZH1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIE9yZ2FuaXphdGlvbiBBUk46ICR7b3JnRGV0YWlscy5hcm59YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBPcmdhbml6YXRpb24gUm9vdCBPVSBJZDogJHtvcmdEZXRhaWxzLnJvb3RPdUlkfWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBDTE9VREZPUk1BVElPTlxcbmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgQ2xvdWRGb3JtYXRpb24gT3JnYW5pemF0aW9uIHN0YWNrIHNldHMgc3RhdHVzIDogJHtjZm5PcmdTdGF0dXMuc3RhdHVzfWApO1xuICAgICAgICBsZXQgdHJhbnNpdGlvbmFsRm91bmQsIHN1c3BlbmRlZEZvdW5kLCB3b3JrbG9hZHNGb3VuZCwgc2VjdXJpdHlGb3VuZCA9IGZhbHNlO1xuICAgICAgICBpZiAob3JnRGV0YWlscy5yb290T3VJZCkge1xuICAgICAgICAgICAgY29uc3Qgb3JnT3VzID0gYXdhaXQgZ2V0T3JnVG9wTGV2ZWxPdXMoJ3VzLWVhc3QtMScsIG9yZ0RldGFpbHMucm9vdE91SWQpO1xuICAgICAgICAgICAgY29uc29sZS5kaXIob3JnT3VzLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBUT1AtTEVWRUwgT1JHQU5JWkFUSU9OIFVOSVRTXFxuYCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBMaXN0IG9mIE9yZ2FuaXphdGlvbidzIHRvcC1sZXZlbCBPVXMgYW5kIEFXUyBhY2NvdW50czpgKTtcbiAgICAgICAgICAgIGlmIChvcmdPdXMgJiYgb3JnT3VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG91IG9mIG9yZ091cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbmRlZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3RyYW5zaXRpb25hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25hbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3dvcmtsb2FkcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsb2Fkc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3UubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3NlY3VyaXR5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICBPcmdhbml6YXRpb25hbCBVbml0OiAke291Lm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICBPcmdhbml6YXRpb25hbCBVbml0IElkOiAke291LmlkfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3UuYWNjb3VudHMgJiYgb3UuYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgIEFXUyBBY2NvdW50czpgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBvdS5hY2NvdW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICR7YWNjb3VudC5OYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgIEFXUyBBY2NvdW50czogTm9uZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTm8gdG9wIGxldmVsIE9VcyBmb3VuZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBNRU1CRVIgQUNDT1VOVFNcXG5gKTtcbiAgICAgICAgaWYgKG9yZ01lbWJlckFjY291bnREZXRhaWxzICYmIG9yZ01lbWJlckFjY291bnREZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVtYmVyQWNjb3VudCBvZiBvcmdNZW1iZXJBY2NvdW50RGV0YWlscykge1xuICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFjY291bnQ6ICR7bWVtYmVyQWNjb3VudC5hY2NvdW50TmFtZX1gKTtcbiAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBY2NvdW50IEVtYWlsOiAke21lbWJlckFjY291bnQuYWNjb3VudEVtYWlsfVxcbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYE5vIG1lbWJlciBhY2NvdW50cyBmb3VuZCB3aGljaCBpcyBhbWF6aW5nIGFzIHRoaXMgaXMgcnVubmluZyBmcm9tIG9uZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIE9SR0FOSVpBVElPTiBFTkFCTEVEIFNFUlZJQ0VTXFxuYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIFRoZSBmb2xsb3dpbmcgQVdTIFNlcnZpY2VzIGFyZSBlbmFibGVkIHdpdGhpbiB5b3VyIEFXUyBPcmdhbml6YXRpb246YCk7XG4gICAgICAgIGZvciAoY29uc3Qgb3JnU2VydmljZSBvZiBvcmdFbmFibGVkU2VydmljZXMpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgJHtvcmdTZXJ2aWNlLnNlcnZpY2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlkZW50aXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBzZWN1cml0eUh1YkRlbGVnYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZ3VhcmREdXR5RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBjb25maWdEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBpcGFtRGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBhY2NvdW50RGVsZWdhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBiYWNrdXBEZWxlZ2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBPUkdBTklaQVRJT04gSU5URUdSQVRFRCBTRVJWSUNFIFJFR0lTVEVSRUQgREVMRUdBVEVEIEFETUlOU1xcbmApO1xuICAgICAgICBpZiAob3JnRGVsQWRtaW5EZXRhaWxzICYmIG9yZ0RlbEFkbWluRGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFjY291bnQgb2Ygb3JnRGVsQWRtaW5EZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQWNjb3VudDogJHthY2NvdW50LmFjY291bnROYW1lfWApO1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50LnNlcnZpY2VzICYmIGFjY291bnQuc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBEZWxlZ2F0ZWQgU2VydmljZXM6YCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3J2IG9mIGFjY291bnQuc2VydmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgJHtzcnYuU2VydmljZVByaW5jaXBhbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3NlY3VyaXR5aHViLmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlIdWJEZWxlZ2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNydi5TZXJ2aWNlUHJpbmNpcGFsID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmREdXR5RGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ3Nzby5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5RGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2NvbmZpZy5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ0RlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpYW1BY2Nlc3NBbmFseXplckRlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3J2LlNlcnZpY2VQcmluY2lwYWwgPT09ICdzdG9yYWdlLWxlbnMuczMuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2lwYW0uYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcGFtRGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2FjY291bnQuYW1hem9uYXdzLmNvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50RGVsZWdhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcnYuU2VydmljZVByaW5jaXBhbCA9PT0gJ2JhY2t1cC5hbWF6b25hd3MuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2t1cERlbGVnYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIE5vIGRlbGVnYXRlZCBhZG1pbiBhY2NvdW50cyBpbiBBV1MgT3JnYW5pemF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIE1VTFRJLUFDQ09VTlQgU1RSQVRFR1kgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbk1VTFRJLUFDQ09VTlQgU1RSQVRFR1kgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBtYXNUYXNrTnVtYmVyID0gMTtcbiAgICAgICAgbGV0IG1hc1dheXBvaW50ID0gJ011bHRpLUFjY291bnQgU3RyYXRlZ3knO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MucmV2aWV3QWNjb3VudEVtYWlsQWRkcmVzc2VzKG1hc1Rhc2tOdW1iZXIsIG1hc1dheXBvaW50KTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICBtYXNUYXNrTnVtYmVyKys7XG4gICAgICAgIGlmICghdHJhbnNpdGlvbmFsRm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZXBsb3lPdVRhc2sobWFzVGFza051bWJlciwgbWFzV2F5cG9pbnQsIFwiVHJhbnNpdGlvbmFsXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbWFzVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3VzcGVuZGVkRm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZXBsb3lPdVRhc2sobWFzVGFza051bWJlciwgbWFzV2F5cG9pbnQsIFwiU3VzcGVuZGVkXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbWFzVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghd29ya2xvYWRzRm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZXBsb3lPdVRhc2sobWFzVGFza051bWJlciwgbWFzV2F5cG9pbnQsIFwiV29ya2xvYWRzXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbWFzVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VjdXJpdHlGb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlcGxveU91VGFzayhtYXNUYXNrTnVtYmVyLCBtYXNXYXlwb2ludCwgXCJTZWN1cml0eVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG1hc1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICBMQU5ESU5HIFpPTkVgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuQVdTIENPTlRST0wgVE9XRVJcXG5gKTtcbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuY29udHJvbFRvd2VyUmVnaW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRpcihjb250cm9sVG93ZXJEZXRhaWxzLCB7IGRlcHRoOiBudWxsLCBjb2xvcnM6IHRydWUgfSk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBDb250cm9sIFRvd2VyIGhvbWUgcmVnaW9uOiAke2NvbnRyb2xUb3dlckRldGFpbHMuY29udHJvbFRvd2VyUmVnaW9ufWApO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQ29udHJvbCBUb3dlciBzdGF0dXM6ICR7Y29udHJvbFRvd2VyRGV0YWlscy5zdGF0dXN9YCk7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBDb250cm9sIFRvd2VyIExhbmRpbmcgWm9uZSB2ZXJzaW9uOiAke2NvbnRyb2xUb3dlckRldGFpbHMuZGVwbG95ZWRWZXJzaW9ufWApO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgTGF0ZXN0IGF2YWlsYWJsZSB2ZXJzaW9uOiAke2NvbnRyb2xUb3dlckRldGFpbHMubGF0ZXN0QXZhaWxhYmxlVmVyc2lvbn1gKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIERyaWZ0IFN0YXR1czogJHtjb250cm9sVG93ZXJEZXRhaWxzLmRyaWZ0U3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIENvbnRyb2wgVG93ZXIgaXMgbm90IGRlcGxveWVkIGluIHRoZSBBV1MgT3JnYW5pemF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIExBTkRJTkcgWk9ORSAvLy8vL1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuTEFORElORyBaT05FIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBsZXQgbHpUYXNrTnVtYmVyID0gMTtcbiAgICAgICAgY29uc3QgbHpXYXlwb2ludCA9IFwiTGFuZGluZyBab25lXCI7XG4gICAgICAgIGlmIChjb250cm9sVG93ZXJEZXRhaWxzLmNvbnRyb2xUb3dlclJlZ2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVwbG95Q29udHJvbFRvd2VyVGFzayhselRhc2tOdW1iZXIsIGx6V2F5cG9pbnQpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbHpUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRyb2xUb3dlckRldGFpbHMuZHJpZnRTdGF0dXMgPT09ICdEUklGVEVEJykge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmZpeEx6RHJpZnQobHpUYXNrTnVtYmVyLCBseldheXBvaW50KTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGx6VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250cm9sVG93ZXJEZXRhaWxzLmRlcGxveWVkVmVyc2lvbiAhPT0gY29udHJvbFRvd2VyRGV0YWlscy5sYXRlc3RBdmFpbGFibGVWZXJzaW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IGNvbnRyb2xUb3dlckRldGFpbHMuZGVwbG95ZWRWZXJzaW9uID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBsYXRlc3RWZXJzaW9uID0gY29udHJvbFRvd2VyRGV0YWlscy5sYXRlc3RBdmFpbGFibGVWZXJzaW9uID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MudXBkYXRlTHpDb250cm9sVG93ZXJUYXNrKGx6VGFza051bWJlciwgbHpXYXlwb2ludCwgY3VycmVudFZlcnNpb24sIGxhdGVzdFZlcnNpb24pO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbHpUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAgICAgICAgICAgICAgICAgICBJREVOVElUWWApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5BV1MgSUFNIElERU5USVRZIENFTlRFUlxcbmApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBJZEMgUmVnaW9uOiAke2lkY0luZm9ybWF0aW9uLnJlZ2lvbn1gKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgSWRDIEFSTjogJHtpZGNJbmZvcm1hdGlvbi5hcm59YCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIElkQyBJbnN0YW5jZSBJZDogJHtpZGNJbmZvcm1hdGlvbi5pZH1gKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIElERU5USVRZIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5JREVOVElUWSBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IHNzb1Rhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBzc29XYXlwb2ludCA9ICdJZGVudGl0eSc7XG4gICAgICAgIGlmICghb3JnRW5hYmxlZFNlcnZpY2VzLmZpbmQocGFyYW0gPT4gcGFyYW0uc2VydmljZSA9PT0gJ3Nzby5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKHNzb1Rhc2tOdW1iZXIsIHNzb1dheXBvaW50LCBcIkFXUyBJQU0gSWRlbnRpdHkgQ2VudGVyXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc3NvVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaWRlbnRpdHlEZWxlZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5kZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZShzc29UYXNrTnVtYmVyLCBzc29XYXlwb2ludCwgXCJBV1MgSUFNIElkZW50aXR5IENlbnRlclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNzb1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICAgIFNFQ1VSSVRZYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkFXUyBTRUNVUklUWSBTRVJWSUNFUyBFTkFCTEVEIElOIEFXUyBPUkdBTklaQVRJT046XFxuYCk7XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQVdTIEd1YXJkRHV0eWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnc2VjdXJpdHlodWIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgU2VjdXJpdHkgSHViYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBJQU0gQWNjZXNzIEFuYWx5emVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdtYWNpZS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIE1hY2llYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzdG9yYWdlLWxlbnMuczMuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBbWF6b24gUzMgU3RvcmFnZSBMZW5zYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdpbnNwZWN0b3IyLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgQW1hem9uIEluc3BlY3RvcmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY2xvdWR0cmFpbC5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gIEFXUyBDbG91ZFRyYWlsYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjb25maWcuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICBBV1MgQ29uZmlnYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIFNFQ1VSSVRZIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5TRUNVUklUWSBSRUNPTU1FTkRFRCBUQVNLUzpgKTtcbiAgICAgICAgbGV0IHNlY1Rhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBzZWNXYXlwb2ludCA9IFwiU2VjdXJpdHlcIjtcbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiQVdTIEd1YXJkRHV0eVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdzZWN1cml0eWh1Yi5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKHNlY1Rhc2tOdW1iZXIsIHNlY1dheXBvaW50LCBcIkFXUyBTZWN1cml0eUh1YlwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2Nlc3MtYW5hbHl6ZXIuYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShzZWNUYXNrTnVtYmVyLCBzZWNXYXlwb2ludCwgXCJBV1MgSUFNIEFjY2VzcyBBbmFseXplclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdjbG91ZHRyYWlsLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiQVdTIENsb3VkVHJhaWxcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnY29uZmlnLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiQVdTIENvbmZpZ1wiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlY3VyaXR5SHViRGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiU2VjdXJpdHkgSHViXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ3VhcmREdXR5RGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiR3VhcmREdXR5XCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZmlnRGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiQVdTIENvbmZpZ1wiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNlY1Rhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiQVdTIElBTSBBY2Nlc3MgQW5hbHl6ZXJcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZWNUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzM1N0b3JhZ2VMZW5zRGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2Uoc2VjVGFza051bWJlciwgc2VjV2F5cG9pbnQsIFwiUzMgU3RvcmFnZSBMZW5zXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgc2VjVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgICAgICAgICAgICAgICAgICAgTkVUV09SS2ApO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIC8vLy8vIFNFVCBUSEUgQkFDS0xPRyBUQVNLIEZPUiBORVRXT1JLIC8vLy8vXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG5cXG5ORVRXT1JLIFJFQ09NTUVOREVEIFRBU0tTOmApO1xuICAgICAgICBsZXQgbmV0VGFza051bWJlciA9IDE7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtXYXlwb2ludCA9ICdOZXR3b3JrJztcbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnZ3VhcmRkdXR5LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbmV0R3VhcmREdXR5RW5hYmxlTWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UobmV0VGFza051bWJlciwgbmV0d29ya1dheXBvaW50LCBcIkFXUyBHdWFyZER1dHlcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke25ldEd1YXJkRHV0eUVuYWJsZU1lc3NhZ2V9YCk7XG4gICAgICAgICAgICBuZXRUYXNrTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnaXBhbS5hbWF6b25hd3MuY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCB0YXNrcy5lbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlKG5ldFRhc2tOdW1iZXIsIG5ldHdvcmtXYXlwb2ludCwgXCJBV1MgSVBBTVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG5ldFRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdyYW0uYW1hem9uYXdzLmNvbScpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZW5hYmxlQXdzT3JnYW5pemF0aW9uU2VydmljZShuZXRUYXNrTnVtYmVyLCBuZXR3b3JrV2F5cG9pbnQsIFwiQVdTIFJlc291cmNlIEFjY2VzcyBNYW5hZ2VyXCIpO1xuICAgICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcbiAgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgbmV0VGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXBhbURlbGVnYXRlZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlKG5ldFRhc2tOdW1iZXIsIG5ldHdvcmtXYXlwb2ludCwgXCJBV1MgSVBBTVwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG5ldFRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICAgICBPQlNFUlZBQklMSVRZYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIE9CU0VSVkFCSUxJVFkgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbk9CU0VSVkFCSUxJVFkgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBvYlRhc2tOdW1iZXIgPSAxO1xuICAgICAgICBjb25zdCBvYldheXBvaW50ID0gJ09ic2VydmFiaWxpdHknO1xuICAgICAgICBpZiAoIW9yZ0VuYWJsZWRTZXJ2aWNlcy5maW5kKHBhcmFtID0+IHBhcmFtLnNlcnZpY2UgPT09ICdhY2NvdW50LmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2Uob2JUYXNrTnVtYmVyLCBvYldheXBvaW50LCBcIkFjY291bnQgTWFuYWdlclwiKTtcbiAgICAgICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIG9iVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYWNjb3VudERlbGVnYXRlZCkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmRlbGVnYXRlQWRtaW5pc3RyYXRpb25Bd3NTZXJ2aWNlKG9iVGFza051bWJlciwgb2JXYXlwb2ludCwgXCJBY2NvdW50IE1hbmFnZXJcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBvYlRhc2tOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuXFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4gICAgICAgICAgICAgICBCQUNLVVAgQU5EIFJFQ09WRVJZYCk7XG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKHJlcG9ydEZpbGUsIGBcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipgKTtcbiAgICAgICAgLy8vLy8gU0VUIFRIRSBCQUNLTE9HIFRBU0sgRk9SIEJBQ0tVUCBBTkQgUkVDT1ZFUlkgLy8vLy9cbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcbkJBQ0tVUCBBTkQgUkVDT1ZFUlkgUkVDT01NRU5ERUQgVEFTS1M6YCk7XG4gICAgICAgIGxldCBiYWNrVGFza051bWJlciA9IDE7XG4gICAgICAgIGNvbnN0IGJhY2t1cFdheXBvaW50ID0gJ0JhY2t1cCBhbmQgUmVjb3ZlcnknO1xuICAgICAgICAvLyBjaGVjayBpZiBBV1MgQmFja3VwIGlzIGVuYWJsZWRcbiAgICAgICAgaWYgKCFvcmdFbmFibGVkU2VydmljZXMuZmluZChwYXJhbSA9PiBwYXJhbS5zZXJ2aWNlID09PSAnYmFja3VwLmFtYXpvbmF3cy5jb20nKSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHRhc2tzLmVuYWJsZUF3c09yZ2FuaXphdGlvblNlcnZpY2UoYmFja1Rhc2tOdW1iZXIsIGJhY2t1cFdheXBvaW50LCBcIkFXUyBCYWNrdXBcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBiYWNrVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmFja3VwRGVsZWdhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgdGFza3MuZGVsZWdhdGVBZG1pbmlzdHJhdGlvbkF3c1NlcnZpY2UoYmFja1Rhc2tOdW1iZXIsIGJhY2t1cFdheXBvaW50LCBcIkFXUyBCYWNrdXBcIik7XG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBgXFxuICAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBiYWNrVGFza051bWJlcisrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFjY291bnRUeXBlLmlzSW5Pcmdhbml6YXRpb24gJiYgIWFjY291bnRUeXBlLmlzTWFuYWdlbWVudEFjY291bnQpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdcXG5XQVJOSU5HOiBZb3UgYXJlIHJ1bm5pbmcgUGF0aGZpbmRlciBmcm9tIGFuIGFjY291bnQgdGhhdCBpcyBhIG1lbWJlciBvZiB5b3VyIEFXUyBPcmdhbml6YXRpb24uIFBsZWFzZSBydW4gdGhlIHNvbHV0aW9uIGZyb20geW91ciBBV1MgTWFuYWdlbWVudCBhY2NvdW50Lic7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1xcbldBUk5JTkc6IFlvdSBhcmUgcnVubmluZyBQYXRoZmluZGVyIGZyb20gYW4gYWNjb3VudCB0aGF0IG5vdCBwYXJ0IG9mIGFuIEFXUyBPcmdhbml6YXRpb24uIFRoaXMgYWNjb3VudCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBzdGFuZGFsb25lIGFjY291bnQuJztcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhyZXBvcnRGaWxlLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMocmVwb3J0RmlsZSwgYFxcblxcblxcbiAgRU5EIFJFVklFV2ApO1xufTtcbm1haW4oKTtcbiIsImltcG9ydCB7IEVDMkNsaWVudCwgRGVzY3JpYmVSZWdpb25zQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtZWMyXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRBbGxSZWdpb25zKCkge1xuICAgIC8vIGdyYWJiaW5nIGFsbCByZWdpb25zIGZyb20gdXMtZWFzdC0xXG4gICAgY29uc3QgZWMyQ2xpZW50ID0gbmV3IEVDMkNsaWVudCh7IHJlZ2lvbjogXCJ1cy1lYXN0LTFcIiB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZXNjcmliZVJlZ2lvbnNDb21tYW5kID0gbmV3IERlc2NyaWJlUmVnaW9uc0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVjMkNsaWVudC5zZW5kKGRlc2NyaWJlUmVnaW9uc0NvbW1hbmQpO1xuICAgICAgICBjb25zdCByZWdpb25zID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlc3BvbnNlLlJlZ2lvbnMgfHwgW10pIHtcbiAgICAgICAgICAgIHJlZ2lvbnMucHVzaChyZWdpb24uUmVnaW9uTmFtZSB8fCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVnaW9ucztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHJlZ2lvbnM6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgZWMyQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBnZXRBbGxSZWdpb25zO1xuIiwiaW1wb3J0IHsgU1RTQ2xpZW50LCBHZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgRGVzY3JpYmVPcmdhbml6YXRpb25Db21tYW5kLCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0QWNjb3VudElkKHJlZ2lvbikge1xuICAgIGNvbnN0IHN0c0NsaWVudCA9IG5ldyBTVFNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZ2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kID0gbmV3IEdldENhbGxlcklkZW50aXR5Q29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IEFjY291bnQgPSBhd2FpdCBzdHNDbGllbnQuc2VuZChnZXRDYWxsZXJJZGVudGl0eUNvbW1hbmQpO1xuICAgICAgICByZXR1cm4gQWNjb3VudC5BY2NvdW50O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgYWNjb3VudCBJRDpcIiwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG47XG4vLyBmdW5jdGlvbiBjaGVja2luZyBpZiBtYW5hZ2VtZW50IGFjY291bnQsIG1lbWJlciBhY2NvdW50LCBvciBzdGFuZGFsb25lIGFjY291bnRcbmV4cG9ydCBjb25zdCBkZWZpbmVBY2NvdW50VHlwZSA9IGFzeW5jIChyZWdpb24pID0+IHtcbiAgICBjb25zdCBvcmdhbml6YXRpb25zQ2xpZW50ID0gbmV3IE9yZ2FuaXphdGlvbnNDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IGlzSW5Pcmdhbml6YXRpb24gPSBmYWxzZTtcbiAgICBsZXQgaXNNYW5hZ2VtZW50QWNjb3VudCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBY2NvdW50SWQgPSBhd2FpdCBnZXRBY2NvdW50SWQocmVnaW9uKTtcbiAgICAgICAgaWYgKGN1cnJlbnRBY2NvdW50SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCA9IG5ldyBEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQoe30pO1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZSA9IGF3YWl0IG9yZ2FuaXphdGlvbnNDbGllbnQuc2VuZChkZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQpO1xuICAgICAgICAgICAgLy8gdGhlIGFjY291bnQgaXMgbm90IHN0YW5kYWxvbmUgYW5kIHBhcnQgb2YgQVdTIE9yZ2FuaXphdGlvblxuICAgICAgICAgICAgaWYgKGRlc2NyaWJlT3JnYW5pemF0aW9uUmVzcG9uc2UuT3JnYW5pemF0aW9uPy5NYXN0ZXJBY2NvdW50SWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VtZW50QWNjb3VudElkID0gZGVzY3JpYmVPcmdhbml6YXRpb25SZXNwb25zZS5Pcmdhbml6YXRpb24/Lk1hc3RlckFjY291bnRJZDtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlbWVudEFjY291bnRJZCA9PSBjdXJyZW50QWNjb3VudElkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gb3JnYW5pemF0aW9uIGFuZCB0aGlzIGlzIHRoZSBtYW5hZ2VtZW50IGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgaXNNYW5hZ2VtZW50QWNjb3VudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgYW4gb3JnYW5pemF0aW9uLCBidXQgdGhpcyBpc24ndCB0aGUgbWFuYWdlbWVudCBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgIGlzSW5Pcmdhbml6YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzbid0IGFuIG9yZ2FuaXphdGlvbiBhbmQgdGhpcyBhY2NvdW50IGlzIHN0YW5kYWxvbmVcbiAgICAgICAgICAgICAgICBpc0luT3JnYW5pemF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnYW5pemF0aW9uc0NsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiB7IGlzSW5Pcmdhbml6YXRpb24sIGlzTWFuYWdlbWVudEFjY291bnQgfTtcbn07XG4iLCJpbXBvcnQgeyBJQU1DbGllbnQsIExpc3RVc2Vyc0NvbW1hbmQsIExpc3RBY2Nlc3NLZXlzQ29tbWFuZCwgR2V0QWNjZXNzS2V5TGFzdFVzZWRDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1pYW1cIjtcbi8vIGZ1bmN0aW9uIGxpc3QgYWxsIElBTSB1c2VycyBhbmQgaWYgdGhleSBoYXZlIGtleXMgaW4gdGhlIG1hbmFnZW1lbnQgYWNjb3VudFxuY29uc3QgY2hlY2tJYW1Vc2VycyA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBTZXQgdG8gdXMtZWFzdC0xIGFzIElBTSBpcyBnbG9iYWwgYW5kIHJlZ2lvbiBpc24ndCBhIGNvbmNlcm5cbiAgICBjb25zdCBpYW1DbGllbnQgPSBuZXcgSUFNQ2xpZW50KHsgcmVnaW9uOiAndXMtZWFzdC0xJyB9KTtcbiAgICBjb25zdCBpYW1Vc2VySW5mbyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxpc3RVc2Vyc0NvbW1hbmQgPSBuZXcgTGlzdFVzZXJzQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IGxpc3RVc2Vyc1Jlc3BvbnNlID0gYXdhaXQgaWFtQ2xpZW50LnNlbmQobGlzdFVzZXJzQ29tbWFuZCk7XG4gICAgICAgIGZvciAoY29uc3QgdXNlciBvZiBsaXN0VXNlcnNSZXNwb25zZS5Vc2VycyB8fCBbXSkge1xuICAgICAgICAgICAgY29uc3QgdXNlck5hbWUgPSB1c2VyLlVzZXJOYW1lIHx8IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBsaXN0QWNjZXNzS2V5c0NvbW1hbmQgPSBuZXcgTGlzdEFjY2Vzc0tleXNDb21tYW5kKHtcbiAgICAgICAgICAgICAgICBVc2VyTmFtZTogdXNlck5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RBY2Nlc3NLZXlzUmVzcG9uc2UgPSBhd2FpdCBpYW1DbGllbnQuc2VuZChsaXN0QWNjZXNzS2V5c0NvbW1hbmQpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzS2V5cyA9IGxpc3RBY2Nlc3NLZXlzUmVzcG9uc2UuQWNjZXNzS2V5TWV0YWRhdGEgfHwgW107XG4gICAgICAgICAgICBpZiAoYWNjZXNzS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhY2Nlc3NLZXkgb2YgYWNjZXNzS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXlJZCA9IGFjY2Vzc0tleS5BY2Nlc3NLZXlJZCB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZXRMYXN0VXNlZENvbW1hbmQgPSBuZXcgR2V0QWNjZXNzS2V5TGFzdFVzZWRDb21tYW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFjY2Vzc0tleUlkOiBhY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RVc2VkUmVzcG9uc2UgPSBhd2FpdCBpYW1DbGllbnQuc2VuZChnZXRMYXN0VXNlZENvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZFVzZXJJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVc2VkOiBsYXN0VXNlZFJlc3BvbnNlICYmIGxhc3RVc2VkUmVzcG9uc2UuQWNjZXNzS2V5TGFzdFVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke2xhc3RVc2VkUmVzcG9uc2UuQWNjZXNzS2V5TGFzdFVzZWQuTGFzdFVzZWREYXRlfWAgfHwgXCJOb3QgYXZhaWxhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiTm90IGF2YWlsYWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpYW1Vc2VySW5mby5wdXNoKGZvdW5kVXNlckluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kVXNlckluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpYW1Vc2VySW5mby5wdXNoKGZvdW5kVXNlckluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlhbUNsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiBpYW1Vc2VySW5mbztcbn07XG5leHBvcnQgZGVmYXVsdCBjaGVja0lhbVVzZXJzO1xuIiwiaW1wb3J0IHsgRUMyQ2xpZW50LCBEZXNjcmliZUluc3RhbmNlc0NvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWVjMlwiO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tFYzJFeGlzdHMocmVnaW9ucykge1xuICAgIGxldCBlYzJWYWxpZGF0aW9uID0gW107XG4gICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVnaW9ucykge1xuICAgICAgICBjb25zdCBlYzJDbGllbnQgPSBuZXcgRUMyQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IERlc2NyaWJlSW5zdGFuY2VzQ29tbWFuZCh7fSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVjMkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlJlc2VydmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5SZXNlcnZhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBXQVJOSU5HOiBJbnN0YW5jZShzKSBleGlzdHMgaW4gcmVnaW9uOiAke3JlZ2lvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWMyRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVjMkZvdW5kOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGVjMlZhbGlkYXRpb24ucHVzaChlYzJGb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlYzJGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWMyRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGVjMlZhbGlkYXRpb24ucHVzaChlYzJGb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWMyRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICBlYzJGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGVjMlZhbGlkYXRpb24ucHVzaChlYzJGb3VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgY2hlY2tpbmcgaW5zdGFuY2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBlYzJDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfSAvLyBlbmQgZm9yXG4gICAgcmV0dXJuIGVjMlZhbGlkYXRpb247XG59XG47XG5leHBvcnQgZGVmYXVsdCBjaGVja0VjMkV4aXN0cztcbiIsImltcG9ydCB7IEVDMkNsaWVudCwgRGVzY3JpYmVWcGNzQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtZWMyXCI7XG5hc3luYyBmdW5jdGlvbiBjaGVja1ZwY0V4aXN0cyhyZWdpb25zKSB7XG4gICAgbGV0IHZwY1ZhbGlkYXRpb24gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGVjMkNsaWVudCA9IG5ldyBFQzJDbGllbnQoeyByZWdpb24gfSk7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgRGVzY3JpYmVWcGNzQ29tbWFuZCh7fSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVjMkNsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlZwY3MpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuVnBjcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFdBUk5JTkc6IFZQQyhzKSBleGlzdHMgaW4gcmVnaW9uOiAke3JlZ2lvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdnBjRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZwY0ZvdW5kOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZwY1ZhbGlkYXRpb24ucHVzaCh2cGNGb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2cGNGb3VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdnBjRm91bmQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZwY1ZhbGlkYXRpb24ucHVzaCh2cGNGb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdnBjRm91bmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICB2cGNGb3VuZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZwY1ZhbGlkYXRpb24ucHVzaCh2cGNGb3VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgY2hlY2tpbmcgaW5zdGFuY2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBlYzJDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfSAvLyBlbmQgZm9yXG4gICAgcmV0dXJuIHZwY1ZhbGlkYXRpb247XG59XG47XG5leHBvcnQgZGVmYXVsdCBjaGVja1ZwY0V4aXN0cztcbiIsImltcG9ydCB7IENsb3VkVHJhaWxDbGllbnQsIERlc2NyaWJlVHJhaWxzQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsJztcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQ2xvdWRUcmFpbEV4aXN0cyhyZWdpb25zKSB7XG4gICAgbGV0IGNsb3VkVHJhaWxWYWxpZGF0aW9uID0gW107XG4gICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVnaW9ucykge1xuICAgICAgICBjb25zdCBjbG91ZFRyYWlsQ2xpZW50ID0gbmV3IENsb3VkVHJhaWxDbGllbnQoeyByZWdpb24gfSk7XG4gICAgICAgIGNvbnN0IGNsb3VkVHJhaWxEZXNjcmliZUNvbW1hbmQgPSBuZXcgRGVzY3JpYmVUcmFpbHNDb21tYW5kKHt9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNsb3VkVHJhaWxSZXNwb25zZSA9IGF3YWl0IGNsb3VkVHJhaWxDbGllbnQuc2VuZChjbG91ZFRyYWlsRGVzY3JpYmVDb21tYW5kKTtcbiAgICAgICAgICAgIGlmIChjbG91ZFRyYWlsUmVzcG9uc2UudHJhaWxMaXN0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmFpbCBvZiBjbG91ZFRyYWlsUmVzcG9uc2UudHJhaWxMaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0cmFpbEluZm8gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWlsLkhvbWVSZWdpb24gPT0gcmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGB0cmFpbCBmb3VuZCBpbiAke3JlZ2lvbn1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsRm91bmQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcmdUcmFpbDogdHJhaWwuSXNNdWx0aVJlZ2lvblRyYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTXVsdGlSZWdpb246IHRyYWlsLklzTXVsdGlSZWdpb25UcmFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpbEZvdW5kOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjbG91ZFRyYWlsVmFsaWRhdGlvbi5wdXNoKHRyYWlsSW5mbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGNoZWNraW5nIGluc3RhbmNlOiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY2xvdWRUcmFpbENsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9IC8vIGVuZCBmb3IgcmVnaW9uc1xuICAgIHJldHVybiBjbG91ZFRyYWlsVmFsaWRhdGlvbjtcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrQ2xvdWRUcmFpbEV4aXN0cztcbiIsImltcG9ydCB7IENvbmZpZ1NlcnZpY2VDbGllbnQsIERlc2NyaWJlQ29uZmlndXJhdGlvblJlY29yZGVyU3RhdHVzQ29tbWFuZCwgRGVzY3JpYmVEZWxpdmVyeUNoYW5uZWxzQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1jb25maWctc2VydmljZSc7XG5hc3luYyBmdW5jdGlvbiBjaGVja0NvbmZpZ0V4aXN0cyhyZWdpb25zKSB7XG4gICAgbGV0IGNvbmZpZ0RldGFpbHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ1NlcnZpY2VDbGllbnQgPSBuZXcgQ29uZmlnU2VydmljZUNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgbGV0IGNvbmZpZ0RldGFpbCA9IHtcbiAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgY29uZmlnUmVjb3JkZXJGb3VuZDogZmFsc2UsXG4gICAgICAgICAgICBjb25maWdEZWxpdmVyeUNoYW5uZWxGb3VuZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIENvbmZpZyByZWNvcmRlciBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZGVyUmVzcG9uc2UgPSBhd2FpdCBjb25maWdTZXJ2aWNlQ2xpZW50LnNlbmQobmV3IERlc2NyaWJlQ29uZmlndXJhdGlvblJlY29yZGVyU3RhdHVzQ29tbWFuZCh7fSkpO1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkZXJFeGlzdHMgPSByZWNvcmRlclJlc3BvbnNlLkNvbmZpZ3VyYXRpb25SZWNvcmRlcnNTdGF0dXM/Lmxlbmd0aCAhPT0gMDtcbiAgICAgICAgICAgIGlmIChyZWNvcmRlckV4aXN0cykge1xuICAgICAgICAgICAgICAgIGNvbmZpZ0RldGFpbC5jb25maWdSZWNvcmRlckZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIENvbmZpZyBkZWxpdmVyeSBjaGFubmVsIGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbFJlc3BvbnNlID0gYXdhaXQgY29uZmlnU2VydmljZUNsaWVudC5zZW5kKG5ldyBEZXNjcmliZURlbGl2ZXJ5Q2hhbm5lbHNDb21tYW5kKHt9KSk7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRXhpc3RzID0gY2hhbm5lbFJlc3BvbnNlLkRlbGl2ZXJ5Q2hhbm5lbHM/Lmxlbmd0aCAhPT0gMDtcbiAgICAgICAgICAgIGlmIChjaGFubmVsRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnRGV0YWlsLmNvbmZpZ0RlbGl2ZXJ5Q2hhbm5lbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZ0RldGFpbHMucHVzaChjb25maWdEZXRhaWwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY2hlY2tpbmcgQVdTIENvbmZpZyBpbiAke3JlZ2lvbn06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY29uZmlnU2VydmljZUNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZ0RldGFpbHM7XG59XG5leHBvcnQgZGVmYXVsdCBjaGVja0NvbmZpZ0V4aXN0cztcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIERlc2NyaWJlT3JnYW5pemF0aW9uQ29tbWFuZCwgTGlzdFJvb3RzQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JnRGV0YWlscyhyZWdpb24pIHtcbiAgICBjb25zdCBvcmdDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgb3JnRGV0YWlscyA9IHt9O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9yZ0Rlc2NyaWJlQ29tbWFuZCA9IG5ldyBEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCBvcmdEYXRhID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQob3JnRGVzY3JpYmVDb21tYW5kKTtcbiAgICAgICAgaWYgKG9yZ0RhdGEuT3JnYW5pemF0aW9uKSB7XG4gICAgICAgICAgICBvcmdEZXRhaWxzLmlkID0gb3JnRGF0YS5Pcmdhbml6YXRpb24uSWQgPz8gXCJcIjtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBPcmdhbml6YXRpb24gSUQ6ICR7b3JnRGV0YWlscy5pZH1gICk7XG4gICAgICAgICAgICBvcmdEZXRhaWxzLmFybiA9IG9yZ0RhdGEuT3JnYW5pemF0aW9uLkFybiA/PyBcIlwiO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYE9yZ2FuaXphdGlvbiBBUk46ICR7b3JnRGV0YWlscy5hcm59YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0Um9vdHNDb21tYW5kKHt9KTtcbiAgICAgICAgY29uc3Qgcm9vdHMgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgaWYgKHJvb3RzLlJvb3RzKSB7XG4gICAgICAgICAgICBvcmdEZXRhaWxzLnJvb3RPdUlkID0gcm9vdHMuUm9vdHNbMF0uSWQ7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgQVdTIE9yZyByb290IG91IGlkOiAke29yZ0RldGFpbHMucm9vdE91SWR9YClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBpbmZvIGZvdW5kIGZvciB5b3VyIEFXUyBPcmdhbml6YXRpb24uJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuIGVycm9yIG9jY3VycmVkOiAke2Vycm9yfWApO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIG9yZ0RldGFpbHM7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnRGV0YWlscztcbiIsImltcG9ydCB7IENvc3RBbmRVc2FnZVJlcG9ydFNlcnZpY2VDbGllbnQsIERlc2NyaWJlUmVwb3J0RGVmaW5pdGlvbnNDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1jb3N0LWFuZC11c2FnZS1yZXBvcnQtc2VydmljZVwiO1xuY29uc3QgY2hlY2tMZWdhY3lDdXIgPSBhc3luYyAocmVnaW9uKSA9PiB7XG4gICAgLy8gU2V0IHVwIEFXUyBTREsgY2xpZW50IGZvciBDb3N0IEV4cGxvcmVyXG4gICAgY29uc3QgY3VyQ2xpZW50ID0gbmV3IENvc3RBbmRVc2FnZVJlcG9ydFNlcnZpY2VDbGllbnQoeyByZWdpb24gfSk7XG4gICAgbGV0IGlzTGVnYWN5Q3VyU2V0dXAgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBpZiBDb3N0IEV4cGxvcmVyIGlzIHNldCB1cFxuICAgICAgICBjb25zdCBpbnB1dCA9IHt9O1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IERlc2NyaWJlUmVwb3J0RGVmaW5pdGlvbnNDb21tYW5kKGlucHV0KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjdXJDbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLlJlcG9ydERlZmluaXRpb25zICYmIHJlc3BvbnNlLlJlcG9ydERlZmluaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlzTGVnYWN5Q3VyU2V0dXAgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGlzTGVnYWN5Q3VyU2V0dXAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBlcnJvciBpcyByZWxhdGVkIHRvIENvc3QgRXhwbG9yZXIgc2V0dXBcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgICAgIGlzTGVnYWN5Q3VyU2V0dXAgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHsgaXNMZWdhY3lDdXJTZXR1cCB9O1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgLy8gQ2xvc2UgdGhlIEFXUyBTREsgY2xpZW50XG4gICAgICAgIGN1ckNsaWVudC5kZXN0cm95KCk7XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGNoZWNrTGVnYWN5Q3VyO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgTGlzdFJvb3RzQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0RW5hYmxlZE9yZ1BvbGljeVR5cGVzKHJlZ2lvbikge1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIGxldCBwb2xpY3lUeXBlc0VuYWJsZWQgPSB7XG4gICAgICAgIHNjcEVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICB0YWdQb2xpY3lFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgYmFja3VwUG9saWN5RW5hYmxlZDogZmFsc2VcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdFJvb3RzQ29tbWFuZChpbnB1dCk7XG4gICAgICAgIGNvbnN0IHJvb3RzID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIGlmIChyb290cy5Sb290cykge1xuICAgICAgICAgICAgaWYgKHJvb3RzLlJvb3RzWzBdLlBvbGljeVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbmFibGVkUG9saWN5IG9mIHJvb3RzLlJvb3RzWzBdLlBvbGljeVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGVkUG9saWN5LlR5cGUgPT0gJ1NFUlZJQ0VfQ09OVFJPTF9QT0xJQ1knICYmIGVuYWJsZWRQb2xpY3kuU3RhdHVzID09ICdFTkFCTEVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9saWN5VHlwZXNFbmFibGVkLnNjcEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGVkUG9saWN5LlR5cGUgPT0gJ1RBR19QT0xJQ1knICYmIGVuYWJsZWRQb2xpY3kuU3RhdHVzID09ICdFTkFCTEVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9saWN5VHlwZXNFbmFibGVkLnRhZ1BvbGljeUVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGVkUG9saWN5LlR5cGUgPT0gJ0JBQ0tVUF9QT0xJQ1knICYmIGVuYWJsZWRQb2xpY3kuU3RhdHVzID09ICdFTkFCTEVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9saWN5VHlwZXNFbmFibGVkLmJhY2t1cFBvbGljeUVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAvLyBlbmQgZm9yXG4gICAgICAgICAgICB9IC8vIGVuZCBpZlxuICAgICAgICB9IC8vIGVuZCBpZlxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdDbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gcG9saWN5VHlwZXNFbmFibGVkO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGdldEVuYWJsZWRPcmdQb2xpY3lUeXBlcztcbiIsImltcG9ydCB7IE9yZ2FuaXphdGlvbnNDbGllbnQsIExpc3RBV1NTZXJ2aWNlQWNjZXNzRm9yT3JnYW5pemF0aW9uQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtb3JnYW5pemF0aW9uc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0RW5hYmxlZE9yZ1NlcnZpY2VzKHJlZ2lvbikge1xuICAgIGNvbnN0IGRpc2NvdmVyZWRPcmdTZXJ2aWNlcyA9IFtdO1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9yZ1NlcnZpY2VBY2Nlc3NDb21tYW5kID0gbmV3IExpc3RBV1NTZXJ2aWNlQWNjZXNzRm9yT3JnYW5pemF0aW9uQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IG9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKG9yZ1NlcnZpY2VBY2Nlc3NDb21tYW5kKTtcbiAgICAgICAgaWYgKG9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZS5FbmFibGVkU2VydmljZVByaW5jaXBhbHMgJiYgb3JnU2VydmljZUFjY2Vzc1Jlc3BvbnNlLkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvcmdTZXJ2aWNlQWNjZXNzUmVzcG9uc2UuRW5hYmxlZFNlcnZpY2VQcmluY2lwYWxzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcmdTZXJ2aWNlIG9mIG9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZS5FbmFibGVkU2VydmljZVByaW5jaXBhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZE9yZ1NlcnZpY2UgPSB7IHNlcnZpY2U6IG9yZ1NlcnZpY2UuU2VydmljZVByaW5jaXBhbCA/PyBcIlwiIH07XG4gICAgICAgICAgICAgICAgZGlzY292ZXJlZE9yZ1NlcnZpY2VzLnB1c2goZm91bmRPcmdTZXJ2aWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgc2VydmljZSBhY2Nlc3M6JywgZXJyb3IpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgb3JnQ2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIGRpc2NvdmVyZWRPcmdTZXJ2aWNlcztcbiAgICB9XG59XG47XG5leHBvcnQgZGVmYXVsdCBnZXRFbmFibGVkT3JnU2VydmljZXM7XG4iLCJpbXBvcnQgeyBDbG91ZEZvcm1hdGlvbkNsaWVudCwgRGVzY3JpYmVPcmdhbml6YXRpb25zQWNjZXNzQ29tbWFuZCwgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkZm9ybWF0aW9uXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRPcmdDbG91ZEZvcm1hdGlvbihyZWdpb24pIHtcbiAgICBsZXQgb3JnQ2ZuU3RhdHVzID0ge1xuICAgICAgICBzdGF0dXM6IFwiZGlzYWJsZWRcIlxuICAgIH07XG4gICAgY29uc3QgY2xvdWRGb3JtYXRpb25DbGllbnQgPSBuZXcgQ2xvdWRGb3JtYXRpb25DbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVzY3JpYmVPcmdBY2Nlc3NJbnB1dCA9IHt9O1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IERlc2NyaWJlT3JnYW5pemF0aW9uc0FjY2Vzc0NvbW1hbmQoZGVzY3JpYmVPcmdBY2Nlc3NJbnB1dCk7XG4gICAgICAgIGNvbnN0IGNsb3VkRm9ybWF0aW9uT3JnQWNjZXNzID0gYXdhaXQgY2xvdWRGb3JtYXRpb25DbGllbnQuc2VuZChjb21tYW5kKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNsb3VkRm9ybWF0aW9uIGFjdGl2YXRpb24gc3RhdHVzOiBcIiwgY2xvdWRGb3JtYXRpb25PcmdBY2Nlc3MuU3RhdHVzKVxuICAgICAgICBvcmdDZm5TdGF0dXMuc3RhdHVzID0gY2xvdWRGb3JtYXRpb25PcmdBY2Nlc3MuU3RhdHVzID8/IFwiZGlzYWJsZWRcIjtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoYEVycm9yOiAke2Vycm9yfWApO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgY2xvdWRGb3JtYXRpb25DbGllbnQuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gb3JnQ2ZuU3RhdHVzO1xuICAgIH1cbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldE9yZ0Nsb3VkRm9ybWF0aW9uO1xuIiwiaW1wb3J0IHsgQ29udHJvbFRvd2VyQ2xpZW50LCBMaXN0TGFuZGluZ1pvbmVzQ29tbWFuZCwgR2V0TGFuZGluZ1pvbmVDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1jb250cm9sdG93ZXJcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldENvbnRyb2xUb3dlcihyZWdpb24pIHtcbiAgICBsZXQgY29udHJvbFRvd2VySW5mbyA9IHt9O1xuICAgIGNvbnN0IGNvbnRyb2xUb3dlckNsaWVudCA9IG5ldyBDb250cm9sVG93ZXJDbGllbnQoeyByZWdpb24gfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBMaXN0TGFuZGluZ1pvbmVzQ29tbWFuZCh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY29udHJvbFRvd2VyQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmxhbmRpbmdab25lcywgbnVsbCwgMikpO1xuICAgICAgICBpZiAocmVzcG9uc2UubGFuZGluZ1pvbmVzICYmIHJlc3BvbnNlLmxhbmRpbmdab25lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgICAgICAgICAgICBsYW5kaW5nWm9uZUlkZW50aWZpZXI6IHJlc3BvbnNlLmxhbmRpbmdab25lc1swXS5hcm4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbHpSZWdpb24gPSByZXNwb25zZS5sYW5kaW5nWm9uZXNbMF0uYXJuPy50b1N0cmluZygpLnNwbGl0KCc6JylbM10gPz8gXCJcIjtcbiAgICAgICAgICAgIGlmIChselJlZ2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xUb3dlckluZm8uY29udHJvbFRvd2VyUmVnaW9uID0gbHpSZWdpb247XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFRvd2VyQ2xpZW50UmVnaW9uID0gbmV3IENvbnRyb2xUb3dlckNsaWVudCh7IHJlZ2lvbjogbHpSZWdpb24gfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBHZXRMYW5kaW5nWm9uZUNvbW1hbmQoaW5wdXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGx6UmVzcG9uc2UgPSBhd2FpdCBjb250cm9sVG93ZXJDbGllbnRSZWdpb24uc2VuZChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICBpZiAobHpSZXNwb25zZS5sYW5kaW5nWm9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShselJlc3BvbnNlLmxhbmRpbmdab25lLCBudWxsLCAyKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xUb3dlckluZm8uc3RhdHVzID0gbHpSZXNwb25zZS5sYW5kaW5nWm9uZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xUb3dlckluZm8ubGF0ZXN0QXZhaWxhYmxlVmVyc2lvbiA9IGx6UmVzcG9uc2UubGFuZGluZ1pvbmUubGF0ZXN0QXZhaWxhYmxlVmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFRvd2VySW5mby5kZXBsb3llZFZlcnNpb24gPSBselJlc3BvbnNlLmxhbmRpbmdab25lLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xUb3dlckluZm8uZHJpZnRTdGF0dXMgPSBselJlc3BvbnNlLmxhbmRpbmdab25lLmRyaWZ0U3RhdHVzPy5zdGF0dXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBDb250cm9sIFRvd2VyIGluICR7cmVnaW9ufTpgLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBjb250cm9sVG93ZXJDbGllbnQuZGVzdHJveSgpO1xuICAgIH1cbiAgICByZXR1cm4gY29udHJvbFRvd2VySW5mbztcbn1cbmV4cG9ydCBkZWZhdWx0IGdldENvbnRyb2xUb3dlcjtcbiIsImltcG9ydCB7IFNTT0FkbWluQ2xpZW50LCBMaXN0SW5zdGFuY2VzQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3NvLWFkbWluXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRJZGNJbmZvKHJlZ2lvbkxpc3QpIHtcbiAgICBsZXQgaWRjRGV0YWlscyA9IHsgZm91bmQ6IGZhbHNlIH07XG4gICAgZm9yIChjb25zdCByZWdpb24gb2YgcmVnaW9uTGlzdCkge1xuICAgICAgICBjb25zdCBzc29BZG1pbkNsaWVudCA9IG5ldyBTU09BZG1pbkNsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNzb0lucHV0ID0ge1xuICAgICAgICAgICAgICAgIE1heFJlc3VsdHM6IE51bWJlcihcIjEwMFwiKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdEluc3RhbmNlc0NvbW1hbmQoc3NvSW5wdXQpO1xuICAgICAgICAgICAgY29uc3Qgc3NvSW5zdGFuY2VSZXNwb25zZSA9IGF3YWl0IHNzb0FkbWluQ2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgICAgICAgICBpZiAoc3NvSW5zdGFuY2VSZXNwb25zZS5JbnN0YW5jZXMgJiYgc3NvSW5zdGFuY2VSZXNwb25zZS5JbnN0YW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNzb0luc3RhbmNlID0gc3NvSW5zdGFuY2VSZXNwb25zZS5JbnN0YW5jZXNbMF07XG4gICAgICAgICAgICAgICAgaWRjRGV0YWlscy5mb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWRjRGV0YWlscy5yZWdpb24gPSByZWdpb247XG4gICAgICAgICAgICAgICAgaWRjRGV0YWlscy5hcm4gPSBzc29JbnN0YW5jZS5JbnN0YW5jZUFybjtcbiAgICAgICAgICAgICAgICBpZGNEZXRhaWxzLmlkID0gc3NvSW5zdGFuY2UuSWRlbnRpdHlTdG9yZUlkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGxvb2tpbmcgZm9yIEFXUyBJZGVudGl0eSBDZW50ZXIgZGV0YWlscyBpbiByZWdpb24gJHtyZWdpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzc29BZG1pbkNsaWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlkY0RldGFpbHM7XG59XG47XG5leHBvcnQgZGVmYXVsdCBnZXRJZGNJbmZvO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgTGlzdERlbGVnYXRlZEFkbWluaXN0cmF0b3JzQ29tbWFuZCwgTGlzdERlbGVnYXRlZFNlcnZpY2VzRm9yQWNjb3VudENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ0RhQWNjb3VudHMoKSB7XG4gICAgbGV0IG9yZ0RhRGV0YWlscyA9IFtdO1xuICAgIGNvbnN0IG9yZ0NsaWVudCA9IG5ldyBPcmdhbml6YXRpb25zQ2xpZW50KHsgcmVnaW9uOiAndXMtZWFzdC0xJyB9KTtcbiAgICBsZXQgb3JnRGFEZXRhaWwgPSB7fTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb21tYW5kID0gbmV3IExpc3REZWxlZ2F0ZWRBZG1pbmlzdHJhdG9yc0NvbW1hbmQoe30pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICBpZiAocmVzcG9uc2UuRGVsZWdhdGVkQWRtaW5pc3RyYXRvcnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGEgb2YgcmVzcG9uc2UuRGVsZWdhdGVkQWRtaW5pc3RyYXRvcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IHsgQWNjb3VudElkOiBkYS5JZCB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgTGlzdERlbGVnYXRlZFNlcnZpY2VzRm9yQWNjb3VudENvbW1hbmQoaW5wdXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRSZXNwb25zZSA9IGF3YWl0IG9yZ0NsaWVudC5zZW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50UmVzcG9uc2UuRGVsZWdhdGVkU2VydmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JnRGFEZXRhaWwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlczogYWNjb3VudFJlc3BvbnNlLkRlbGVnYXRlZFNlcnZpY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudE5hbWU6IGRhLk5hbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgb3JnRGFEZXRhaWxzLnB1c2gob3JnRGFEZXRhaWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGxvb2tpbmcgZm9yIGRlbGVnYXRlZCBzZXJ2aWNlcy5gKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiBvcmdEYURldGFpbHM7XG59XG47XG5leHBvcnQgZGVmYXVsdCBnZXRPcmdEYUFjY291bnRzO1xuIiwiaW1wb3J0IHsgT3JnYW5pemF0aW9uc0NsaWVudCwgTGlzdEFjY291bnRzQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1vcmdhbml6YXRpb25zJztcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ01lbWJlckFjY291bnRzKCkge1xuICAgIGxldCBvcmdNZW1iZXJBY2NvdW50SW5mbyA9IFtdO1xuICAgIGNvbnN0IG9yZ3NDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbjogJ3VzLWVhc3QtMScgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcmdzQ2xpZW50LnNlbmQobmV3IExpc3RBY2NvdW50c0NvbW1hbmQoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLkFjY291bnRzICYmIHJlc3BvbnNlLkFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiByZXNwb25zZS5BY2NvdW50cykge1xuICAgICAgICAgICAgICAgIGxldCBvcmdNZW1iZXJBY2NvdW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50TmFtZTogYWNjb3VudC5OYW1lLFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50RW1haWw6IGFjY291bnQuRW1haWwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvcmdNZW1iZXJBY2NvdW50SW5mby5wdXNoKG9yZ01lbWJlckFjY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0aW5nIEFXUyBhY2NvdW50czonLCBlcnJvcik7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBvcmdzQ2xpZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcmV0dXJuIG9yZ01lbWJlckFjY291bnRJbmZvO1xufVxuZXhwb3J0IGRlZmF1bHQgZ2V0T3JnTWVtYmVyQWNjb3VudHM7XG4iLCJpbXBvcnQgeyBPcmdhbml6YXRpb25zQ2xpZW50LCBMaXN0T3JnYW5pemF0aW9uYWxVbml0c0ZvclBhcmVudENvbW1hbmQsIExpc3RBY2NvdW50c0ZvclBhcmVudENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LW9yZ2FuaXphdGlvbnNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldE9yZ1RvcExldmVsT3VzKHJlZ2lvbiwgcm9vdE91SWQpIHtcbiAgICBjb25zdCBvcmdDbGllbnQgPSBuZXcgT3JnYW5pemF0aW9uc0NsaWVudCh7IHJlZ2lvbiB9KTtcbiAgICBsZXQgdG9wTGV2ZWxPdXMgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBsaXN0T1VzQ29tbWFuZCA9IG5ldyBMaXN0T3JnYW5pemF0aW9uYWxVbml0c0ZvclBhcmVudENvbW1hbmQoe1xuICAgICAgICAgICAgUGFyZW50SWQ6IHJvb3RPdUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbGlzdE9Vc1Jlc3BvbnNlID0gYXdhaXQgb3JnQ2xpZW50LnNlbmQobGlzdE9Vc0NvbW1hbmQpO1xuICAgICAgICBpZiAobGlzdE9Vc1Jlc3BvbnNlLk9yZ2FuaXphdGlvbmFsVW5pdHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3Ugb2YgbGlzdE9Vc1Jlc3BvbnNlLk9yZ2FuaXphdGlvbmFsVW5pdHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9wTGV2ZWxPdSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG91LklkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvdS5OYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50UmVzcG9uc2UgPSBhd2FpdCBvcmdDbGllbnQuc2VuZChuZXcgTGlzdEFjY291bnRzRm9yUGFyZW50Q29tbWFuZCh7IFBhcmVudElkOiBvdS5JZCB9KSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnRSZXNwb25zZS5BY2NvdW50cyAmJiBhY2NvdW50UmVzcG9uc2UuQWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbE91LmFjY291bnRzID0gYWNjb3VudFJlc3BvbnNlLkFjY291bnRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b3BMZXZlbE91cy5wdXNoKHRvcExldmVsT3UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBzZXJ2aWNlIGFjY2VzczonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIG9yZ0NsaWVudC5kZXN0cm95KCk7XG4gICAgfVxuICAgIHJldHVybiB0b3BMZXZlbE91cztcbn1cbjtcbmV4cG9ydCBkZWZhdWx0IGdldE9yZ1RvcExldmVsT3VzO1xuIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJXYXlwb2ludCIsIlRvcExldmVsT3VzIiwiYXN5bmMiLCJkZXBsb3lPdVRhc2siLCJ0YXNrTnVtYmVyIiwid2F5cG9pbnQiLCJPdU5hbWUiLCJyZW1vdmVJYW1Vc2VyVGFzayIsIklhbVVzZXJOYW1lIiwicmVtb3ZlSWFtVXNlckFwaUtleVRhc2siLCJJYW1Vc2VyQXBpS2V5SWQiLCJkZWxldGVWcGMiLCJyZWdpb24iLCJkZWxldGVFYzIiLCJlbmFibGVBd3NPcmdhbml6YXRpb25TZXJ2aWNlIiwic2VydmljZU5hbWUiLCJkZWxlZ2F0ZUFkbWluaXN0cmF0aW9uQXdzU2VydmljZSIsInJlcG9ydEZpbGUiLCJkYXRlVGltZSIsIkRhdGUiLCJwcm9jZXNzIiwiZW52IiwiQVdTX1JFR0lPTiIsImFsbFJlZ2lvbnMiLCJlYzJDbGllbnQiLCJFQzJDbGllbnQiLCJkZXNjcmliZVJlZ2lvbnNDb21tYW5kIiwiRGVzY3JpYmVSZWdpb25zQ29tbWFuZCIsInJlc3BvbnNlIiwic2VuZCIsInJlZ2lvbnMiLCJSZWdpb25zIiwicHVzaCIsIlJlZ2lvbk5hbWUiLCJlcnJvciIsImNvbnNvbGUiLCJkZXN0cm95IiwibG9nIiwiYWNjb3VudFR5cGUiLCJvcmdhbml6YXRpb25zQ2xpZW50IiwiT3JnYW5pemF0aW9uc0NsaWVudCIsImlzSW5Pcmdhbml6YXRpb24iLCJpc01hbmFnZW1lbnRBY2NvdW50IiwiY3VycmVudEFjY291bnRJZCIsInN0c0NsaWVudCIsIlNUU0NsaWVudCIsImdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsIkdldENhbGxlcklkZW50aXR5Q29tbWFuZCIsIkFjY291bnQiLCJnZXRBY2NvdW50SWQiLCJkZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJEZXNjcmliZU9yZ2FuaXphdGlvbkNvbW1hbmQiLCJkZXNjcmliZU9yZ2FuaXphdGlvblJlc3BvbnNlIiwiT3JnYW5pemF0aW9uIiwiTWFzdGVyQWNjb3VudElkIiwibWFuYWdlbWVudEFjY291bnRJZCIsImRlZmluZUFjY291bnRUeXBlIiwidG9VVENTdHJpbmciLCJkaXIiLCJkZXB0aCIsImNvbG9ycyIsImlhbVVzZXJSZXN1bHQiLCJpYW1DbGllbnQiLCJJQU1DbGllbnQiLCJpYW1Vc2VySW5mbyIsImxpc3RVc2Vyc0NvbW1hbmQiLCJMaXN0VXNlcnNDb21tYW5kIiwibGlzdFVzZXJzUmVzcG9uc2UiLCJ1c2VyIiwiVXNlcnMiLCJ1c2VyTmFtZSIsIlVzZXJOYW1lIiwibGlzdEFjY2Vzc0tleXNDb21tYW5kIiwiTGlzdEFjY2Vzc0tleXNDb21tYW5kIiwiYWNjZXNzS2V5cyIsIkFjY2Vzc0tleU1ldGFkYXRhIiwibGVuZ3RoIiwiYWNjZXNzS2V5IiwiYWNjZXNzS2V5SWQiLCJBY2Nlc3NLZXlJZCIsImdldExhc3RVc2VkQ29tbWFuZCIsIkdldEFjY2Vzc0tleUxhc3RVc2VkQ29tbWFuZCIsImxhc3RVc2VkUmVzcG9uc2UiLCJmb3VuZFVzZXJJbmZvIiwibGFzdFVzZWQiLCJBY2Nlc3NLZXlMYXN0VXNlZCIsIkxhc3RVc2VkRGF0ZSIsImlhbVVzZXIiLCJlYzJDaGVjayIsImVjMlZhbGlkYXRpb24iLCJjb21tYW5kIiwiRGVzY3JpYmVJbnN0YW5jZXNDb21tYW5kIiwiUmVzZXJ2YXRpb25zIiwiZWMyRm91bmQiLCJmaW5kIiwicGFyYW0iLCJlYzIiLCJ2cGNDaGVjayIsInZwY1ZhbGlkYXRpb24iLCJEZXNjcmliZVZwY3NDb21tYW5kIiwiVnBjcyIsInZwY0ZvdW5kIiwidnBjRmluZCIsImNsb3VkVHJhaWxDaGVjayIsImNsb3VkVHJhaWxWYWxpZGF0aW9uIiwiY2xvdWRUcmFpbENsaWVudCIsIkNsb3VkVHJhaWxDbGllbnQiLCJjbG91ZFRyYWlsRGVzY3JpYmVDb21tYW5kIiwiRGVzY3JpYmVUcmFpbHNDb21tYW5kIiwiY2xvdWRUcmFpbFJlc3BvbnNlIiwidHJhaWxMaXN0IiwidHJhaWwiLCJ0cmFpbEluZm8iLCJIb21lUmVnaW9uIiwidHJhaWxGb3VuZCIsImlzT3JnVHJhaWwiLCJJc011bHRpUmVnaW9uVHJhaWwiLCJpc011bHRpUmVnaW9uIiwiY29uZmlnQ2hlY2siLCJjb25maWdEZXRhaWxzIiwiY29uZmlnU2VydmljZUNsaWVudCIsIkNvbmZpZ1NlcnZpY2VDbGllbnQiLCJjb25maWdEZXRhaWwiLCJjb25maWdSZWNvcmRlckZvdW5kIiwiY29uZmlnRGVsaXZlcnlDaGFubmVsRm91bmQiLCJyZWNvcmRlclJlc3BvbnNlIiwiRGVzY3JpYmVDb25maWd1cmF0aW9uUmVjb3JkZXJTdGF0dXNDb21tYW5kIiwiQ29uZmlndXJhdGlvblJlY29yZGVyc1N0YXR1cyIsImNoYW5uZWxSZXNwb25zZSIsIkRlc2NyaWJlRGVsaXZlcnlDaGFubmVsc0NvbW1hbmQiLCJEZWxpdmVyeUNoYW5uZWxzIiwiY29uZmlnRmluZCIsIm9yZ0RldGFpbHMiLCJvcmdDbGllbnQiLCJvcmdEZXNjcmliZUNvbW1hbmQiLCJvcmdEYXRhIiwiaWQiLCJJZCIsImFybiIsIkFybiIsIkxpc3RSb290c0NvbW1hbmQiLCJyb290cyIsIlJvb3RzIiwicm9vdE91SWQiLCJsZWdhY3lDdXJDaGVjayIsImN1ckNsaWVudCIsIkNvc3RBbmRVc2FnZVJlcG9ydFNlcnZpY2VDbGllbnQiLCJpc0xlZ2FjeUN1clNldHVwIiwiaW5wdXQiLCJEZXNjcmliZVJlcG9ydERlZmluaXRpb25zQ29tbWFuZCIsIlJlcG9ydERlZmluaXRpb25zIiwiZW5hYmxlT3JnUG9saWNpZXNDaGVjayIsInBvbGljeVR5cGVzRW5hYmxlZCIsInNjcEVuYWJsZWQiLCJ0YWdQb2xpY3lFbmFibGVkIiwiYmFja3VwUG9saWN5RW5hYmxlZCIsIlBvbGljeVR5cGVzIiwiZW5hYmxlZFBvbGljeSIsIlR5cGUiLCJTdGF0dXMiLCJvcmdFbmFibGVkU2VydmljZXMiLCJkaXNjb3ZlcmVkT3JnU2VydmljZXMiLCJvcmdTZXJ2aWNlQWNjZXNzQ29tbWFuZCIsIkxpc3RBV1NTZXJ2aWNlQWNjZXNzRm9yT3JnYW5pemF0aW9uQ29tbWFuZCIsIm9yZ1NlcnZpY2VBY2Nlc3NSZXNwb25zZSIsIkVuYWJsZWRTZXJ2aWNlUHJpbmNpcGFscyIsIm9yZ1NlcnZpY2UiLCJmb3VuZE9yZ1NlcnZpY2UiLCJzZXJ2aWNlIiwiU2VydmljZVByaW5jaXBhbCIsImNmbk9yZ1N0YXR1cyIsIm9yZ0NmblN0YXR1cyIsInN0YXR1cyIsImNsb3VkRm9ybWF0aW9uQ2xpZW50IiwiQ2xvdWRGb3JtYXRpb25DbGllbnQiLCJkZXNjcmliZU9yZ0FjY2Vzc0lucHV0IiwiRGVzY3JpYmVPcmdhbml6YXRpb25zQWNjZXNzQ29tbWFuZCIsImNsb3VkRm9ybWF0aW9uT3JnQWNjZXNzIiwiY29udHJvbFRvd2VyRGV0YWlscyIsImNvbnRyb2xUb3dlckluZm8iLCJjb250cm9sVG93ZXJDbGllbnQiLCJDb250cm9sVG93ZXJDbGllbnQiLCJMaXN0TGFuZGluZ1pvbmVzQ29tbWFuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJsYW5kaW5nWm9uZXMiLCJsYW5kaW5nWm9uZUlkZW50aWZpZXIiLCJselJlZ2lvbiIsInRvU3RyaW5nIiwic3BsaXQiLCJjb250cm9sVG93ZXJSZWdpb24iLCJjb250cm9sVG93ZXJDbGllbnRSZWdpb24iLCJHZXRMYW5kaW5nWm9uZUNvbW1hbmQiLCJselJlc3BvbnNlIiwibGFuZGluZ1pvbmUiLCJsYXRlc3RBdmFpbGFibGVWZXJzaW9uIiwiZGVwbG95ZWRWZXJzaW9uIiwidmVyc2lvbiIsImRyaWZ0U3RhdHVzIiwiaWRjSW5mb3JtYXRpb24iLCJyZWdpb25MaXN0IiwiaWRjRGV0YWlscyIsImZvdW5kIiwic3NvQWRtaW5DbGllbnQiLCJTU09BZG1pbkNsaWVudCIsInNzb0lucHV0IiwiTWF4UmVzdWx0cyIsIk51bWJlciIsIkxpc3RJbnN0YW5jZXNDb21tYW5kIiwic3NvSW5zdGFuY2VSZXNwb25zZSIsIkluc3RhbmNlcyIsInNzb0luc3RhbmNlIiwiSW5zdGFuY2VBcm4iLCJJZGVudGl0eVN0b3JlSWQiLCJvcmdEZWxBZG1pbkRldGFpbHMiLCJvcmdEYURldGFpbHMiLCJvcmdEYURldGFpbCIsIkxpc3REZWxlZ2F0ZWRBZG1pbmlzdHJhdG9yc0NvbW1hbmQiLCJEZWxlZ2F0ZWRBZG1pbmlzdHJhdG9ycyIsImRhIiwiQWNjb3VudElkIiwiTGlzdERlbGVnYXRlZFNlcnZpY2VzRm9yQWNjb3VudENvbW1hbmQiLCJhY2NvdW50UmVzcG9uc2UiLCJEZWxlZ2F0ZWRTZXJ2aWNlcyIsInNlcnZpY2VzIiwiYWNjb3VudE5hbWUiLCJOYW1lIiwib3JnTWVtYmVyQWNjb3VudERldGFpbHMiLCJvcmdNZW1iZXJBY2NvdW50SW5mbyIsIm9yZ3NDbGllbnQiLCJMaXN0QWNjb3VudHNDb21tYW5kIiwiQWNjb3VudHMiLCJhY2NvdW50Iiwib3JnTWVtYmVyQWNjb3VudCIsImFjY291bnRFbWFpbCIsIkVtYWlsIiwibWd0VGFza051bWJlciIsIm1hbmFnZW1lbnRBY2NvdW50V2F5cG9pbnQiLCJtZXNzYWdlIiwiY3RGaW5kIiwiZ292V2F5cG9pbnQiLCJnb3ZUYXNrTnVtYmVyIiwiZmluVGFza051bWJlciIsImZpbldheXBvaW50IiwidHJhbnNpdGlvbmFsRm91bmQiLCJzdXNwZW5kZWRGb3VuZCIsIndvcmtsb2Fkc0ZvdW5kIiwic2VjdXJpdHlGb3VuZCIsIm9yZ091cyIsInRvcExldmVsT3VzIiwibGlzdE9Vc0NvbW1hbmQiLCJMaXN0T3JnYW5pemF0aW9uYWxVbml0c0ZvclBhcmVudENvbW1hbmQiLCJQYXJlbnRJZCIsImxpc3RPVXNSZXNwb25zZSIsIk9yZ2FuaXphdGlvbmFsVW5pdHMiLCJvdSIsInRvcExldmVsT3UiLCJuYW1lIiwiTGlzdEFjY291bnRzRm9yUGFyZW50Q29tbWFuZCIsImFjY291bnRzIiwidG9Mb3dlckNhc2UiLCJtZW1iZXJBY2NvdW50IiwiaWRlbnRpdHlEZWxlZ2F0ZWQiLCJzZWN1cml0eUh1YkRlbGVnYXRlZCIsImd1YXJkRHV0eURlbGVnYXRlZCIsImNvbmZpZ0RlbGVnYXRlZCIsImlhbUFjY2Vzc0FuYWx5emVyRGVsZWdhdGVkIiwiczNTdG9yYWdlTGVuc0RlbGVnYXRlZCIsImlwYW1EZWxlZ2F0ZWQiLCJhY2NvdW50RGVsZWdhdGVkIiwiYmFja3VwRGVsZWdhdGVkIiwic3J2IiwibWFzVGFza051bWJlciIsIm1hc1dheXBvaW50IiwibHpUYXNrTnVtYmVyIiwibHpXYXlwb2ludCIsInVuZGVmaW5lZCIsImN1cnJlbnRWZXJzaW9uIiwibGF0ZXN0VmVyc2lvbiIsInNzb1Rhc2tOdW1iZXIiLCJzc29XYXlwb2ludCIsInNlY1Rhc2tOdW1iZXIiLCJzZWNXYXlwb2ludCIsIm5ldFRhc2tOdW1iZXIiLCJuZXR3b3JrV2F5cG9pbnQiLCJuZXRHdWFyZER1dHlFbmFibGVNZXNzYWdlIiwib2JUYXNrTnVtYmVyIiwib2JXYXlwb2ludCIsImJhY2tUYXNrTnVtYmVyIiwiYmFja3VwV2F5cG9pbnQiLCJ3YXJuIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=